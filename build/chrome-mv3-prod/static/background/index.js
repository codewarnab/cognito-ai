var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,a,s,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n="function"==typeof i[s]&&i[s],l=n.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,r){if(!l[e]){if(!t[e]){var a="function"==typeof i[s]&&i[s];if(!r&&a)return a(e,!0);if(n)return n(e,!0);if(c&&"string"==typeof e)return c(e);var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}h.resolve=function(r){var a=t[e][1][r];return null!=a?a:r},h.cache={};var d=l[e]=new u.Module(e);t[e][0].call(d.exports,h,d,d.exports,this)}return l[e].exports;function h(e){var t=h.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=l,u.parent=n,u.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return i[s]}}),i[s]=u;for(var d=0;d<r.length;d++)u(r[d]);if(a){var h=u(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):o&&(this[o]=h)}}({kgW6q:[function(e,t,r){e("../../../src/background")},{"../../../src/background":"fx8Od"}],fx8Od:[function(e,t,r){var a=e("@modelcontextprotocol/sdk/client/index.js"),s=e("@modelcontextprotocol/sdk/client/sse.js"),o=e("./mcp/notionClient"),i=e("./mcp/oauth"),n=e("./constants");let l=null,c=null,u=null,d={state:"disconnected"};async function h(){try{console.log("[Background] Starting Notion OAuth flow with dynamic client registration"),console.log("[Background] Registering dynamic client..."),d={state:"registering"},S();let e=await (0,i.registerDynamicClient)(n.NOTION_CONFIG.OAUTH_REDIRECT_URI);await (0,i.storeClientCredentials)(e),console.log("[Background] Dynamic client registered:",e.client_id);let t=(0,i.generateState)();u={state:t,codeVerifier:"",created_at:Date.now()};let r=(0,i.buildAuthUrl)(e.client_id,n.NOTION_CONFIG.OAUTH_REDIRECT_URI,t);console.log("[Background] Launching OAuth with URL:",r),d={state:"authorizing"},S();let a=await chrome.identity.launchWebAuthFlow({url:r,interactive:!0});if(!a)throw Error("OAuth flow cancelled");console.log("[Background] OAuth redirect URL:",a);let s=new URL(a),o=s.searchParams.get("code"),l=s.searchParams.get("state");if(!o)throw Error("No authorization code received");if(!u||l!==u.state)throw Error("State mismatch - possible CSRF attack");console.log("[Background] Exchanging code for tokens");let h=await (0,i.exchangeCodeForTokens)(o,e.client_id,e.client_secret,n.NOTION_CONFIG.OAUTH_REDIRECT_URI);return c=h,await (0,i.storeTokens)(h),console.log("[Background] Tokens stored successfully"),d={state:"authenticated"},S(),console.log("[Background] Notion MCP OAuth successful"),{success:!0,data:{state:"authenticated"}}}catch(e){return console.error("[Background] Notion MCP OAuth error:",e),d={state:"error",error:e instanceof Error?e.message:"Authentication failed"},S(),{success:!1,error:e instanceof Error?e.message:"Authentication failed"}}finally{u=null}}async function p(){return(c||(c=await (0,i.getStoredTokens)()),c)?((0,i.isTokenExpired)(c),c.access_token):null}async function f(){try{console.log("[Background] Connecting to Notion MCP");let e=await p();if(!e)return{success:!1,error:"Authentication required"};return l=new o.McpSSEClient(n.NOTION_CONFIG.MCP_SSE_URL,e,{onStatusChange:e=>{d=e,S(),"needs-auth"===e.state||e.state},onMessage:e=>{console.log("[Background] MCP message:",e)}}),await l.connect(),await l.initialize(),{success:!0,data:l.getStatus()}}catch(e){return console.error("[Background] Notion MCP connection error:",e),{success:!1,error:e instanceof Error?e.message:"Connection failed"}}}function m(){l&&(l.disconnect(),l=null),d={state:"authenticated"},S()}async function g(){if(await chrome.storage.local.set({"mcp.notion.enabled":!0}),l&&"connected"===d.state){console.log("[Background] Already connected, performing health check");let e=await _();if(e.success)return{success:!0,data:d};console.warn("[Background] Health check failed, reconnecting...",e.error),m()}if(c||await (0,i.getStoredTokens)()){let e=await f();if(e.success&&l){console.log("[Background] Connection successful, performing health check");let e=await _();e.success?console.log("[Background] Health check passed:",e.data):(console.warn("[Background] Health check failed after connection:",e.error),d={...d,error:`Connected but health check failed: ${e.error}`},S())}return e}return{success:!1,error:"Authentication required. Please connect first."}}async function v(){return await chrome.storage.local.set({"mcp.notion.enabled":!1}),m(),{success:!0}}async function y(){return m(),await (0,i.clearTokens)(),await (0,i.clearClientCredentials)(),c=null,d={state:"disconnected"},await chrome.storage.local.set({"mcp.notion.enabled":!1}),S(),{success:!0}}async function _(){let e;try{console.log("[Background] Performing Notion MCP health check with SDK");let t=await p();if(!t)return{success:!1,error:"No valid access token available"};let r=new URL(n.NOTION_CONFIG.MCP_SSE_URL);try{e=new a.Client({name:"chrome-ai-health-check",version:"1.0.0"},{capabilities:{roots:{listChanged:!0}}}),console.log("[Background] Connecting to MCP server with SSE transport...");let o=new s.SSEClientTransport(r,{requestInit:{headers:{Authorization:`Bearer ${t}`,Accept:"application/json, text/event-stream"}},fetch:async(e,r)=>{let a=new Headers(r?.headers);return a.set("Authorization",`Bearer ${t}`),a.set("Accept","text/event-stream, application/json"),fetch(e,{...r,headers:a})}});await e.connect(o),console.log("[Background] Connected using SSE transport");let i=await e.listTools();if(console.log("[Background] Tools response:",i),await e.close(),!i||!i.tools)return{success:!1,error:"No tools available from server"};{let e=i.tools.length;return console.log("[Background] Health check passed. Tools available:",e),{success:!0,data:{state:"connected",tools:i.tools.map(e=>({name:e.name,description:e.description,inputSchema:e.inputSchema})),toolCount:e}}}}catch(t){if(console.error("[Background] Health check failed:",t),e)try{await e.close()}catch(e){console.error("[Background] Error closing client:",e)}return{success:!1,error:t instanceof Error?t.message:"Connection failed"}}}catch(t){if(console.error("[Background] Health check error:",t),e)try{await e.close()}catch(e){console.error("[Background] Error closing client:",e)}return{success:!1,error:t instanceof Error?t.message:"Health check failed"}}}async function b(e,t){if(!l)return{success:!1,error:"Not connected"};try{let r=await l.callTool(e,t);return{success:!0,data:r}}catch(e){return console.error("[Background] Tool call error:",e),{success:!1,error:e instanceof Error?e.message:"Tool call failed"}}}function S(){chrome.runtime.sendMessage({type:"mcp/notion/status/update",payload:d}).catch(()=>{})}async function E(){try{let e="function"==typeof chrome.offscreen?.hasDocument&&await chrome.offscreen.hasDocument();e||(await chrome.offscreen.createDocument({url:"offscreen.html",reasons:[chrome.offscreen.Reason.IFRAME_SCRIPTING],justification:"Run Chrome Summarizer API in an isolated offscreen document"}),console.log("[Background] Offscreen document created"))}catch(e){console.warn("[Background] ensureOffscreenDocument warning:",e)}}chrome.runtime.onMessage.addListener((e,t,r)=>{if(e.type?.startsWith("mcp/notion/"))return(async()=>{let t;switch(e.type){case"mcp/notion/auth/start":t=await h();break;case"mcp/notion/enable":t=await g();break;case"mcp/notion/disable":t=await v();break;case"mcp/notion/disconnect":t=await y();break;case"mcp/notion/status/get":t={success:!0,data:d};break;case"mcp/notion/tool/call":t=await b(e.payload?.name,e.payload?.arguments);break;case"mcp/notion/health/check":t=await _();break;default:t={success:!1,error:"Unknown message type"}}r(t)})(),!0}),chrome.notifications.onClicked.addListener(async e=>{try{if(!e.startsWith("reminder:"))return;let t=e.split(":")[1],{reminders:r={}}=await chrome.storage.local.get("reminders"),a=r[t];a?.url&&await chrome.tabs.create({url:a.url}),r[t]&&(delete r[t],await chrome.storage.local.set({reminders:r})),chrome.notifications.clear(e)}catch(e){console.error("[Background] Error handling notification click:",e)}}),chrome.runtime.onInstalled.addListener(async e=>{console.log("[Background] onInstalled:",e.reason);try{chrome.sidePanel&&chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch(console.error);let e=await chrome.storage.local.get(["mcp.notion.enabled"]);if(e["mcp.notion.enabled"]){let e=await (0,i.getStoredTokens)(),t=await (0,i.getStoredClientCredentials)();e&&t&&(c=e,await f())}console.log("[Background] Side panel configured")}catch(e){console.error("[Background] onInstalled error:",e)}}),chrome.runtime.onStartup.addListener(async()=>{console.log("[Background] onStartup - Extension ready");let e=await chrome.storage.local.get(["mcp.notion.enabled"]);if(e["mcp.notion.enabled"]){let e=await (0,i.getStoredTokens)(),t=await (0,i.getStoredClientCredentials)();e&&t&&(c=e,await f())}}),chrome.action&&chrome.action.onClicked.addListener(async e=>{if(chrome.sidePanel&&e.id)try{await chrome.sidePanel.open({tabId:e.id})}catch(e){console.error("[Background] Error opening side panel:",e)}}),chrome.alarms.create("cleanup-expired-sessions",{periodInMinutes:60}),chrome.alarms.onAlarm.addListener(async e=>{if(!e.name.startsWith("reminder:"))return;let t=e.name.split(":")[1];console.log("[Background] Reminder alarm fired:",t);try{let{reminders:e={}}=await chrome.storage.local.get("reminders"),r=e[t];if(!r){console.warn("[Background] Reminder not found:",t);return}let a=r.generatedTitle||"\u23f0 Reminder",s=r.generatedDescription||r.title;chrome.notifications.create(`reminder:${t}`,{type:"basic",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==",title:a,message:s,priority:2,requireInteraction:!1}),console.log("[Background] Reminder notification created:",{title:a,message:s})}catch(e){console.error("[Background] Error handling reminder alarm:",e)}}),console.log("[Background] Service worker loaded - CopilotKit powered extension ready"),console.log("[Background] Browser actions event listeners initialized"),chrome.runtime.onMessage.addListener((e,t,r)=>e?.type==="summarize:availability"?((async()=>{await E();try{let e=await chrome.runtime.sendMessage({type:"offscreen/summarize/availability"});r(e)}catch(e){r({ok:!1,code:"error",message:e instanceof Error?e.message:"unknown"})}})(),!0):e?.type==="summarize:request"?((async()=>{await E();try{let t=await chrome.runtime.sendMessage({type:"offscreen/summarize/request",payload:e.payload});r(t)}catch(e){r({ok:!1,code:"error",message:e instanceof Error?e.message:"unknown"})}})(),!0):void 0)},{"@modelcontextprotocol/sdk/client/index.js":"5CWUE","@modelcontextprotocol/sdk/client/sse.js":"knQS8","./mcp/notionClient":"5M9vm","./mcp/oauth":"3VTFa","./constants":"4dqgY"}],"5CWUE":[function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Client=void 0;let s=e("31457f837fb41349"),o=e("42936a4e62889fac"),i=a(e("88c9732a6748db7e"));class n extends s.Protocol{constructor(e,t){var r;super(t),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._capabilities=null!==(r=null==t?void 0:t.capabilities)&&void 0!==r?r:{},this._ajv=new i.default}registerCapabilities(e){if(this.transport)throw Error("Cannot register capabilities after connecting to transport");this._capabilities=(0,s.mergeCapabilities)(this._capabilities,e)}assertCapability(e,t){var r;if(!(null===(r=this._serverCapabilities)||void 0===r?void 0:r[e]))throw Error(`Server does not support ${e} (required for ${t})`)}async connect(e,t){if(await super.connect(e),void 0===e.sessionId)try{let r=await this.request({method:"initialize",params:{protocolVersion:o.LATEST_PROTOCOL_VERSION,capabilities:this._capabilities,clientInfo:this._clientInfo}},o.InitializeResultSchema,t);if(void 0===r)throw Error(`Server sent invalid initialize result: ${r}`);if(!o.SUPPORTED_PROTOCOL_VERSIONS.includes(r.protocolVersion))throw Error(`Server's protocol version is not supported: ${r.protocolVersion}`);this._serverCapabilities=r.capabilities,this._serverVersion=r.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(r.protocolVersion),this._instructions=r.instructions,await this.notification({method:"notifications/initialized"})}catch(e){throw this.close(),e}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){var t,r,a,s,o;switch(e){case"logging/setLevel":if(!(null===(t=this._serverCapabilities)||void 0===t?void 0:t.logging))throw Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!(null===(r=this._serverCapabilities)||void 0===r?void 0:r.prompts))throw Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(null===(a=this._serverCapabilities)||void 0===a?void 0:a.resources))throw Error(`Server does not support resources (required for ${e})`);if("resources/subscribe"===e&&!this._serverCapabilities.resources.subscribe)throw Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!(null===(s=this._serverCapabilities)||void 0===s?void 0:s.tools))throw Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!(null===(o=this._serverCapabilities)||void 0===o?void 0:o.completions))throw Error(`Server does not support completions (required for ${e})`)}}assertNotificationCapability(e){var t;if("notifications/roots/list_changed"===e&&!(null===(t=this._capabilities.roots)||void 0===t?void 0:t.listChanged))throw Error(`Client does not support roots list changed notifications (required for ${e})`)}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw Error(`Client does not support roots capability (required for ${e})`)}}async ping(e){return this.request({method:"ping"},o.EmptyResultSchema,e)}async complete(e,t){return this.request({method:"completion/complete",params:e},o.CompleteResultSchema,t)}async setLoggingLevel(e,t){return this.request({method:"logging/setLevel",params:{level:e}},o.EmptyResultSchema,t)}async getPrompt(e,t){return this.request({method:"prompts/get",params:e},o.GetPromptResultSchema,t)}async listPrompts(e,t){return this.request({method:"prompts/list",params:e},o.ListPromptsResultSchema,t)}async listResources(e,t){return this.request({method:"resources/list",params:e},o.ListResourcesResultSchema,t)}async listResourceTemplates(e,t){return this.request({method:"resources/templates/list",params:e},o.ListResourceTemplatesResultSchema,t)}async readResource(e,t){return this.request({method:"resources/read",params:e},o.ReadResourceResultSchema,t)}async subscribeResource(e,t){return this.request({method:"resources/subscribe",params:e},o.EmptyResultSchema,t)}async unsubscribeResource(e,t){return this.request({method:"resources/unsubscribe",params:e},o.EmptyResultSchema,t)}async callTool(e,t=o.CallToolResultSchema,r){let a=await this.request({method:"tools/call",params:e},t,r),s=this.getToolOutputValidator(e.name);if(s){if(!a.structuredContent&&!a.isError)throw new o.McpError(o.ErrorCode.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(a.structuredContent)try{let e=s(a.structuredContent);if(!e)throw new o.McpError(o.ErrorCode.InvalidParams,`Structured content does not match the tool's output schema: ${this._ajv.errorsText(s.errors)}`)}catch(e){if(e instanceof o.McpError)throw e;throw new o.McpError(o.ErrorCode.InvalidParams,`Failed to validate structured content: ${e instanceof Error?e.message:String(e)}`)}}return a}cacheToolOutputSchemas(e){for(let t of(this._cachedToolOutputValidators.clear(),e))if(t.outputSchema)try{let e=this._ajv.compile(t.outputSchema);this._cachedToolOutputValidators.set(t.name,e)}catch(e){}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,t){let r=await this.request({method:"tools/list",params:e},o.ListToolsResultSchema,t);return this.cacheToolOutputSchemas(r.tools),r}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}r.Client=n},{"31457f837fb41349":"2VKxd","42936a4e62889fac":"bgewP","88c9732a6748db7e":"2078i"}],"2VKxd":[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Protocol=r.DEFAULT_REQUEST_TIMEOUT_MSEC=void 0,r.mergeCapabilities=function(e,t){return Object.entries(t).reduce((e,[t,r])=>(r&&"object"==typeof r?e[t]=e[t]?{...e[t],...r}:r:e[t]=r,e),{...e})};let a=e("d2c272aeee3e37dc");r.DEFAULT_REQUEST_TIMEOUT_MSEC=6e4,r.Protocol=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(a.CancelledNotificationSchema,e=>{let t=this._requestHandlerAbortControllers.get(e.params.requestId);null==t||t.abort(e.params.reason)}),this.setNotificationHandler(a.ProgressNotificationSchema,e=>{this._onprogress(e)}),this.setRequestHandler(a.PingRequestSchema,e=>({}))}_setupTimeout(e,t,r,a,s=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(a,t),startTime:Date.now(),timeout:t,maxTotalTimeout:r,resetTimeoutOnProgress:s,onTimeout:a})}_resetTimeout(e){let t=this._timeoutInfo.get(e);if(!t)return!1;let r=Date.now()-t.startTime;if(t.maxTotalTimeout&&r>=t.maxTotalTimeout)throw this._timeoutInfo.delete(e),new a.McpError(a.ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:t.maxTotalTimeout,totalElapsed:r});return clearTimeout(t.timeoutId),t.timeoutId=setTimeout(t.onTimeout,t.timeout),!0}_cleanupTimeout(e){let t=this._timeoutInfo.get(e);t&&(clearTimeout(t.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var t,r,s;this._transport=e;let o=null===(t=this.transport)||void 0===t?void 0:t.onclose;this._transport.onclose=()=>{null==o||o(),this._onclose()};let i=null===(r=this.transport)||void 0===r?void 0:r.onerror;this._transport.onerror=e=>{null==i||i(e),this._onerror(e)};let n=null===(s=this._transport)||void 0===s?void 0:s.onmessage;this._transport.onmessage=(e,t)=>{null==n||n(e,t),(0,a.isJSONRPCResponse)(e)||(0,a.isJSONRPCError)(e)?this._onresponse(e):(0,a.isJSONRPCRequest)(e)?this._onrequest(e,t):(0,a.isJSONRPCNotification)(e)?this._onnotification(e):this._onerror(Error(`Unknown message type: ${JSON.stringify(e)}`))},await this._transport.start()}_onclose(){var e;let t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,null===(e=this.onclose)||void 0===e||e.call(this);let r=new a.McpError(a.ErrorCode.ConnectionClosed,"Connection closed");for(let e of t.values())e(r)}_onerror(e){var t;null===(t=this.onerror)||void 0===t||t.call(this,e)}_onnotification(e){var t;let r=null!==(t=this._notificationHandlers.get(e.method))&&void 0!==t?t:this.fallbackNotificationHandler;void 0!==r&&Promise.resolve().then(()=>r(e)).catch(e=>this._onerror(Error(`Uncaught error in notification handler: ${e}`)))}_onrequest(e,t){var r,s;let o=null!==(r=this._requestHandlers.get(e.method))&&void 0!==r?r:this.fallbackRequestHandler,i=this._transport;if(void 0===o){null==i||i.send({jsonrpc:"2.0",id:e.id,error:{code:a.ErrorCode.MethodNotFound,message:"Method not found"}}).catch(e=>this._onerror(Error(`Failed to send an error response: ${e}`)));return}let n=new AbortController;this._requestHandlerAbortControllers.set(e.id,n);let l={signal:n.signal,sessionId:null==i?void 0:i.sessionId,_meta:null===(s=e.params)||void 0===s?void 0:s._meta,sendNotification:t=>this.notification(t,{relatedRequestId:e.id}),sendRequest:(t,r,a)=>this.request(t,r,{...a,relatedRequestId:e.id}),authInfo:null==t?void 0:t.authInfo,requestId:e.id,requestInfo:null==t?void 0:t.requestInfo};Promise.resolve().then(()=>o(e,l)).then(t=>{if(!n.signal.aborted)return null==i?void 0:i.send({result:t,jsonrpc:"2.0",id:e.id})},t=>{var r;if(!n.signal.aborted)return null==i?void 0:i.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(t.code)?t.code:a.ErrorCode.InternalError,message:null!==(r=t.message)&&void 0!==r?r:"Internal error"}})}).catch(e=>this._onerror(Error(`Failed to send response: ${e}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:t,...r}=e.params,a=Number(t),s=this._progressHandlers.get(a);if(!s){this._onerror(Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let o=this._responseHandlers.get(a),i=this._timeoutInfo.get(a);if(i&&o&&i.resetTimeoutOnProgress)try{this._resetTimeout(a)}catch(e){o(e);return}s(r)}_onresponse(e){let t=Number(e.id),r=this._responseHandlers.get(t);if(void 0===r){this._onerror(Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(t),this._progressHandlers.delete(t),this._cleanupTimeout(t),(0,a.isJSONRPCResponse)(e))r(e);else{let t=new a.McpError(e.error.code,e.error.message,e.error.data);r(t)}}get transport(){return this._transport}async close(){var e;await (null===(e=this._transport)||void 0===e?void 0:e.close())}request(e,t,s){let{relatedRequestId:o,resumptionToken:i,onresumptiontoken:n}=null!=s?s:{};return new Promise((l,c)=>{var u,d,h,p,f,m;if(!this._transport){c(Error("Not connected"));return}(null===(u=this._options)||void 0===u?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),null===(d=null==s?void 0:s.signal)||void 0===d||d.throwIfAborted();let g=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:g};(null==s?void 0:s.onprogress)&&(this._progressHandlers.set(g,s.onprogress),v.params={...e.params,_meta:{...(null===(h=e.params)||void 0===h?void 0:h._meta)||{},progressToken:g}});let y=e=>{var t;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),null===(t=this._transport)||void 0===t||t.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(e)}},{relatedRequestId:o,resumptionToken:i,onresumptiontoken:n}).catch(e=>this._onerror(Error(`Failed to send cancellation: ${e}`))),c(e)};this._responseHandlers.set(g,e=>{var r;if(null===(r=null==s?void 0:s.signal)||void 0===r||!r.aborted){if(e instanceof Error)return c(e);try{let r=t.parse(e.result);l(r)}catch(e){c(e)}}}),null===(p=null==s?void 0:s.signal)||void 0===p||p.addEventListener("abort",()=>{var e;y(null===(e=null==s?void 0:s.signal)||void 0===e?void 0:e.reason)});let _=null!==(f=null==s?void 0:s.timeout)&&void 0!==f?f:r.DEFAULT_REQUEST_TIMEOUT_MSEC;this._setupTimeout(g,_,null==s?void 0:s.maxTotalTimeout,()=>y(new a.McpError(a.ErrorCode.RequestTimeout,"Request timed out",{timeout:_})),null!==(m=null==s?void 0:s.resetTimeoutOnProgress)&&void 0!==m&&m),this._transport.send(v,{relatedRequestId:o,resumptionToken:i,onresumptiontoken:n}).catch(e=>{this._cleanupTimeout(g),c(e)})})}async notification(e,t){var r,a;if(!this._transport)throw Error("Not connected");this.assertNotificationCapability(e.method);let s=null!==(a=null===(r=this._options)||void 0===r?void 0:r.debouncedNotificationMethods)&&void 0!==a?a:[],o=s.includes(e.method)&&!e.params&&!(null==t?void 0:t.relatedRequestId);if(o){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var r;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let a={...e,jsonrpc:"2.0"};null===(r=this._transport)||void 0===r||r.send(a,t).catch(e=>this._onerror(e))});return}let i={...e,jsonrpc:"2.0"};await this._transport.send(i,t)}setRequestHandler(e,t){let r=e.shape.method.value;this.assertRequestHandlerCapability(r),this._requestHandlers.set(r,(r,a)=>Promise.resolve(t(e.parse(r),a)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,t){this._notificationHandlers.set(e.shape.method.value,r=>Promise.resolve(t(e.parse(r))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}}},{d2c272aeee3e37dc:"bgewP"}],bgewP:[function(e,t,r){var a,s;Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceListChangedNotificationSchema=r.ReadResourceResultSchema=r.ReadResourceRequestSchema=r.ListResourceTemplatesResultSchema=r.ListResourceTemplatesRequestSchema=r.ListResourcesResultSchema=r.ListResourcesRequestSchema=r.ResourceTemplateSchema=r.ResourceSchema=r.BlobResourceContentsSchema=r.TextResourceContentsSchema=r.ResourceContentsSchema=r.PaginatedResultSchema=r.PaginatedRequestSchema=r.ProgressNotificationSchema=r.ProgressSchema=r.PingRequestSchema=r.isInitializedNotification=r.InitializedNotificationSchema=r.InitializeResultSchema=r.ServerCapabilitiesSchema=r.isInitializeRequest=r.InitializeRequestSchema=r.ClientCapabilitiesSchema=r.ImplementationSchema=r.BaseMetadataSchema=r.IconsSchema=r.IconSchema=r.CancelledNotificationSchema=r.EmptyResultSchema=r.JSONRPCMessageSchema=r.isJSONRPCError=r.JSONRPCErrorSchema=r.ErrorCode=r.isJSONRPCResponse=r.JSONRPCResponseSchema=r.isJSONRPCNotification=r.JSONRPCNotificationSchema=r.isJSONRPCRequest=r.JSONRPCRequestSchema=r.RequestIdSchema=r.ResultSchema=r.NotificationSchema=r.RequestSchema=r.CursorSchema=r.ProgressTokenSchema=r.JSONRPC_VERSION=r.SUPPORTED_PROTOCOL_VERSIONS=r.DEFAULT_NEGOTIATED_PROTOCOL_VERSION=r.LATEST_PROTOCOL_VERSION=void 0,r.ClientRequestSchema=r.RootsListChangedNotificationSchema=r.ListRootsResultSchema=r.ListRootsRequestSchema=r.RootSchema=r.CompleteResultSchema=r.CompleteRequestSchema=r.PromptReferenceSchema=r.ResourceReferenceSchema=r.ResourceTemplateReferenceSchema=r.ElicitResultSchema=r.ElicitRequestSchema=r.PrimitiveSchemaDefinitionSchema=r.EnumSchemaSchema=r.NumberSchemaSchema=r.StringSchemaSchema=r.BooleanSchemaSchema=r.CreateMessageResultSchema=r.CreateMessageRequestSchema=r.SamplingMessageSchema=r.ModelPreferencesSchema=r.ModelHintSchema=r.LoggingMessageNotificationSchema=r.SetLevelRequestSchema=r.LoggingLevelSchema=r.ToolListChangedNotificationSchema=r.CallToolRequestSchema=r.CompatibilityCallToolResultSchema=r.CallToolResultSchema=r.ListToolsResultSchema=r.ListToolsRequestSchema=r.ToolSchema=r.ToolAnnotationsSchema=r.PromptListChangedNotificationSchema=r.GetPromptResultSchema=r.PromptMessageSchema=r.ContentBlockSchema=r.ResourceLinkSchema=r.EmbeddedResourceSchema=r.AudioContentSchema=r.ImageContentSchema=r.TextContentSchema=r.GetPromptRequestSchema=r.ListPromptsResultSchema=r.ListPromptsRequestSchema=r.PromptSchema=r.PromptArgumentSchema=r.ResourceUpdatedNotificationSchema=r.UnsubscribeRequestSchema=r.SubscribeRequestSchema=void 0,r.McpError=r.ServerResultSchema=r.ServerNotificationSchema=r.ServerRequestSchema=r.ClientResultSchema=r.ClientNotificationSchema=void 0;let o=e("10ab419ef9be205a");r.LATEST_PROTOCOL_VERSION="2025-06-18",r.DEFAULT_NEGOTIATED_PROTOCOL_VERSION="2025-03-26",r.SUPPORTED_PROTOCOL_VERSIONS=[r.LATEST_PROTOCOL_VERSION,"2025-03-26","2024-11-05","2024-10-07"],r.JSONRPC_VERSION="2.0",r.ProgressTokenSchema=o.z.union([o.z.string(),o.z.number().int()]),r.CursorSchema=o.z.string();let i=o.z.object({progressToken:o.z.optional(r.ProgressTokenSchema)}).passthrough(),n=o.z.object({_meta:o.z.optional(i)}).passthrough();r.RequestSchema=o.z.object({method:o.z.string(),params:o.z.optional(n)});let l=o.z.object({_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough();r.NotificationSchema=o.z.object({method:o.z.string(),params:o.z.optional(l)}),r.ResultSchema=o.z.object({_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.RequestIdSchema=o.z.union([o.z.string(),o.z.number().int()]),r.JSONRPCRequestSchema=o.z.object({jsonrpc:o.z.literal(r.JSONRPC_VERSION),id:r.RequestIdSchema}).merge(r.RequestSchema).strict(),r.isJSONRPCRequest=e=>r.JSONRPCRequestSchema.safeParse(e).success,r.JSONRPCNotificationSchema=o.z.object({jsonrpc:o.z.literal(r.JSONRPC_VERSION)}).merge(r.NotificationSchema).strict(),r.isJSONRPCNotification=e=>r.JSONRPCNotificationSchema.safeParse(e).success,r.JSONRPCResponseSchema=o.z.object({jsonrpc:o.z.literal(r.JSONRPC_VERSION),id:r.RequestIdSchema,result:r.ResultSchema}).strict(),r.isJSONRPCResponse=e=>r.JSONRPCResponseSchema.safeParse(e).success,(s=a||(r.ErrorCode=a={}))[s.ConnectionClosed=-32e3]="ConnectionClosed",s[s.RequestTimeout=-32001]="RequestTimeout",s[s.ParseError=-32700]="ParseError",s[s.InvalidRequest=-32600]="InvalidRequest",s[s.MethodNotFound=-32601]="MethodNotFound",s[s.InvalidParams=-32602]="InvalidParams",s[s.InternalError=-32603]="InternalError",r.JSONRPCErrorSchema=o.z.object({jsonrpc:o.z.literal(r.JSONRPC_VERSION),id:r.RequestIdSchema,error:o.z.object({code:o.z.number().int(),message:o.z.string(),data:o.z.optional(o.z.unknown())})}).strict(),r.isJSONRPCError=e=>r.JSONRPCErrorSchema.safeParse(e).success,r.JSONRPCMessageSchema=o.z.union([r.JSONRPCRequestSchema,r.JSONRPCNotificationSchema,r.JSONRPCResponseSchema,r.JSONRPCErrorSchema]),r.EmptyResultSchema=r.ResultSchema.strict(),r.CancelledNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/cancelled"),params:l.extend({requestId:r.RequestIdSchema,reason:o.z.string().optional()})}),r.IconSchema=o.z.object({src:o.z.string(),mimeType:o.z.optional(o.z.string()),sizes:o.z.optional(o.z.array(o.z.string()))}).passthrough(),r.IconsSchema=o.z.object({icons:o.z.array(r.IconSchema).optional()}).passthrough(),r.BaseMetadataSchema=o.z.object({name:o.z.string(),title:o.z.optional(o.z.string())}).passthrough(),r.ImplementationSchema=r.BaseMetadataSchema.extend({version:o.z.string(),websiteUrl:o.z.optional(o.z.string())}).merge(r.IconsSchema),r.ClientCapabilitiesSchema=o.z.object({experimental:o.z.optional(o.z.object({}).passthrough()),sampling:o.z.optional(o.z.object({}).passthrough()),elicitation:o.z.optional(o.z.object({}).passthrough()),roots:o.z.optional(o.z.object({listChanged:o.z.optional(o.z.boolean())}).passthrough())}).passthrough(),r.InitializeRequestSchema=r.RequestSchema.extend({method:o.z.literal("initialize"),params:n.extend({protocolVersion:o.z.string(),capabilities:r.ClientCapabilitiesSchema,clientInfo:r.ImplementationSchema})}),r.isInitializeRequest=e=>r.InitializeRequestSchema.safeParse(e).success,r.ServerCapabilitiesSchema=o.z.object({experimental:o.z.optional(o.z.object({}).passthrough()),logging:o.z.optional(o.z.object({}).passthrough()),completions:o.z.optional(o.z.object({}).passthrough()),prompts:o.z.optional(o.z.object({listChanged:o.z.optional(o.z.boolean())}).passthrough()),resources:o.z.optional(o.z.object({subscribe:o.z.optional(o.z.boolean()),listChanged:o.z.optional(o.z.boolean())}).passthrough()),tools:o.z.optional(o.z.object({listChanged:o.z.optional(o.z.boolean())}).passthrough())}).passthrough(),r.InitializeResultSchema=r.ResultSchema.extend({protocolVersion:o.z.string(),capabilities:r.ServerCapabilitiesSchema,serverInfo:r.ImplementationSchema,instructions:o.z.optional(o.z.string())}),r.InitializedNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/initialized")}),r.isInitializedNotification=e=>r.InitializedNotificationSchema.safeParse(e).success,r.PingRequestSchema=r.RequestSchema.extend({method:o.z.literal("ping")}),r.ProgressSchema=o.z.object({progress:o.z.number(),total:o.z.optional(o.z.number()),message:o.z.optional(o.z.string())}).passthrough(),r.ProgressNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/progress"),params:l.merge(r.ProgressSchema).extend({progressToken:r.ProgressTokenSchema})}),r.PaginatedRequestSchema=r.RequestSchema.extend({params:n.extend({cursor:o.z.optional(r.CursorSchema)}).optional()}),r.PaginatedResultSchema=r.ResultSchema.extend({nextCursor:o.z.optional(r.CursorSchema)}),r.ResourceContentsSchema=o.z.object({uri:o.z.string(),mimeType:o.z.optional(o.z.string()),_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.TextResourceContentsSchema=r.ResourceContentsSchema.extend({text:o.z.string()});let c=o.z.string().refine(e=>{try{return atob(e),!0}catch(e){return!1}},{message:"Invalid Base64 string"});r.BlobResourceContentsSchema=r.ResourceContentsSchema.extend({blob:c}),r.ResourceSchema=r.BaseMetadataSchema.extend({uri:o.z.string(),description:o.z.optional(o.z.string()),mimeType:o.z.optional(o.z.string()),_meta:o.z.optional(o.z.object({}).passthrough())}).merge(r.IconsSchema),r.ResourceTemplateSchema=r.BaseMetadataSchema.extend({uriTemplate:o.z.string(),description:o.z.optional(o.z.string()),mimeType:o.z.optional(o.z.string()),_meta:o.z.optional(o.z.object({}).passthrough())}).merge(r.IconsSchema),r.ListResourcesRequestSchema=r.PaginatedRequestSchema.extend({method:o.z.literal("resources/list")}),r.ListResourcesResultSchema=r.PaginatedResultSchema.extend({resources:o.z.array(r.ResourceSchema)}),r.ListResourceTemplatesRequestSchema=r.PaginatedRequestSchema.extend({method:o.z.literal("resources/templates/list")}),r.ListResourceTemplatesResultSchema=r.PaginatedResultSchema.extend({resourceTemplates:o.z.array(r.ResourceTemplateSchema)}),r.ReadResourceRequestSchema=r.RequestSchema.extend({method:o.z.literal("resources/read"),params:n.extend({uri:o.z.string()})}),r.ReadResourceResultSchema=r.ResultSchema.extend({contents:o.z.array(o.z.union([r.TextResourceContentsSchema,r.BlobResourceContentsSchema]))}),r.ResourceListChangedNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/resources/list_changed")}),r.SubscribeRequestSchema=r.RequestSchema.extend({method:o.z.literal("resources/subscribe"),params:n.extend({uri:o.z.string()})}),r.UnsubscribeRequestSchema=r.RequestSchema.extend({method:o.z.literal("resources/unsubscribe"),params:n.extend({uri:o.z.string()})}),r.ResourceUpdatedNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/resources/updated"),params:l.extend({uri:o.z.string()})}),r.PromptArgumentSchema=o.z.object({name:o.z.string(),description:o.z.optional(o.z.string()),required:o.z.optional(o.z.boolean())}).passthrough(),r.PromptSchema=r.BaseMetadataSchema.extend({description:o.z.optional(o.z.string()),arguments:o.z.optional(o.z.array(r.PromptArgumentSchema)),_meta:o.z.optional(o.z.object({}).passthrough())}).merge(r.IconsSchema),r.ListPromptsRequestSchema=r.PaginatedRequestSchema.extend({method:o.z.literal("prompts/list")}),r.ListPromptsResultSchema=r.PaginatedResultSchema.extend({prompts:o.z.array(r.PromptSchema)}),r.GetPromptRequestSchema=r.RequestSchema.extend({method:o.z.literal("prompts/get"),params:n.extend({name:o.z.string(),arguments:o.z.optional(o.z.record(o.z.string()))})}),r.TextContentSchema=o.z.object({type:o.z.literal("text"),text:o.z.string(),_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.ImageContentSchema=o.z.object({type:o.z.literal("image"),data:c,mimeType:o.z.string(),_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.AudioContentSchema=o.z.object({type:o.z.literal("audio"),data:c,mimeType:o.z.string(),_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.EmbeddedResourceSchema=o.z.object({type:o.z.literal("resource"),resource:o.z.union([r.TextResourceContentsSchema,r.BlobResourceContentsSchema]),_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.ResourceLinkSchema=r.ResourceSchema.extend({type:o.z.literal("resource_link")}),r.ContentBlockSchema=o.z.union([r.TextContentSchema,r.ImageContentSchema,r.AudioContentSchema,r.ResourceLinkSchema,r.EmbeddedResourceSchema]),r.PromptMessageSchema=o.z.object({role:o.z.enum(["user","assistant"]),content:r.ContentBlockSchema}).passthrough(),r.GetPromptResultSchema=r.ResultSchema.extend({description:o.z.optional(o.z.string()),messages:o.z.array(r.PromptMessageSchema)}),r.PromptListChangedNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/prompts/list_changed")}),r.ToolAnnotationsSchema=o.z.object({title:o.z.optional(o.z.string()),readOnlyHint:o.z.optional(o.z.boolean()),destructiveHint:o.z.optional(o.z.boolean()),idempotentHint:o.z.optional(o.z.boolean()),openWorldHint:o.z.optional(o.z.boolean())}).passthrough(),r.ToolSchema=r.BaseMetadataSchema.extend({description:o.z.optional(o.z.string()),inputSchema:o.z.object({type:o.z.literal("object"),properties:o.z.optional(o.z.object({}).passthrough()),required:o.z.optional(o.z.array(o.z.string()))}).passthrough(),outputSchema:o.z.optional(o.z.object({type:o.z.literal("object"),properties:o.z.optional(o.z.object({}).passthrough()),required:o.z.optional(o.z.array(o.z.string()))}).passthrough()),annotations:o.z.optional(r.ToolAnnotationsSchema),_meta:o.z.optional(o.z.object({}).passthrough())}).merge(r.IconsSchema),r.ListToolsRequestSchema=r.PaginatedRequestSchema.extend({method:o.z.literal("tools/list")}),r.ListToolsResultSchema=r.PaginatedResultSchema.extend({tools:o.z.array(r.ToolSchema)}),r.CallToolResultSchema=r.ResultSchema.extend({content:o.z.array(r.ContentBlockSchema).default([]),structuredContent:o.z.object({}).passthrough().optional(),isError:o.z.optional(o.z.boolean())}),r.CompatibilityCallToolResultSchema=r.CallToolResultSchema.or(r.ResultSchema.extend({toolResult:o.z.unknown()})),r.CallToolRequestSchema=r.RequestSchema.extend({method:o.z.literal("tools/call"),params:n.extend({name:o.z.string(),arguments:o.z.optional(o.z.record(o.z.unknown()))})}),r.ToolListChangedNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/tools/list_changed")}),r.LoggingLevelSchema=o.z.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),r.SetLevelRequestSchema=r.RequestSchema.extend({method:o.z.literal("logging/setLevel"),params:n.extend({level:r.LoggingLevelSchema})}),r.LoggingMessageNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/message"),params:l.extend({level:r.LoggingLevelSchema,logger:o.z.optional(o.z.string()),data:o.z.unknown()})}),r.ModelHintSchema=o.z.object({name:o.z.string().optional()}).passthrough(),r.ModelPreferencesSchema=o.z.object({hints:o.z.optional(o.z.array(r.ModelHintSchema)),costPriority:o.z.optional(o.z.number().min(0).max(1)),speedPriority:o.z.optional(o.z.number().min(0).max(1)),intelligencePriority:o.z.optional(o.z.number().min(0).max(1))}).passthrough(),r.SamplingMessageSchema=o.z.object({role:o.z.enum(["user","assistant"]),content:o.z.union([r.TextContentSchema,r.ImageContentSchema,r.AudioContentSchema])}).passthrough(),r.CreateMessageRequestSchema=r.RequestSchema.extend({method:o.z.literal("sampling/createMessage"),params:n.extend({messages:o.z.array(r.SamplingMessageSchema),systemPrompt:o.z.optional(o.z.string()),includeContext:o.z.optional(o.z.enum(["none","thisServer","allServers"])),temperature:o.z.optional(o.z.number()),maxTokens:o.z.number().int(),stopSequences:o.z.optional(o.z.array(o.z.string())),metadata:o.z.optional(o.z.object({}).passthrough()),modelPreferences:o.z.optional(r.ModelPreferencesSchema)})}),r.CreateMessageResultSchema=r.ResultSchema.extend({model:o.z.string(),stopReason:o.z.optional(o.z.enum(["endTurn","stopSequence","maxTokens"]).or(o.z.string())),role:o.z.enum(["user","assistant"]),content:o.z.discriminatedUnion("type",[r.TextContentSchema,r.ImageContentSchema,r.AudioContentSchema])}),r.BooleanSchemaSchema=o.z.object({type:o.z.literal("boolean"),title:o.z.optional(o.z.string()),description:o.z.optional(o.z.string()),default:o.z.optional(o.z.boolean())}).passthrough(),r.StringSchemaSchema=o.z.object({type:o.z.literal("string"),title:o.z.optional(o.z.string()),description:o.z.optional(o.z.string()),minLength:o.z.optional(o.z.number()),maxLength:o.z.optional(o.z.number()),format:o.z.optional(o.z.enum(["email","uri","date","date-time"]))}).passthrough(),r.NumberSchemaSchema=o.z.object({type:o.z.enum(["number","integer"]),title:o.z.optional(o.z.string()),description:o.z.optional(o.z.string()),minimum:o.z.optional(o.z.number()),maximum:o.z.optional(o.z.number())}).passthrough(),r.EnumSchemaSchema=o.z.object({type:o.z.literal("string"),title:o.z.optional(o.z.string()),description:o.z.optional(o.z.string()),enum:o.z.array(o.z.string()),enumNames:o.z.optional(o.z.array(o.z.string()))}).passthrough(),r.PrimitiveSchemaDefinitionSchema=o.z.union([r.BooleanSchemaSchema,r.StringSchemaSchema,r.NumberSchemaSchema,r.EnumSchemaSchema]),r.ElicitRequestSchema=r.RequestSchema.extend({method:o.z.literal("elicitation/create"),params:n.extend({message:o.z.string(),requestedSchema:o.z.object({type:o.z.literal("object"),properties:o.z.record(o.z.string(),r.PrimitiveSchemaDefinitionSchema),required:o.z.optional(o.z.array(o.z.string()))}).passthrough()})}),r.ElicitResultSchema=r.ResultSchema.extend({action:o.z.enum(["accept","decline","cancel"]),content:o.z.optional(o.z.record(o.z.string(),o.z.unknown()))}),r.ResourceTemplateReferenceSchema=o.z.object({type:o.z.literal("ref/resource"),uri:o.z.string()}).passthrough(),r.ResourceReferenceSchema=r.ResourceTemplateReferenceSchema,r.PromptReferenceSchema=o.z.object({type:o.z.literal("ref/prompt"),name:o.z.string()}).passthrough(),r.CompleteRequestSchema=r.RequestSchema.extend({method:o.z.literal("completion/complete"),params:n.extend({ref:o.z.union([r.PromptReferenceSchema,r.ResourceTemplateReferenceSchema]),argument:o.z.object({name:o.z.string(),value:o.z.string()}).passthrough(),context:o.z.optional(o.z.object({arguments:o.z.optional(o.z.record(o.z.string(),o.z.string()))}))})}),r.CompleteResultSchema=r.ResultSchema.extend({completion:o.z.object({values:o.z.array(o.z.string()).max(100),total:o.z.optional(o.z.number().int()),hasMore:o.z.optional(o.z.boolean())}).passthrough()}),r.RootSchema=o.z.object({uri:o.z.string().startsWith("file://"),name:o.z.optional(o.z.string()),_meta:o.z.optional(o.z.object({}).passthrough())}).passthrough(),r.ListRootsRequestSchema=r.RequestSchema.extend({method:o.z.literal("roots/list")}),r.ListRootsResultSchema=r.ResultSchema.extend({roots:o.z.array(r.RootSchema)}),r.RootsListChangedNotificationSchema=r.NotificationSchema.extend({method:o.z.literal("notifications/roots/list_changed")}),r.ClientRequestSchema=o.z.union([r.PingRequestSchema,r.InitializeRequestSchema,r.CompleteRequestSchema,r.SetLevelRequestSchema,r.GetPromptRequestSchema,r.ListPromptsRequestSchema,r.ListResourcesRequestSchema,r.ListResourceTemplatesRequestSchema,r.ReadResourceRequestSchema,r.SubscribeRequestSchema,r.UnsubscribeRequestSchema,r.CallToolRequestSchema,r.ListToolsRequestSchema]),r.ClientNotificationSchema=o.z.union([r.CancelledNotificationSchema,r.ProgressNotificationSchema,r.InitializedNotificationSchema,r.RootsListChangedNotificationSchema]),r.ClientResultSchema=o.z.union([r.EmptyResultSchema,r.CreateMessageResultSchema,r.ElicitResultSchema,r.ListRootsResultSchema]),r.ServerRequestSchema=o.z.union([r.PingRequestSchema,r.CreateMessageRequestSchema,r.ElicitRequestSchema,r.ListRootsRequestSchema]),r.ServerNotificationSchema=o.z.union([r.CancelledNotificationSchema,r.ProgressNotificationSchema,r.LoggingMessageNotificationSchema,r.ResourceUpdatedNotificationSchema,r.ResourceListChangedNotificationSchema,r.ToolListChangedNotificationSchema,r.PromptListChangedNotificationSchema]),r.ServerResultSchema=o.z.union([r.EmptyResultSchema,r.InitializeResultSchema,r.CompleteResultSchema,r.GetPromptResultSchema,r.ListPromptsResultSchema,r.ListResourcesResultSchema,r.ListResourceTemplatesResultSchema,r.ReadResourceResultSchema,r.CallToolResultSchema,r.ListToolsResultSchema]),r.McpError=class extends Error{constructor(e,t,r){super(`MCP error ${e}: ${t}`),this.code=e,this.data=r,this.name="McpError"}}},{"10ab419ef9be205a":"3ubEv"}],"3ubEv":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"z",()=>s);var s=e("./v3/external.js");a.exportAll(s,r),r.default=s},{"./v3/external.js":"e9lHO","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],e9lHO:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var s=e("./errors.js");a.exportAll(s,r);var o=e("./helpers/parseUtil.js");a.exportAll(o,r);var i=e("./helpers/typeAliases.js");a.exportAll(i,r);var n=e("./helpers/util.js");a.exportAll(n,r);var l=e("./types.js");a.exportAll(l,r);var c=e("./ZodError.js");a.exportAll(c,r)},{"./errors.js":"8d2iX","./helpers/parseUtil.js":"agUoZ","./helpers/typeAliases.js":"cFiUT","./helpers/util.js":"5bItI","./types.js":"57X0j","./ZodError.js":"flIPc","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8d2iX":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"defaultErrorMap",()=>o.default),a.export(r,"setErrorMap",()=>n),a.export(r,"getErrorMap",()=>l);var s=e("./locales/en.js"),o=a.interopDefault(s);let i=o.default;function n(e){i=e}function l(){return i}},{"./locales/en.js":"2V5Tz","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2V5Tz":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var a=e("../ZodError.js"),s=e("../helpers/util.js");r.default=(e,t)=>{let r;switch(e.code){case a.ZodIssueCode.invalid_type:r=e.received===s.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case a.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,s.util.jsonStringifyReplacer)}`;break;case a.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${(0,s.util).joinValues(e.keys,", ")}`;break;case a.ZodIssueCode.invalid_union:r="Invalid input";break;case a.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${(0,s.util).joinValues(e.options)}`;break;case a.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${(0,s.util).joinValues(e.options)}, received '${e.received}'`;break;case a.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case a.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case a.ZodIssueCode.invalid_date:r="Invalid date";break;case a.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:(0,s.util).assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case a.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case a.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case a.ZodIssueCode.custom:r="Invalid input";break;case a.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case a.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case a.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,(0,s.util).assertNever(e)}return{message:r}}},{"../ZodError.js":"flIPc","../helpers/util.js":"5bItI","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],flIPc:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ZodIssueCode",()=>o),a.export(r,"quotelessJson",()=>i),a.export(r,"ZodError",()=>n);var s=e("./helpers/util.js");let o=(0,s.util).arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),i=e=>{let t=JSON.stringify(e,null,2);return t.replace(/"([^"]+)":/g,"$1:")};class n extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},a=e=>{for(let s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(a);else if("invalid_return_type"===s.code)a(s.returnTypeError);else if("invalid_arguments"===s.code)a(s.argumentsError);else if(0===s.path.length)r._errors.push(t(s));else{let e=r,a=0;for(;a<s.path.length;){let r=s.path[a],o=a===s.path.length-1;o?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(s))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return a(this),r}static assert(e){if(!(e instanceof n))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,s.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let a of this.issues)if(a.path.length>0){let r=a.path[0];t[r]=t[r]||[],t[r].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}n.create=e=>{let t=new n(e);return t}},{"./helpers/util.js":"5bItI","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5bItI":[function(e,t,r){var a,s,o,i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"util",()=>s),i.export(r,"objectUtil",()=>o),i.export(r,"ZodParsedType",()=>n),i.export(r,"getParsedType",()=>l),(a=s||(s={})).assertEqual=e=>{},a.assertIs=function(e){},a.assertNever=function(e){throw Error()},a.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},a.getValidEnumValues=e=>{let t=a.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let a of t)r[a]=e[a];return a.objectValues(r)},a.objectValues=e=>a.objectKeys(e).map(function(t){return e[t]}),a.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},a.find=(e,t)=>{for(let r of e)if(t(r))return r},a.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,a.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},a.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(o||(o={})).mergeShapes=(e,t)=>({...e,...t});let n=s.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),l=e=>{let t=typeof e;switch(t){case"undefined":return n.undefined;case"string":return n.string;case"number":return Number.isNaN(e)?n.nan:n.number;case"boolean":return n.boolean;case"function":return n.function;case"bigint":return n.bigint;case"symbol":return n.symbol;case"object":if(Array.isArray(e))return n.array;if(null===e)return n.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return n.promise;if("undefined"!=typeof Map&&e instanceof Map)return n.map;if("undefined"!=typeof Set&&e instanceof Set)return n.set;if("undefined"!=typeof Date&&e instanceof Date)return n.date;return n.object;default:return n.unknown}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hbR2Q:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],agUoZ:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeIssue",()=>n),a.export(r,"EMPTY_PATH",()=>l),a.export(r,"addIssueToContext",()=>c),a.export(r,"ParseStatus",()=>u),a.export(r,"INVALID",()=>d),a.export(r,"DIRTY",()=>h),a.export(r,"OK",()=>p),a.export(r,"isAborted",()=>f),a.export(r,"isDirty",()=>m),a.export(r,"isValid",()=>g),a.export(r,"isAsync",()=>v);var s=e("../errors.js"),o=e("../locales/en.js"),i=a.interopDefault(o);let n=e=>{let{data:t,path:r,errorMaps:a,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(void 0!==s.message)return{...s,path:o,message:s.message};let n="",l=a.filter(e=>!!e).slice().reverse();for(let e of l)n=e(i,{data:t,defaultError:n}).message;return{...s,path:o,message:n}},l=[];function c(e,t){let r=(0,s.getErrorMap)(),a=n({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===(0,i.default)?void 0:(0,i.default)].filter(e=>!!e)});e.common.issues.push(a)}class u{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if("aborted"===a.status)return d;"dirty"===a.status&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,a=await e.value;r.push({key:t,value:a})}return u.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:t,value:s}=a;if("aborted"===t.status||"aborted"===s.status)return d;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==s.value||a.alwaysSet)&&(r[t.value]=s.value)}return{status:e.value,value:r}}}let d=Object.freeze({status:"aborted"}),h=e=>({status:"dirty",value:e}),p=e=>({status:"valid",value:e}),f=e=>"aborted"===e.status,m=e=>"dirty"===e.status,g=e=>"valid"===e.status,v=e=>"undefined"!=typeof Promise&&e instanceof Promise},{"../errors.js":"8d2iX","../locales/en.js":"2V5Tz","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cFiUT:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"57X0j":[function(e,t,r){let a;var s,o,i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ZodType",()=>m),i.export(r,"datetimeRegex",()=>A),i.export(r,"ZodString",()=>N),i.export(r,"ZodNumber",()=>j),i.export(r,"ZodBigInt",()=>U),i.export(r,"ZodBoolean",()=>L),i.export(r,"ZodDate",()=>D),i.export(r,"ZodSymbol",()=>$),i.export(r,"ZodUndefined",()=>F),i.export(r,"ZodNull",()=>M),i.export(r,"ZodAny",()=>Z),i.export(r,"ZodUnknown",()=>q),i.export(r,"ZodNever",()=>B),i.export(r,"ZodVoid",()=>V),i.export(r,"ZodArray",()=>H),i.export(r,"ZodObject",()=>Q),i.export(r,"ZodUnion",()=>K),i.export(r,"ZodDiscriminatedUnion",()=>J),i.export(r,"ZodIntersection",()=>G),i.export(r,"ZodTuple",()=>Y),i.export(r,"ZodRecord",()=>X),i.export(r,"ZodMap",()=>ee),i.export(r,"ZodSet",()=>et),i.export(r,"ZodFunction",()=>er),i.export(r,"ZodLazy",()=>ea),i.export(r,"ZodLiteral",()=>es),i.export(r,"ZodEnum",()=>ei),i.export(r,"ZodNativeEnum",()=>en),i.export(r,"ZodPromise",()=>el),i.export(r,"ZodEffects",()=>ec),i.export(r,"ZodTransformer",()=>ec),i.export(r,"ZodOptional",()=>eu),i.export(r,"ZodNullable",()=>ed),i.export(r,"ZodDefault",()=>eh),i.export(r,"ZodCatch",()=>ep),i.export(r,"ZodNaN",()=>ef),i.export(r,"BRAND",()=>em),i.export(r,"ZodBranded",()=>eg),i.export(r,"ZodPipeline",()=>ev),i.export(r,"ZodReadonly",()=>ey),i.export(r,"custom",()=>eb),i.export(r,"Schema",()=>m),i.export(r,"ZodSchema",()=>m),i.export(r,"late",()=>eS),i.export(r,"ZodFirstPartyTypeKind",()=>o),i.export(r,"coerce",()=>e5),i.export(r,"any",()=>ez),i.export(r,"array",()=>eU),i.export(r,"bigint",()=>ex),i.export(r,"boolean",()=>eC),i.export(r,"date",()=>eI),i.export(r,"discriminatedUnion",()=>eF),i.export(r,"effect",()=>eY),i.export(r,"enum",()=>eW),i.export(r,"function",()=>eH),i.export(r,"instanceof",()=>eE),i.export(r,"intersection",()=>eM),i.export(r,"lazy",()=>eQ),i.export(r,"literal",()=>eK),i.export(r,"map",()=>eB),i.export(r,"nan",()=>eR),i.export(r,"nativeEnum",()=>eJ),i.export(r,"never",()=>eN),i.export(r,"null",()=>eO),i.export(r,"nullable",()=>e0),i.export(r,"number",()=>eP),i.export(r,"object",()=>eL),i.export(r,"oboolean",()=>e6),i.export(r,"onumber",()=>e9),i.export(r,"optional",()=>eX),i.export(r,"ostring",()=>e4),i.export(r,"pipeline",()=>e2),i.export(r,"preprocess",()=>e1),i.export(r,"promise",()=>eG),i.export(r,"record",()=>eq),i.export(r,"set",()=>eV),i.export(r,"strictObject",()=>eD),i.export(r,"string",()=>ew),i.export(r,"symbol",()=>eT),i.export(r,"transformer",()=>eY),i.export(r,"tuple",()=>eZ),i.export(r,"undefined",()=>ek),i.export(r,"union",()=>e$),i.export(r,"unknown",()=>eA),i.export(r,"void",()=>ej),i.export(r,"NEVER",()=>e3);var n=e("./ZodError.js"),l=e("./errors.js"),c=e("./helpers/errorUtil.js"),u=e("./helpers/parseUtil.js"),d=e("./helpers/util.js");class h{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let p=(e,t)=>{if((0,u.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new n.ZodError(e.common.issues);return this._error=t,this._error}}};function f(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:a,description:s}=e;if(t&&(r||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{let{message:o}=e;return"invalid_enum_value"===t.code?{message:o??s.defaultError}:void 0===s.data?{message:o??a??s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:o??r??s.defaultError}},description:s}}class m{get description(){return this._def.description}_getType(e){return(0,d.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,d.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new u.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,d.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,u.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)},a=this._parseSync({data:e,path:r.path,parent:r});return p(r,a)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return(0,u.isValid)(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>(0,u.isValid)(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)},a=this._parse({data:e,path:r.path,parent:r}),s=await ((0,u.isAsync)(a)?a:Promise.resolve(a));return p(r,s)}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,a)=>{let s=e(t),o=()=>a.addIssue({code:n.ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(o(),!1)):!!s||(o(),!1)})}refinement(e,t){return this._refinement((r,a)=>!!e(r)||(a.addIssue("function"==typeof t?t(r,a):t),!1))}_refinement(e){return new ec({schema:this,typeName:o.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eu.create(this,this._def)}nullable(){return ed.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return H.create(this)}promise(){return el.create(this,this._def)}or(e){return K.create([this,e],this._def)}and(e){return G.create(this,e,this._def)}transform(e){return new ec({...f(this._def),schema:this,typeName:o.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eh({...f(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:o.ZodDefault})}brand(){return new eg({typeName:o.ZodBranded,type:this,...f(this._def)})}catch(e){return new ep({...f(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:o.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ev.create(this,e)}readonly(){return ey.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let g=/^c[^\s-]{8,}$/i,v=/^[0-9a-z]+$/,y=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,b=/^[a-z0-9_-]{21}$/i,S=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,E=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,x=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,C=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,k="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O=RegExp(`^${k}$`);function z(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function A(e){let t=`${k}T${z(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class N extends m{_parse(e){var t,r,s,o;let i;this._def.coerce&&(e.data=String(e.data));let l=this._getType(e);if(l!==d.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.string,received:t.parsedType}),u.INVALID}let c=new u.ParseStatus;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),c.dirty());else if("max"===l.kind)e.data.length>l.value&&(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),c.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),c.dirty())}else if("email"===l.kind)w.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"email",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("emoji"===l.kind)a||(a=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),a.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"emoji",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("uuid"===l.kind)_.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"uuid",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("nanoid"===l.kind)b.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"nanoid",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("cuid"===l.kind)g.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"cuid",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("cuid2"===l.kind)v.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"cuid2",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("ulid"===l.kind)y.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"ulid",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"url",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty()}else if("regex"===l.kind){l.regex.lastIndex=0;let t=l.regex.test(e.data);t||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"regex",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty())}else if("trim"===l.kind)e.data=e.data.trim();else if("includes"===l.kind)e.data.includes(l.value,l.position)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),c.dirty());else if("toLowerCase"===l.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===l.kind)e.data=e.data.toUpperCase();else if("startsWith"===l.kind)e.data.startsWith(l.value)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.invalid_string,validation:{startsWith:l.value},message:l.message}),c.dirty());else if("endsWith"===l.kind)e.data.endsWith(l.value)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.invalid_string,validation:{endsWith:l.value},message:l.message}),c.dirty());else if("datetime"===l.kind){let t=A(l);t.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.invalid_string,validation:"datetime",message:l.message}),c.dirty())}else if("date"===l.kind)O.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.invalid_string,validation:"date",message:l.message}),c.dirty());else if("time"===l.kind){let t=RegExp(`^${z(l)}$`);t.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{code:n.ZodIssueCode.invalid_string,validation:"time",message:l.message}),c.dirty())}else"duration"===l.kind?E.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"duration",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty()):"ip"===l.kind?(t=e.data,("v4"===(r=l.version)||!r)&&P.test(t)||("v6"===r||!r)&&x.test(t)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"ip",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty())):"jwt"===l.kind?!function(e,t){if(!S.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));if("object"!=typeof s||null===s||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"jwt",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty()):"cidr"===l.kind?(s=e.data,("v4"===(o=l.version)||!o)&&R.test(s)||("v6"===o||!o)&&C.test(s)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"cidr",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty())):"base64"===l.kind?I.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"base64",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty()):"base64url"===l.kind?T.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,u.addIssueToContext)(i,{validation:"base64url",code:n.ZodIssueCode.invalid_string,message:l.message}),c.dirty()):(0,d.util).assertNever(l);return{status:c.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:n.ZodIssueCode.invalid_string,...(0,c.errorUtil).errToObj(r)})}_addCheck(e){return new N({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...(0,c.errorUtil).errToObj(e)})}url(e){return this._addCheck({kind:"url",...(0,c.errorUtil).errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...(0,c.errorUtil).errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...(0,c.errorUtil).errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...(0,c.errorUtil).errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...(0,c.errorUtil).errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...(0,c.errorUtil).errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...(0,c.errorUtil).errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...(0,c.errorUtil).errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...(0,c.errorUtil).errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...(0,c.errorUtil).errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...(0,c.errorUtil).errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...(0,c.errorUtil).errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...(0,c.errorUtil).errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...(0,c.errorUtil).errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...(0,c.errorUtil).errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...(0,c.errorUtil).errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...(0,c.errorUtil).errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...(0,c.errorUtil).errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...(0,c.errorUtil).errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...(0,c.errorUtil).errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...(0,c.errorUtil).errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...(0,c.errorUtil).errToObj(t)})}nonempty(e){return this.min(1,(0,c.errorUtil).errToObj(e))}trim(){return new N({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}N.create=e=>new N({checks:[],typeName:o.ZodString,coerce:e?.coerce??!1,...f(e)});class j extends m{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;this._def.coerce&&(e.data=Number(e.data));let r=this._getType(e);if(r!==d.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.number,received:t.parsedType}),u.INVALID}let a=new u.ParseStatus;for(let r of this._def.checks)if("int"===r.kind)(0,d.util).isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:r.message}),a.dirty());else if("min"===r.kind){let s=r.inclusive?e.data<r.value:e.data<=r.value;s&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty())}else if("max"===r.kind){let s=r.inclusive?e.data>r.value:e.data>=r.value;s&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty())}else"multipleOf"===r.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=r>a?r:a,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.not_finite,message:r.message}),a.dirty()):(0,d.util).assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,(0,c.errorUtil).toString(t))}gt(e,t){return this.setLimit("min",e,!1,(0,c.errorUtil).toString(t))}lte(e,t){return this.setLimit("max",e,!0,(0,c.errorUtil).toString(t))}lt(e,t){return this.setLimit("max",e,!1,(0,c.errorUtil).toString(t))}setLimit(e,t,r,a){return new j({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:(0,c.errorUtil).toString(a)}]})}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:(0,c.errorUtil).toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:(0,c.errorUtil).toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:(0,c.errorUtil).toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:(0,c.errorUtil).toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:(0,c.errorUtil).toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:(0,c.errorUtil).toString(t)})}finite(e){return this._addCheck({kind:"finite",message:(0,c.errorUtil).toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:(0,c.errorUtil).toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:(0,c.errorUtil).toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&(0,d.util).isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}j.create=e=>new j({checks:[],typeName:o.ZodNumber,coerce:e?.coerce||!1,...f(e)});class U extends m{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}let r=this._getType(e);if(r!==d.ZodParsedType.bigint)return this._getInvalidInput(e);let a=new u.ParseStatus;for(let r of this._def.checks)if("min"===r.kind){let s=r.inclusive?e.data<r.value:e.data<=r.value;s&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty())}else if("max"===r.kind){let s=r.inclusive?e.data>r.value:e.data>=r.value;s&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):(0,d.util).assertNever(r);return{status:a.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.bigint,received:t.parsedType}),u.INVALID}gte(e,t){return this.setLimit("min",e,!0,(0,c.errorUtil).toString(t))}gt(e,t){return this.setLimit("min",e,!1,(0,c.errorUtil).toString(t))}lte(e,t){return this.setLimit("max",e,!0,(0,c.errorUtil).toString(t))}lt(e,t){return this.setLimit("max",e,!1,(0,c.errorUtil).toString(t))}setLimit(e,t,r,a){return new U({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:(0,c.errorUtil).toString(a)}]})}_addCheck(e){return new U({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:(0,c.errorUtil).toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:(0,c.errorUtil).toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:(0,c.errorUtil).toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:(0,c.errorUtil).toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:(0,c.errorUtil).toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}U.create=e=>new U({checks:[],typeName:o.ZodBigInt,coerce:e?.coerce??!1,...f(e)});class L extends m{_parse(e){this._def.coerce&&(e.data=!!e.data);let t=this._getType(e);if(t!==d.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.boolean,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}L.create=e=>new L({typeName:o.ZodBoolean,coerce:e?.coerce||!1,...f(e)});class D extends m{_parse(e){let t;this._def.coerce&&(e.data=new Date(e.data));let r=this._getType(e);if(r!==d.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.date,received:t.parsedType}),u.INVALID}if(Number.isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_date}),u.INVALID}let a=new u.ParseStatus;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),a.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(t=this._getOrReturnCtx(e,t),(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),a.dirty()):(0,d.util).assertNever(r);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new D({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:(0,c.errorUtil).toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:(0,c.errorUtil).toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}D.create=e=>new D({checks:[],coerce:e?.coerce||!1,typeName:o.ZodDate,...f(e)});class $ extends m{_parse(e){let t=this._getType(e);if(t!==d.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.symbol,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}$.create=e=>new $({typeName:o.ZodSymbol,...f(e)});class F extends m{_parse(e){let t=this._getType(e);if(t!==d.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.undefined,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}F.create=e=>new F({typeName:o.ZodUndefined,...f(e)});class M extends m{_parse(e){let t=this._getType(e);if(t!==d.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.null,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}M.create=e=>new M({typeName:o.ZodNull,...f(e)});class Z extends m{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,u.OK)(e.data)}}Z.create=e=>new Z({typeName:o.ZodAny,...f(e)});class q extends m{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,u.OK)(e.data)}}q.create=e=>new q({typeName:o.ZodUnknown,...f(e)});class B extends m{_parse(e){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.never,received:t.parsedType}),u.INVALID}}B.create=e=>new B({typeName:o.ZodNever,...f(e)});class V extends m{_parse(e){let t=this._getType(e);if(t!==d.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.void,received:t.parsedType}),u.INVALID}return(0,u.OK)(e.data)}}V.create=e=>new V({typeName:o.ZodVoid,...f(e)});class H extends m{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==d.ZodParsedType.array)return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.array,received:t.parsedType}),u.INVALID;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,s=t.data.length<a.exactLength.value;(e||s)&&((0,u.addIssueToContext)(t,{code:e?n.ZodIssueCode.too_big:n.ZodIssueCode.too_small,minimum:s?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&((0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&((0,u.addIssueToContext)(t,{code:n.ZodIssueCode.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>a.type._parseAsync(new h(t,e,t.path,r)))).then(e=>(0,u.ParseStatus).mergeArray(r,e));let s=[...t.data].map((e,r)=>a.type._parseSync(new h(t,e,t.path,r)));return(0,u.ParseStatus).mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new H({...this._def,minLength:{value:e,message:(0,c.errorUtil).toString(t)}})}max(e,t){return new H({...this._def,maxLength:{value:e,message:(0,c.errorUtil).toString(t)}})}length(e,t){return new H({...this._def,exactLength:{value:e,message:(0,c.errorUtil).toString(t)}})}nonempty(e){return this.min(1,e)}}H.create=(e,t)=>new H({type:e,minLength:null,maxLength:null,exactLength:null,typeName:o.ZodArray,...f(t)});class Q extends m{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=(0,d.util).objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){let t=this._getType(e);if(t!==d.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:t.parsedType}),u.INVALID}let{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof B&&"strip"===this._def.unknownKeys))for(let e in a.data)o.includes(e)||i.push(e);let l=[];for(let e of o){let t=s[e],r=a.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new h(a,r,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof B){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)l.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)i.length>0&&((0,u.addIssueToContext)(a,{code:n.ZodIssueCode.unrecognized_keys,keys:i}),r.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let r=a.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new h(a,r,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,a=await t.value;e.push({key:r,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>(0,u.ParseStatus).mergeObjectSync(r,e)):(0,u.ParseStatus).mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return c.errorUtil.errToObj,new Q({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let a=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:(0,c.errorUtil).errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Q({...this._def,unknownKeys:"strip"})}passthrough(){return new Q({...this._def,unknownKeys:"passthrough"})}extend(e){return new Q({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){let t=new Q({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:o.ZodObject});return t}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Q({...this._def,catchall:e})}pick(e){let t={};for(let r of(0,d.util).objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Q({...this._def,shape:()=>t})}omit(e){let t={};for(let r of(0,d.util).objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Q({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof Q){let r={};for(let a in t.shape){let s=t.shape[a];r[a]=eu.create(e(s))}return new Q({...t._def,shape:()=>r})}return t instanceof H?new H({...t._def,type:e(t.element)}):t instanceof eu?eu.create(e(t.unwrap())):t instanceof ed?ed.create(e(t.unwrap())):t instanceof Y?Y.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let r of(0,d.util).objectKeys(this.shape)){let a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}return new Q({...this._def,shape:()=>t})}required(e){let t={};for(let r of(0,d.util).objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r],a=e;for(;a instanceof eu;)a=a._def.innerType;t[r]=a}return new Q({...this._def,shape:()=>t})}keyof(){return eo((0,d.util).objectKeys(this.shape))}}Q.create=(e,t)=>new Q({shape:()=>e,unknownKeys:"strip",catchall:B.create(),typeName:o.ZodObject,...f(t)}),Q.strictCreate=(e,t)=>new Q({shape:()=>e,unknownKeys:"strict",catchall:B.create(),typeName:o.ZodObject,...f(t)}),Q.lazycreate=(e,t)=>new Q({shape:e,unknownKeys:"strip",catchall:B.create(),typeName:o.ZodObject,...f(t)});class K extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new n.ZodError(e.ctx.common.issues));return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_union,unionErrors:r}),u.INVALID});{let e;let a=[];for(let s of r){let r={...t,common:{...t.common,issues:[]},parent:null},o=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&a.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let s=a.map(e=>new n.ZodError(e));return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_union,unionErrors:s}),u.INVALID}}get options(){return this._def.options}}K.create=(e,t)=>new K({options:e,typeName:o.ZodUnion,...f(t)});let W=e=>{if(e instanceof ea)return W(e.schema);if(e instanceof ec)return W(e.innerType());if(e instanceof es)return[e.value];if(e instanceof ei)return e.options;if(e instanceof en)return(0,d.util).objectValues(e.enum);if(e instanceof eh)return W(e._def.innerType);if(e instanceof F)return[void 0];else if(e instanceof M)return[null];else if(e instanceof eu)return[void 0,...W(e.unwrap())];else if(e instanceof ed)return[null,...W(e.unwrap())];else if(e instanceof eg)return W(e.unwrap());else if(e instanceof ey)return W(e.unwrap());else if(e instanceof ep)return W(e._def.innerType);else return[]};class J extends m{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.object)return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:t.parsedType}),u.INVALID;let r=this.discriminator,a=t.data[r],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):((0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),u.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let r of t){let t=W(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of t){if(a.has(s))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);a.set(s,r)}}return new J({typeName:o.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...f(r)})}}class G extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(e,a)=>{if((0,u.isAborted)(e)||(0,u.isAborted)(a))return u.INVALID;let s=function e(t,r){let a=(0,d.getParsedType)(t),s=(0,d.getParsedType)(r);if(t===r)return{valid:!0,data:t};if(a===d.ZodParsedType.object&&s===d.ZodParsedType.object){let a=(0,d.util).objectKeys(r),s=(0,d.util).objectKeys(t).filter(e=>-1!==a.indexOf(e)),o={...t,...r};for(let a of s){let s=e(t[a],r[a]);if(!s.valid)return{valid:!1};o[a]=s.data}return{valid:!0,data:o}}if(a===d.ZodParsedType.array&&s===d.ZodParsedType.array){if(t.length!==r.length)return{valid:!1};let a=[];for(let s=0;s<t.length;s++){let o=t[s],i=r[s],n=e(o,i);if(!n.valid)return{valid:!1};a.push(n.data)}return{valid:!0,data:a}}return a===d.ZodParsedType.date&&s===d.ZodParsedType.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,a.value);return s.valid?(((0,u.isDirty)(e)||(0,u.isDirty)(a))&&t.dirty(),{status:t.value,value:s.data}):((0,u.addIssueToContext)(r,{code:n.ZodIssueCode.invalid_intersection_types}),u.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}G.create=(e,t,r)=>new G({left:e,right:t,typeName:o.ZodIntersection,...f(r)});class Y extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.array)return(0,u.addIssueToContext)(r,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.array,received:r.parsedType}),u.INVALID;if(r.data.length<this._def.items.length)return(0,u.addIssueToContext)(r,{code:n.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),u.INVALID;let a=this._def.rest;!a&&r.data.length>this._def.items.length&&((0,u.addIssueToContext)(r,{code:n.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...r.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new h(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(s).then(e=>(0,u.ParseStatus).mergeArray(t,e)):(0,u.ParseStatus).mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Y({...this._def,rest:e})}}Y.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:e,typeName:o.ZodTuple,rest:null,...f(t)})};class X extends m{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.object)return(0,u.addIssueToContext)(r,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:r.parsedType}),u.INVALID;let a=[],s=this._def.keyType,o=this._def.valueType;for(let e in r.data)a.push({key:s._parse(new h(r,e,r.path,e)),value:o._parse(new h(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?(0,u.ParseStatus).mergeObjectAsync(t,a):(0,u.ParseStatus).mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return new X(t instanceof m?{keyType:e,valueType:t,typeName:o.ZodRecord,...f(r)}:{keyType:N.create(),valueType:e,typeName:o.ZodRecord,...f(t)})}}class ee extends m{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.map)return(0,u.addIssueToContext)(r,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.map,received:r.parsedType}),u.INVALID;let a=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([e,t],o)=>({key:a._parse(new h(r,e,r.path,[o,"key"])),value:s._parse(new h(r,t,r.path,[o,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let a=await r.key,s=await r.value;if("aborted"===a.status||"aborted"===s.status)return u.INVALID;("dirty"===a.status||"dirty"===s.status)&&t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let a=r.key,s=r.value;if("aborted"===a.status||"aborted"===s.status)return u.INVALID;("dirty"===a.status||"dirty"===s.status)&&t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}}}}ee.create=(e,t,r)=>new ee({valueType:t,keyType:e,typeName:o.ZodMap,...f(r)});class et extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==d.ZodParsedType.set)return(0,u.addIssueToContext)(r,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.set,received:r.parsedType}),u.INVALID;let a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&((0,u.addIssueToContext)(r,{code:n.ZodIssueCode.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&((0,u.addIssueToContext)(r,{code:n.ZodIssueCode.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let s=this._def.valueType;function o(e){let r=new Set;for(let a of e){if("aborted"===a.status)return u.INVALID;"dirty"===a.status&&t.dirty(),r.add(a.value)}return{status:t.value,value:r}}let i=[...r.data.values()].map((e,t)=>s._parse(new h(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>o(e)):o(i)}min(e,t){return new et({...this._def,minSize:{value:e,message:(0,c.errorUtil).toString(t)}})}max(e,t){return new et({...this._def,maxSize:{value:e,message:(0,c.errorUtil).toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}et.create=(e,t)=>new et({valueType:e,minSize:null,maxSize:null,typeName:o.ZodSet,...f(t)});class er extends m{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.function)return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.function,received:t.parsedType}),u.INVALID;function r(e,r){return(0,u.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,l.getErrorMap)(),(0,l.defaultErrorMap)].filter(e=>!!e),issueData:{code:n.ZodIssueCode.invalid_arguments,argumentsError:r}})}function a(e,r){return(0,u.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,l.getErrorMap)(),(0,l.defaultErrorMap)].filter(e=>!!e),issueData:{code:n.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof el){let e=this;return(0,u.OK)(async function(...t){let i=new n.ZodError([]),l=await e._def.args.parseAsync(t,s).catch(e=>{throw i.addIssue(r(t,e)),i}),c=await Reflect.apply(o,this,l),u=await e._def.returns._def.type.parseAsync(c,s).catch(e=>{throw i.addIssue(a(c,e)),i});return u})}{let e=this;return(0,u.OK)(function(...t){let i=e._def.args.safeParse(t,s);if(!i.success)throw new n.ZodError([r(t,i.error)]);let l=Reflect.apply(o,this,i.data),c=e._def.returns.safeParse(l,s);if(!c.success)throw new n.ZodError([a(l,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new er({...this._def,args:Y.create(e).rest(q.create())})}returns(e){return new er({...this._def,returns:e})}implement(e){let t=this.parse(e);return t}strictImplement(e){let t=this.parse(e);return t}static create(e,t,r){return new er({args:e||Y.create([]).rest(q.create()),returns:t||q.create(),typeName:o.ZodFunction,...f(r)})}}class ea extends m{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.getter();return r._parse({data:t.data,path:t.path,parent:t})}}ea.create=(e,t)=>new ea({getter:e,typeName:o.ZodLazy,...f(t)});class es extends m{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{received:t.data,code:n.ZodIssueCode.invalid_literal,expected:this._def.value}),u.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eo(e,t){return new ei({values:e,typeName:o.ZodEnum,...f(t)})}es.create=(e,t)=>new es({value:e,typeName:o.ZodLiteral,...f(t)});class ei extends m{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,u.addIssueToContext)(t,{expected:(0,d.util).joinValues(r),received:t.parsedType,code:n.ZodIssueCode.invalid_type}),u.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,u.addIssueToContext)(t,{received:t.data,code:n.ZodIssueCode.invalid_enum_value,options:r}),u.INVALID}return(0,u.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ei.create(e,{...this._def,...t})}exclude(e,t=this._def){return ei.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ei.create=eo;class en extends m{_parse(e){let t=(0,d.util).getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==d.ZodParsedType.string&&r.parsedType!==d.ZodParsedType.number){let e=(0,d.util).objectValues(t);return(0,u.addIssueToContext)(r,{expected:(0,d.util).joinValues(e),received:r.parsedType,code:n.ZodIssueCode.invalid_type}),u.INVALID}if(this._cache||(this._cache=new Set((0,d.util).getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=(0,d.util).objectValues(t);return(0,u.addIssueToContext)(r,{received:r.data,code:n.ZodIssueCode.invalid_enum_value,options:e}),u.INVALID}return(0,u.OK)(e.data)}get enum(){return this._def.values}}en.create=(e,t)=>new en({values:e,typeName:o.ZodNativeEnum,...f(t)});class el extends m{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.promise&&!1===t.common.async)return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.promise,received:t.parsedType}),u.INVALID;let r=t.parsedType===d.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,u.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}el.create=(e,t)=>new el({type:e,typeName:o.ZodPromise,...f(t)});class ec extends m{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:e=>{(0,u.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===a.type){let e=a.transform(r.data,s);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return u.INVALID;let a=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===a.status?u.INVALID:"dirty"===a.status||"dirty"===t.value?(0,u.DIRTY)(a.value):a});{if("aborted"===t.value)return u.INVALID;let a=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===a.status?u.INVALID:"dirty"===a.status||"dirty"===t.value?(0,u.DIRTY)(a.value):a}}if("refinement"===a.type){let e=e=>{let t=a.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?u.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?u.INVALID:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===a.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,u.isValid)(e)?Promise.resolve(a.transform(e.value,s)).then(e=>({status:t.value,value:e})):u.INVALID);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,u.isValid)(e))return u.INVALID;let o=a.transform(e.value,s);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}}(0,d.util).assertNever(a)}}ec.create=(e,t,r)=>new ec({schema:e,typeName:o.ZodEffects,effect:t,...f(r)}),ec.createWithPreprocess=(e,t,r)=>new ec({schema:t,effect:{type:"preprocess",transform:e},typeName:o.ZodEffects,...f(r)});class eu extends m{_parse(e){let t=this._getType(e);return t===d.ZodParsedType.undefined?(0,u.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eu.create=(e,t)=>new eu({innerType:e,typeName:o.ZodOptional,...f(t)});class ed extends m{_parse(e){let t=this._getType(e);return t===d.ZodParsedType.null?(0,u.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ed.create=(e,t)=>new ed({innerType:e,typeName:o.ZodNullable,...f(t)});class eh extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===d.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eh.create=(e,t)=>new eh({innerType:e,typeName:o.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...f(t)});class ep extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,u.isAsync)(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new n.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new n.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ep.create=(e,t)=>new ep({innerType:e,typeName:o.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...f(t)});class ef extends m{_parse(e){let t=this._getType(e);if(t!==d.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,u.addIssueToContext)(t,{code:n.ZodIssueCode.invalid_type,expected:d.ZodParsedType.nan,received:t.parsedType}),u.INVALID}return{status:"valid",value:e.data}}}ef.create=e=>new ef({typeName:o.ZodNaN,...f(e)});let em=Symbol("zod_brand");class eg extends m{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ev extends m{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){let e=async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?u.INVALID:"dirty"===e.status?(t.dirty(),(0,u.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})};return e()}{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?u.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ev({in:e,out:t,typeName:o.ZodPipeline})}}class ey extends m{_parse(e){let t=this._def.innerType._parse(e),r=e=>((0,u.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,u.isAsync)(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function e_(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eb(e,t={},r){return e?Z.create().superRefine((a,s)=>{let o=e(a);if(o instanceof Promise)return o.then(e=>{if(!e){let e=e_(t,a),o=e.fatal??r??!0;s.addIssue({code:"custom",...e,fatal:o})}});if(!o){let e=e_(t,a),o=e.fatal??r??!0;s.addIssue({code:"custom",...e,fatal:o})}}):Z.create()}ey.create=(e,t)=>new ey({innerType:e,typeName:o.ZodReadonly,...f(t)});let eS={object:Q.lazycreate};(s=o||(o={})).ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly";let eE=(e,t={message:`Input not instance of ${e.name}`})=>eb(t=>t instanceof e,t),ew=N.create,eP=j.create,eR=ef.create,ex=U.create,eC=L.create,eI=D.create,eT=$.create,ek=F.create,eO=M.create,ez=Z.create,eA=q.create,eN=B.create,ej=V.create,eU=H.create,eL=Q.create,eD=Q.strictCreate,e$=K.create,eF=J.create,eM=G.create,eZ=Y.create,eq=X.create,eB=ee.create,eV=et.create,eH=er.create,eQ=ea.create,eK=es.create,eW=ei.create,eJ=en.create,eG=el.create,eY=ec.create,eX=eu.create,e0=ed.create,e1=ec.createWithPreprocess,e2=ev.create,e4=()=>ew().optional(),e9=()=>eP().optional(),e6=()=>eC().optional(),e5={string:e=>N.create({...e,coerce:!0}),number:e=>j.create({...e,coerce:!0}),boolean:e=>L.create({...e,coerce:!0}),bigint:e=>U.create({...e,coerce:!0}),date:e=>D.create({...e,coerce:!0})},e3=u.INVALID},{"./ZodError.js":"flIPc","./errors.js":"8d2iX","./helpers/errorUtil.js":"36Jii","./helpers/parseUtil.js":"agUoZ","./helpers/util.js":"5bItI","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"36Jii":[function(e,t,r){var a,s,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"errorUtil",()=>s),(a=s||(s={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},a.toString=e=>"string"==typeof e?e:e?.message},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2078i":[function(e,t,r){var a=e("f7dd346044c34c6"),s=e("7a9956f372715dcc"),Cache=e("5169c4eac89c863f"),o=e("9f1d640a8f9c4afc"),i=e("4d82020015b3afe8"),n=e("1432f29152da5daf"),l=e("914f694b4009365d"),c=e("4687edf7dbe4b29d"),u=e("292cd9db142892b3");t.exports=g,g.prototype.validate=function(e,t){if("string"==typeof e){if(!(r=this.getSchema(e)))throw Error('no schema with key or ref "'+e+'"')}else{var r,a=this._addSchema(e);r=a.validate||this._compile(a)}var s=r(t);return!0!==r.$async&&(this.errors=r.errors),s},g.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},g.prototype.addSchema=function(e,t,r,a){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,a);return this}var i=this._getId(e);if(void 0!==i&&"string"!=typeof i)throw Error("schema id must be string");return E(this,t=s.normalizeId(t||i)),this._schemas[t]=this._addSchema(e,r,a,!0),this},g.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},g.prototype.validateSchema=function(e,t){var r,a=e.$schema;if(void 0!==a&&"string"!=typeof a)throw Error("$schema must be a string");if(!(a=a||this._opts.defaultMeta||(r=this._opts.meta,this._opts.defaultMeta="object"==typeof r?this._getId(r)||r:this.getSchema(p)?p:void 0,this._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(a,e);if(!s&&t){var o="schema is invalid: "+this.errorsText();if("log"==this._opts.validateSchema)this.logger.error(o);else throw Error(o)}return s},g.prototype.getSchema=function(e){var t=v(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=s.schema.call(e,{schema:{}},t);if(r){var i=r.schema,n=r.root,l=r.baseId,c=a.call(e,i,n,void 0,l);return e._fragments[t]=new o({ref:t,fragment:!0,schema:i,root:n,baseId:l,validate:c}),c}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return y(this,this._schemas,e),y(this,this._refs,e),this;switch(typeof e){case"undefined":y(this,this._schemas),y(this,this._refs),this._cache.clear();break;case"string":var t=v(this,e);t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e];break;case"object":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var o=this._getId(e);o&&(o=s.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},g.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,s="",o=0;o<e.length;o++){var i=e[o];i&&(s+=a+i.dataPath+" "+i.message+r)}return s.slice(0,-r.length)},g.prototype._addSchema=function(e,t,r,a){if("object"!=typeof e&&"boolean"!=typeof e)throw Error("schema should be object or boolean");var i,n=this._opts.serialize,l=n?n(e):e,c=this._cache.get(l);if(c)return c;a=a||!1!==this._opts.addUsedSchema;var u=s.normalizeId(this._getId(e));u&&a&&E(this,u);var d=!1!==this._opts.validateSchema&&!t;!d||(i=u&&u==s.normalizeId(e.$schema))||this.validateSchema(e,!0);var h=s.ids.call(this,e),p=new o({id:u,schema:e,localRefs:h,cacheKey:l,meta:r});return"#"!=u[0]&&a&&(this._refs[u]=p),this._cache.put(l,p),d&&i&&this.validateSchema(e,!0),p},g.prototype._compile=function(e,t){var r,s;if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{s=a.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=s,e.refs=s.refs,e.refVal=s.refVal,e.root=s.root,s;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}},g.prototype.compileAsync=e("93a7b3072f6d309");var d=e("fb2e4f3d81c5111a");g.prototype.addKeyword=d.add,g.prototype.getKeyword=d.get,g.prototype.removeKeyword=d.remove,g.prototype.validateKeyword=d.validate;var h=e("b6ec3ec3248ee9fb");g.ValidationError=h.Validation,g.MissingRefError=h.MissingRef,g.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function g(t){if(!(this instanceof g))return new g(t);t=this._opts=u.copy(t)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:w,warn:w,error:w};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=n(t.format),this._cache=t.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"auto":return S;case"id":return _;default:return b}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=i),this._metaOpts=function(e){for(var t=u.copy(e._opts),r=0;r<f.length;r++)delete t[f[r]];return t}(this),t.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),t.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(t){if(t._opts.$data&&(r=e("9bfbe520330691f6"),t.addMetaSchema(r,r.$id,!0)),!1!==t._opts.meta){var r,a=e("5772ffc00882093d");t._opts.$data&&(a=c(a,m)),t.addMetaSchema(a,p,!0),t._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t){if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}}(this)}function v(e,t){return t=s.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function y(e,t,r){for(var a in t){var s=t[a];!s.meta&&(!r||r.test(a))&&(e._cache.del(s.cacheKey),delete t[a])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function b(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function S(e){if(e.$id&&e.id&&e.$id!=e.id)throw Error("schema $id is different from id");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw Error('schema with key or id "'+t+'" already exists')}function w(){}},{f7dd346044c34c6:"aBY2U","7a9956f372715dcc":"2cknd","5169c4eac89c863f":"gVoSp","9f1d640a8f9c4afc":"j5XmC","4d82020015b3afe8":"ivyHG","1432f29152da5daf":"cFEr0","914f694b4009365d":"b8HP9","4687edf7dbe4b29d":"eHiAi","292cd9db142892b3":"20cdj","93a7b3072f6d309":"1MbQO",fb2e4f3d81c5111a:"czORN",b6ec3ec3248ee9fb:"4hhHH","9bfbe520330691f6":"lyEF8","5772ffc00882093d":"c5Yox"}],aBY2U:[function(e,t,r){var a=e("b589f22f51e17623"),s=e("a05853e7143a65f5"),o=e("7d0b6873cca90c67"),i=e("d698a727cccd50d6"),n=e("1bb2bd76cac2de13"),l=s.ucs2length,c=e("c3d7d0741df3ddff"),u=o.Validation;function d(e,t,r){var a=p.call(this,e,t,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:r},{index:a,compiling:!1})}function h(e,t,r){var a=p.call(this,e,t,r);a>=0&&this._compilations.splice(a,1)}function p(e,t,r){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==e&&s.root==t&&s.baseId==r)return a}return -1}function f(e,t){return"var pattern"+e+" = new RegExp("+s.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var r="",a=0;a<e.length;a++)r+=t(a,e);return r}t.exports=function e(t,r,p,_){var b=this,S=this._opts,E=[void 0],w={},P=[],R={},x=[],C={},I=[];r=r||{schema:t,refVal:E,refs:w};var T=d.call(this,t,r,_),k=this._compilations[T.index];if(T.compiling)return k.callValidate=function e(){var t=k.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var O=this._formats,z=this.RULES;try{var A=j(t,r,p,_);k.validate=A;var N=k.callValidate;return N&&(N.schema=A.schema,N.errors=null,N.refs=A.refs,N.refVal=A.refVal,N.root=A.root,N.$async=A.$async,S.sourceCode&&(N.source=A.source)),A}finally{h.call(this,t,r,_)}function j(t,i,d,h){var p,_=!i||i&&i.schema==t;if(i.schema!=r.schema)return e.call(b,t,i,d,h);var R=!0===t.$async,C=n({isTop:!0,schema:t,isRoot:_,baseId:h,root:i,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:z,validate:n,util:s,resolve:a,resolveRef:U,usePattern:$,useDefault:F,useCustomRule:M,opts:S,formats:O,logger:b.logger,self:b});C=y(E,g)+y(P,f)+y(x,m)+y(I,v)+C,S.processCode&&(C=S.processCode(C,t));try{p=Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",C)(b,z,O,r,E,x,I,c,l,u),E[0]=p}catch(e){throw b.logger.error("Error compiling schema, function code:",C),e}return p.schema=t,p.errors=null,p.refs=w,p.refVal=E,p.root=_?p:i,R&&(p.$async=!0),!0===S.sourceCode&&(p.source={code:C,patterns:P,defaults:x}),p}function U(t,s,o){var i,n,l,c,u,d=w[s=a.url(t,s)];if(void 0!==d)return D(c=E[d],u="refVal["+d+"]");if(!o&&r.refs){var h=r.refs[s];if(void 0!==h)return u=L(s,c=r.refVal[h]),D(c,u)}u=L(s);var f=a.call(b,j,r,s);if(void 0===f){var m=p&&p[s];m&&(f=a.inlineRef(m,S.inlineRefs)?m:e.call(b,m,r,p,t))}if(void 0!==f)return i=s,n=f,E[w[i]]=n,D(f,u);l=s,delete w[l]}function L(e,t){var r=E.length;return E[r]=t,w[e]=r,"refVal"+r}function D(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function $(e){var t=R[e];return void 0===t&&(t=R[e]=P.length,P[t]=e),"pattern"+t}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return s.toQuotedString(e);case"object":if(null===e)return"null";var t=i(e),r=C[t];return void 0===r&&(r=C[t]=x.length,x[r]=e),"default"+r}}function M(e,t,r,a){if(!1!==b._opts.validateSchema){var s,o=e.definition.dependencies;if(o&&!o.every(function(e){return Object.prototype.hasOwnProperty.call(r,e)}))throw Error("parent schema must have all required keywords: "+o.join(","));var i=e.definition.validateSchema;if(i&&!i(t)){var n="keyword schema is invalid: "+b.errorsText(i.errors);if("log"==b._opts.validateSchema)b.logger.error(n);else throw Error(n)}}var l=e.definition.compile,c=e.definition.inline,u=e.definition.macro;if(l)s=l.call(b,t,r,a);else if(u)s=u.call(b,t,r,a),!1!==S.validateSchema&&b.validateSchema(s,!0);else if(c)s=c.call(b,a,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw Error('custom keyword "'+e.keyword+'"failed to compile');var d=I.length;return I[d]=s,{code:"customRule"+d,validate:s}}}},{b589f22f51e17623:"2cknd",a05853e7143a65f5:"20cdj","7d0b6873cca90c67":"4hhHH",d698a727cccd50d6:"ivyHG","1bb2bd76cac2de13":"siW9F",c3d7d0741df3ddff:"jZbiN"}],"2cknd":[function(e,t,r){var a=e("9cd31ea3887257c9"),s=e("db717c6b6196b116"),o=e("2c84dcea76bf50ab"),i=e("e62d6335d482eb3f"),n=e("16cd7b7b84452e6c");function l(e,t,r){var a,s,o,n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return l.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof i)return f(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var u=c.call(this,t,r);return u&&(a=u.schema,t=u.root,o=u.baseId),a instanceof i?s=a.validate||e.call(this,a.schema,t,void 0,o):void 0!==a&&(s=f(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,o)),s}function c(e,t){var r=a.parse(t),s=g(r),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||s!==o){var n=y(s),l=this._refs[n];if("string"==typeof l)return u.call(this,e,l,r);if(l instanceof i)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[n])instanceof i))return;if(l.validate||this._compile(l),n==y(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,r,o,e.schema,e)}function u(e,t,r){var a=c.call(this,e,t);if(a){var s=a.schema,o=a.baseId;e=a.root;var i=this._getId(s);return i&&(o=_(o,i)),h.call(this,r,o,s,e)}}t.exports=l,l.normalizeId=y,l.fullPath=m,l.url=_,l.ids=function(e){var t=y(this._getId(e)),r={"":t},i={"":m(t,!1)},l={},c=this;return n(e,{allKeys:!0},function(e,t,n,u,d,h,p){if(""!==t){var f=c._getId(e),m=r[u],g=i[u]+"/"+d;if(void 0!==p&&(g+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof f){f=m=y(m?a.resolve(m,f):f);var v=c._refs[f];if("string"==typeof v&&(v=c._refs[v]),v&&v.schema){if(!s(e,v.schema))throw Error('id "'+f+'" resolves to more than one schema')}else if(f!=y(g)){if("#"==f[0]){if(l[f]&&!s(e,l[f]))throw Error('id "'+f+'" resolves to more than one schema');l[f]=e}else c._refs[f]=g}}r[t]=m,i[t]=g}}),l},l.inlineRef=f,l.schema=c;var d=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,r,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var s=e.fragment.split("/"),i=1;i<s.length;i++){var n=s[i];if(n){if(void 0===(r=r[n=o.unescapeFragment(n)]))break;if(!d[n]&&((l=this._getId(r))&&(t=_(t,l)),r.$ref)){var l,u=_(t,r.$ref),h=c.call(this,a,u);h&&(r=h.schema,a=h.root,t=h.baseId)}}}if(void 0!==r&&r!==a.schema)return{schema:r,root:a,baseId:t}}}var p=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if("object"==typeof(r=t[a])&&!e(r))return!1}else for(var s in t)if("$ref"==s||"object"==typeof(r=t[s])&&!e(r))return!1;return!0}(e):t?function e(t){var r,a=0;if(Array.isArray(t)){for(var s=0;s<t.length;s++)if("object"==typeof(r=t[s])&&(a+=e(r)),a==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(p[o])a++;else if("object"==typeof(r=t[o])&&(a+=e(r)+1),a==1/0)return 1/0}return a}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),g(a.parse(e))}function g(e){return a.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function y(e){return e?e.replace(v,""):""}function _(e,t){return t=y(t),a.resolve(e,t)}},{"9cd31ea3887257c9":"a3lbR",db717c6b6196b116:"jZbiN","2c84dcea76bf50ab":"20cdj",e62d6335d482eb3f:"j5XmC","16cd7b7b84452e6c":"eL3mR"}],a3lbR:[function(e,t,r){(function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!(t.length>1))return t[0];t[0]=t[0].slice(0,-1);for(var a=t.length-1,s=1;s<a;++s)t[s]=t[s].slice(1,-1);return t[a]=t[a].slice(1),t.join("")}function r(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function s(e){return e.toUpperCase()}function o(e){var a="[A-Za-z]",s="[0-9]",o=t(s,"[A-Fa-f]"),i=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),n="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",n),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(a,s,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\ud7ff\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=r(a+t(a,s,"[\\+\\-\\.]")+"*"),h=r(r(i+"|"+t(u,n,"[\\:]"))+"*"),p=(r(r("25[0-5]")+"|"+r("2[0-4]"+s)+"|"+r("1"+s+s)+"|"+r("[1-9]"+s)+"|"+s),r(r("25[0-5]")+"|"+r("2[0-4]"+s)+"|"+r("1"+s+s)+"|"+r("0?[1-9]"+s)+"|0?0?"+s)),f=r(p+"\\."+p+"\\."+p+"\\."+p),m=r(o+"{1,4}"),g=r(r(m+"\\:"+m)+"|"+f),v=r(r(m+"\\:")+"{6}"+g),y=r("\\:\\:"+r(m+"\\:")+"{5}"+g),_=r(r(m)+"?\\:\\:"+r(m+"\\:")+"{4}"+g),b=r(r(r(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+r(m+"\\:")+"{3}"+g),S=r(r(r(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+r(m+"\\:")+"{2}"+g),E=r(r(r(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),w=r(r(r(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),P=r(r(r(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),R=r(r(r(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),x=r([v,y,_,b,S,E,w,P,R].join("|")),C=r(r(u+"|"+i)+"+"),I=(r(x+"\\%25"+C),r(x+r("\\%25|\\%(?!"+o+"{2})")+C)),T=r("[vV]"+o+"+\\."+t(u,n,"[\\:]")+"+"),k=r("\\["+r(I+"|"+x+"|"+T)+"\\]"),O=r(r(i+"|"+t(u,n))+"*"),z=r(k+"|"+f+"(?!"+O+")|"+O),A=r(s+"*"),N=r(r(h+"@")+"?"+z+r("\\:"+A)+"?"),j=r(i+"|"+t(u,n,"[\\:\\@]")),U=r(j+"*"),L=r(j+"+"),D=r(r(i+"|"+t(u,n,"[\\@]"))+"+"),$=r(r("\\/"+U)+"*"),F=r("\\/"+r(L+$)+"?"),M=r(D+$),Z=r(L+$),q="(?!"+j+")",B=(r($+"|"+F+"|"+M+"|"+Z+"|"+q),r(r(j+"|"+t("[\\/\\?]",c))+"*")),V=r(r(j+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+N+$)+"|"+F+"|"+Z+"|"+q),Q=r(d+"\\:"+H+r("\\?"+B)+"?"+r("\\#"+V)+"?"),K=r(r("\\/\\/"+N+$)+"|"+F+"|"+M+"|"+q),W=r(K+r("\\?"+B)+"?"+r("\\#"+V)+"?");return r(Q+"|"+W),r(d+"\\:"+H+r("\\?"+B)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+z+")"+r("\\:("+A+")")+"?)")+"?("+$+"|"+F+"|"+Z+"|"+q+")"),r("\\?("+B+")"),r("\\#("+V+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+z+")"+r("\\:("+A+")")+"?)")+"?("+$+"|"+F+"|"+M+"|"+q+")"),r("\\?("+B+")"),r("\\#("+V+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+z+")"+r("\\:("+A+")")+"?)")+"?("+$+"|"+F+"|"+Z+"|"+q+")"),r("\\?("+B+")"),r("\\#("+V+")"),r("("+h+")@"),r("\\:("+A+")"),{NOT_SCHEME:RegExp(t("[^]",a,s,"[\\+\\-\\.]"),"g"),NOT_USERINFO:RegExp(t("[^\\%\\:]",u,n),"g"),NOT_HOST:RegExp(t("[^\\%\\[\\]\\:]",u,n),"g"),NOT_PATH:RegExp(t("[^\\%\\/\\:\\@]",u,n),"g"),NOT_PATH_NOSCHEME:RegExp(t("[^\\%\\/\\@]",u,n),"g"),NOT_QUERY:RegExp(t("[^\\%]",u,n,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:RegExp(t("[^\\%]",u,n,"[\\:\\@\\/\\?]"),"g"),ESCAPE:RegExp(t("[^]",u,n),"g"),UNRESERVED:RegExp(u,"g"),OTHER_CHARS:RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:RegExp(i,"g"),IPV4ADDRESS:RegExp("^("+f+")$"),IPV6ADDRESS:RegExp("^\\[?("+x+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+C+")")+"?\\]?$")}}var i=o(!1),n=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,s=!1,o=void 0;try{for(var i,n=e[Symbol.iterator]();!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{!a&&n.return&&n.return()}finally{if(s)throw o}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")},c=function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r},u=/^xn--/,d=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function g(e){throw RangeError(p[e])}function v(e,t){var r=e.split("@"),a="";return r.length>1&&(a=r[0]+"@",e=r[1]),a+(function(e,t){for(var r=[],a=e.length;a--;)r[a]=t(e[a]);return r})((e=e.replace(h,".")).split("."),t).join(".")}function y(e){for(var t=[],r=0,a=e.length;r<a;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<a){var o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&s)<<10)+(1023&o)+65536):(t.push(s),r--)}else t.push(s)}return t}var _=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,r){var a=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;a+=36)e=f(e/35);return f(a+36*e/(e+38))},S=function(e){var t=[],r=e.length,a=0,s=128,o=72,i=e.lastIndexOf("-");i<0&&(i=0);for(var n=0;n<i;++n)e.charCodeAt(n)>=128&&g("not-basic"),t.push(e.charCodeAt(n));for(var l=i>0?i+1:0;l<r;){for(var c=a,u=1,d=36;;d+=36){l>=r&&g("invalid-input");var h,p=(h=e.charCodeAt(l++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36;(p>=36||p>f((2147483647-a)/u))&&g("overflow"),a+=p*u;var m=d<=o?1:d>=o+26?26:d-o;if(p<m)break;var v=36-m;u>f(2147483647/v)&&g("overflow"),u*=v}var y=t.length+1;o=b(a-c,y,0==c),f(a/y)>2147483647-s&&g("overflow"),s+=f(a/y),a%=y,t.splice(a++,0,s)}return String.fromCodePoint.apply(String,t)},E=function(e){var t=[],r=(e=y(e)).length,a=128,s=0,o=72,i=!0,n=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;d<128&&t.push(m(d))}}catch(e){n=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw l}}var h=t.length,p=h;for(h&&t.push("-");p<r;){var v=2147483647,S=!0,E=!1,w=void 0;try{for(var P,R=e[Symbol.iterator]();!(S=(P=R.next()).done);S=!0){var x=P.value;x>=a&&x<v&&(v=x)}}catch(e){E=!0,w=e}finally{try{!S&&R.return&&R.return()}finally{if(E)throw w}}var C=p+1;v-a>f((2147483647-s)/C)&&g("overflow"),s+=(v-a)*C,a=v;var I=!0,T=!1,k=void 0;try{for(var O,z=e[Symbol.iterator]();!(I=(O=z.next()).done);I=!0){var A=O.value;if(A<a&&++s>2147483647&&g("overflow"),A==a){for(var N=s,j=36;;j+=36){var U=j<=o?1:j>=o+26?26:j-o;if(N<U)break;var L=N-U,D=36-U;t.push(m(_(U+L%D,0))),N=f(L/D)}t.push(m(_(N,0))),o=b(s,C,p==h),s=0,++p}}}catch(e){T=!0,k=e}finally{try{!I&&z.return&&z.return()}finally{if(T)throw k}}++s,++a}return t.join("")},w={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,c(e))}},decode:S,encode:E,toASCII:function(e){return v(e,function(e){return d.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return v(e,function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e})}},P={};function R(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function x(e){for(var t="",r=0,a=e.length;r<a;){var s=parseInt(e.substr(r+1,2),16);s<128?(t+=String.fromCharCode(s),r+=3):s>=194&&s<224?(a-r>=6?t+=String.fromCharCode((31&s)<<6|63&parseInt(e.substr(r+4,2),16)):t+=e.substr(r,6),r+=6):s>=224?(a-r>=9?t+=String.fromCharCode((15&s)<<12|(63&parseInt(e.substr(r+4,2),16))<<6|63&parseInt(e.substr(r+7,2),16)):t+=e.substr(r,9),r+=9):(t+=e.substr(r,3),r+=3)}return t}function C(e,t){function r(e){var r=x(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,R).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,R).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,R).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,R).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,R).replace(t.PCT_ENCODED,s)),e}function I(e){return e.replace(/^0*(.*)/,"$1")||"0"}function T(e,t){var r=l(e.match(t.IPV4ADDRESS)||[],2)[1];return r?r.split(".").map(I).join("."):e}function k(e,t){var r=l(e.match(t.IPV6ADDRESS)||[],3),a=r[1],s=r[2];if(!a)return e;for(var o=l(a.toLowerCase().split("::").reverse(),2),i=o[0],n=o[1],c=n?n.split(":").map(I):[],u=i.split(":").map(I),d=t.IPV4ADDRESS.test(u[u.length-1]),h=d?7:8,p=u.length-h,f=Array(h),m=0;m<h;++m)f[m]=c[m]||u[p+m]||"";d&&(f[h-1]=T(f[h-1],t));var g=f.reduce(function(e,t,r){if(!t||"0"===t){var a=e[e.length-1];a&&a.index+a.length===r?a.length++:e.push({index:r,length:1})}return e},[]).sort(function(e,t){return t.length-e.length})[0],v=void 0;if(g&&g.length>1){var y=f.slice(0,g.index),_=f.slice(g.index+g.length);v=y.join(":")+"::"+_.join(":")}else v=f.join(":");return s&&(v+="%"+s),v}var O=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z=void 0==="".match(/(){0}/)[1];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},a=!1!==t.iri?n:i;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var s=e.match(O);if(s){z?(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5])):(r.scheme=s[1]||void 0,r.userinfo=-1!==e.indexOf("@")?s[3]:void 0,r.host=-1!==e.indexOf("//")?s[4]:void 0,r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=-1!==e.indexOf("?")?s[7]:void 0,r.fragment=-1!==e.indexOf("#")?s[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)),r.host&&(r.host=k(T(r.host,a),a)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=P[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)C(r,a);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=w.toASCII(r.host.replace(a.PCT_ENCODED,x).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}C(r,i)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var N=/^\.\.?\//,j=/^\/\.(\/|$)/,U=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function D(e){for(var t=[];e.length;)if(e.match(N))e=e.replace(N,"");else if(e.match(j))e=e.replace(j,"/");else if(e.match(U))e=e.replace(U,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(L);if(r){var a=r[0];e=e.slice(a.length),t.push(a)}else throw Error("Unexpected dot segment condition")}return t.join("")}function $(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.iri?n:i,o=[],l=P[(a.scheme||e.scheme||"").toLowerCase()];if(l&&l.serialize&&l.serialize(e,a),e.host){if(s.IPV6ADDRESS.test(e.host));else if(a.domainHost||l&&l.domainHost)try{e.host=a.iri?w.toUnicode(e.host):w.toASCII(e.host.replace(s.PCT_ENCODED,x).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(a.iri?"Unicode":"ASCII")+" via punycode: "+t}}C(e,s),"suffix"!==a.reference&&e.scheme&&(o.push(e.scheme),o.push(":"));var c=(t=!1!==a.iri?n:i,r=[],void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(k(T(String(e.host),t),t).replace(t.IPV6ADDRESS,function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})),("number"==typeof e.port||"string"==typeof e.port)&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0);if(void 0!==c&&("suffix"!==a.reference&&o.push("//"),o.push(c),e.path&&"/"!==e.path.charAt(0)&&o.push("/")),void 0!==e.path){var u=e.path;a.absolutePath||l&&l.absolutePath||(u=D(u)),void 0===c&&(u=u.replace(/^\/\//,"/%2F")),o.push(u)}return void 0!==e.query&&(o.push("?"),o.push(e.query)),void 0!==e.fragment&&(o.push("#"),o.push(e.fragment)),o.join("")}function F(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],s={};return a||(e=A($(e,r),r),t=A($(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=D(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=D(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=D(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=D(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function M(e,t){return e&&e.toString().replace(t&&t.iri?n.PCT_ENCODED:i.PCT_ENCODED,x)}var Z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return(e.port===(r?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}},q={scheme:"https",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize};function B(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var V={scheme:"ws",domainHost:!0,parse:function(e,t){return e.secure=B(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e,t){if((e.port===(B(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=l(e.resourceName.split("?"),2),a=r[0],s=r[1];e.path=a&&"/"!==a?a:void 0,e.query=s,e.resourceName=void 0}return e.fragment=void 0,e}},H={scheme:"wss",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},Q={},K="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\ud7ff\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",W="[0-9A-Fa-f]",J=r(r("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+r("%[89A-Fa-f]"+W+"%"+W+W)+"|"+r("%"+W+W)),G=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=RegExp(K,"g"),X=RegExp(J,"g"),ee=RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',G),"g"),et=RegExp(t("[^]",K,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g");function er(e){var t=x(e);return t.match(Y)?t:e}var ea={scheme:"mailto",parse:function(e,t){var r=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var a=!1,s={},o=e.query.split("&"),i=0,n=o.length;i<n;++i){var l=o[i].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),u=0,d=c.length;u<d;++u)r.push(c[u]);break;case"subject":e.subject=M(l[1],t);break;case"body":e.body=M(l[1],t);break;default:a=!0,s[M(l[0],t)]=M(l[1],t)}}a&&(e.headers=s)}e.query=void 0;for(var h=0,p=r.length;h<p;++h){var f=r[h].split("@");if(f[0]=M(f[0]),t.unicodeSupport)f[1]=M(f[1],t).toLowerCase();else try{f[1]=w.toASCII(M(f[1],t).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}r[h]=f.join("@")}return e},serialize:function(e,t){var r,a=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(a){for(var o=0,i=a.length;o<i;++o){var n=String(a[o]),l=n.lastIndexOf("@"),c=n.slice(0,l).replace(X,er).replace(X,s).replace(ee,R),u=n.slice(l+1);try{u=t.iri?w.toUnicode(u):w.toASCII(M(u,t).toLowerCase())}catch(r){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}a[o]=c+"@"+u}e.path=a.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==Q[p]&&h.push(p.replace(X,er).replace(X,s).replace(et,R)+"="+d[p].replace(X,er).replace(X,s).replace(et,R));return h.length&&(e.query=h.join("&")),e}},es=/^([^\:]+)\:(.*)/,eo={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(es),a=e;if(r){var s=t.scheme||a.scheme||"urn",o=r[1].toLowerCase(),i=r[2],n=P[s+":"+(t.nid||o)];a.nid=o,a.nss=i,a.path=void 0,n&&(a=n.parse(a,t))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",a=e.nid,s=P[r+":"+(t.nid||a)];s&&(e=s.serialize(e,t));var o=e,i=e.nss;return o.path=(a||t.nid)+":"+i,o}},ei=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,en={scheme:"urn:uuid",parse:function(e,t){return e.uuid=e.nss,e.nss=void 0,t.tolerant||e.uuid&&e.uuid.match(ei)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return e.nss=(e.uuid||"").toLowerCase(),e}};P[Z.scheme]=Z,P[q.scheme]=q,P[V.scheme]=V,P[H.scheme]=H,P[ea.scheme]=ea,P[eo.scheme]=eo,P[en.scheme]=en,e.SCHEMES=P,e.pctEncChar=R,e.pctDecChars=x,e.parse=A,e.removeDotSegments=D,e.serialize=$,e.resolveComponents=F,e.resolve=function(e,t,r){var a=function(e,t){if(t)for(var r in t)e[r]=t[r];return e}({scheme:"null"},r);return $(F(A(e,a),A(t,a),a,!0),a)},e.normalize=function(e,t){return"string"==typeof e?e=$(A(e,t),t):"object"===a(e)&&(e=A($(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=$(A(e,r),r):"object"===a(e)&&(e=$(e,r)),"string"==typeof t?t=$(A(t,r),r):"object"===a(t)&&(t=$(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?n.ESCAPE:i.ESCAPE,R)},e.unescapeComponent=M,Object.defineProperty(e,"__esModule",{value:!0})})(r)},{}],jZbiN:[function(e,t,r){t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(s=a;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=a;0!=s--;){var a,s,o,i=o[s];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r}},{}],"20cdj":[function(e,t,r){function a(e,t,r,a){var s=a?" !== ":" === ",o=a?" || ":" && ",i=a?"!":"",n=a?"":"!";switch(e){case"null":return t+s+"null";case"array":return i+"Array.isArray("+t+")";case"object":return"("+i+t+o+"typeof "+t+s+'"object"'+o+n+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+s+'"number"'+o+n+"("+t+" % 1)"+o+t+s+t+(r?o+i+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+s+'"'+e+'"'+(r?o+i+"isFinite("+t+")":"")+")";default:return"typeof "+t+s+'"'+e+'"'}}t.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:a,checkDataTypes:function(e,t,r){if(1===e.length)return a(e[0],t,r,!0);var s="",i=o(e);for(var n in i.array&&i.object&&(s=(i.null?"(":"(!"+t+" || ")+"typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)s+=(s?" && ":"")+a(n,t,r,!0);return s},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],a=0;a<t.length;a++){var o=t[a];s[o]?r[r.length]=o:"array"===e&&"array"===o&&(r[r.length]=o)}if(r.length)return r}else if(s[t])return[t];else if("array"===e&&"array"===t)return["array"]},toHash:o,getProperty:l,escapeQuotes:c,equal:e("6e2c918aa5d5ba8a"),ucs2length:e("6ee8393837aee5ca"),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var a in e)if(a!=r&&t[a])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e){for(var r in e)if(!t[r])return r}},toQuotedString:u,getPathExpr:function(e,t,r,a){return p(e,r?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return p(e,r?u("/"+f(t)):u(l(t)))},getData:function(e,t,r){if(""===e)return"rootData";if("/"==e[0]){if(!d.test(e))throw Error("Invalid JSON-pointer: "+e);s=e,o="rootData"}else{if(!(i=e.match(h)))throw Error("Invalid JSON-pointer: "+e);if(a=+i[1],"#"==(s=i[2])){if(a>=t)throw Error("Cannot access property/index "+a+" levels up, current level is "+t);return r[t-a]}if(a>t)throw Error("Cannot access data "+a+" levels up, current level is "+t);if(o="data"+(t-a||""),!s)return o}for(var a,s,o,i,n=o,c=s.split("/"),u=0;u<c.length;u++){var p=c[u];p&&(o+=l(m(p)),n+=" && "+o)}return n},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(f(e))},escapeJsonPointer:f};var s=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var i=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":i.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(n,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function u(e){return"'"+c(e)+"'"}var d=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function f(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},{"6e2c918aa5d5ba8a":"jZbiN","6ee8393837aee5ca":"gjFyt"}],gjFyt:[function(e,t,r){t.exports=function(e){for(var t,r=0,a=e.length,s=0;s<a;)r++,(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<a&&(64512&(t=e.charCodeAt(s)))==56320&&s++;return r}},{}],j5XmC:[function(e,t,r){var a=e("864288866c3cff07");t.exports=function(e){a.copy(e,this)}},{"864288866c3cff07":"20cdj"}],eL3mR:[function(e,t,r){var a=t.exports=function(e,t,r){"function"==typeof t&&(r=t,t={});var s="function"==typeof(r=t.cb||r)?r:r.pre||function(){};(function e(t,r,s,o,i,n,l,c,u,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in r(o,i,n,l,c,u,d),o){var p=o[h];if(Array.isArray(p)){if(h in a.arrayKeywords)for(var f=0;f<p.length;f++)e(t,r,s,p[f],i+"/"+h+"/"+f,n,i,h,o,f)}else if(h in a.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(t,r,s,p[m],i+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),n,i,h,o,m)}else(h in a.keywords||t.allKeys&&!(h in a.skipKeywords))&&e(t,r,s,p,i+"/"+h,n,i,h,o)}s(o,i,n,l,c,u,d)}})(t,s,r.post||function(){},e,"",e)};a.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},a.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},a.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},a.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],"4hhHH":[function(e,t,r){var a=e("91e7fc61203c0143");function s(e,t,r){this.message=r||s.message(e,t),this.missingRef=a.url(e,t),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}t.exports={Validation:o(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:o(s)},s.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},{"91e7fc61203c0143":"2cknd"}],ivyHG:[function(e,t,r){t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,a="boolean"==typeof t.cycles&&t.cycles,s=t.cmp&&(r=t.cmp,function(e){return function(t,a){return r({key:t,value:e[t]},{key:a,value:e[a]})}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);if(Array.isArray(t)){for(r=0,i="[";r<t.length;r++)r&&(i+=","),i+=e(t[r])||"null";return i+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(a)return JSON.stringify("__cycle__");throw TypeError("Converting circular structure to JSON")}var r,i,n=o.push(t)-1,l=Object.keys(t).sort(s&&s(t));for(r=0,i="";r<l.length;r++){var c=l[r],u=e(t[c]);u&&(i&&(i+=","),i+=JSON.stringify(c)+":"+u)}return o.splice(n,1),"{"+i+"}"}}(e)}},{}],siW9F:[function(e,t,r){t.exports=function(e,t,r){var a="",s=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var n=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(n){var l="unknown keyword: "+n;if("log"===e.opts.strictKeywords)e.logger.warn(l);else throw Error(l)}}if(e.isTop&&(a+=" var validate = ",s&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+i+" */ ")),"boolean"==typeof e.schema||!(o||e.schema.$ref)){var c,t="false schema",u=e.level,d=e.dataLevel,h=e.schema[t],p=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,g="data"+(d||""),v="valid"+u;if(!1===e.schema){e.isTop?m=!0:a+=" var "+v+" = false; ";var y=y||[];y.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(c||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),a+=" } "):a+=" {} ";var _=a;a=y.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+v+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var b=e.isTop,u=e.level=0,d=e.dataLevel=0,g="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var S="default is ignored in the schema root";if("log"===e.opts.strictDefaults)e.logger.warn(S);else throw Error(S)}a+=" var vErrors = null;  var errors = 0;      if (rootData === undefined) rootData = data; "}else{var u=e.level,d=e.dataLevel,g="data"+(d||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),s&&!e.async)throw Error("async schema in sync schema");a+=" var errs_"+u+" = errors;"}var v="valid"+u,m=!e.opts.allErrors,E="",w="",P=e.schema.type,R=Array.isArray(P);if(P&&e.opts.nullable&&!0===e.schema.nullable&&(R?-1==P.indexOf("null")&&(P=P.concat("null")):"null"!=P&&(P=[P,"null"],R=!0)),R&&1==P.length&&(P=P[0],R=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),P){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,P);var C=e.RULES.types[P];if(x||R||!0===C||C&&!X(C)){var p=e.schemaPath+".type",f=e.errSchemaPath+"/type",p=e.schemaPath+".type",f=e.errSchemaPath+"/type",I=R?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[I](P,g,e.opts.strictNumbers,!0)+") { ",x){var T="dataType"+u,k="coerced"+u;a+=" var "+T+" = typeof "+g+"; var "+k+" = undefined; ","array"==e.opts.coerceTypes&&(a+=" if ("+T+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+T+" = typeof "+g+"; if ("+e.util.checkDataType(e.schema.type,g,e.opts.strictNumbers)+") "+k+" = "+g+"; } "),a+=" if ("+k+" !== undefined) ; ";var O=x;if(O)for(var c,z,A=-1,N=O.length-1;A<N;)"string"==(z=O[A+=1])?a+=" else if ("+T+" == 'number' || "+T+" == 'boolean') "+k+" = '' + "+g+"; else if ("+g+" === null) "+k+" = ''; ":"number"==z||"integer"==z?(a+=" else if ("+T+" == 'boolean' || "+g+" === null || ("+T+" == 'string' && "+g+" && "+g+" == +"+g+" ","integer"==z&&(a+=" && !("+g+" % 1)"),a+=")) "+k+" = +"+g+"; "):"boolean"==z?a+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+k+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+k+" = true; ":"null"==z?a+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+k+" = null; ":"array"==e.opts.coerceTypes&&"array"==z&&(a+=" else if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+g+" == null) "+k+" = ["+g+"]; ");a+=" else {   ";var y=y||[];y.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",R?a+=""+P.join(","):a+=""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",R?a+=""+P.join(","):a+=""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),a+=" } "):a+=" {} ";var _=a;a=y.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+k+" !== undefined) {  ";var j=d?"data"+(d-1||""):"parentData",U=d?e.dataPathArr[d]:"parentDataProperty";a+=" "+g+" = "+k+"; ",d||(a+="if ("+j+" !== undefined)"),a+=" "+j+"["+U+"] = "+k+"; } "}else{var y=y||[];y.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",R?a+=""+P.join(","):a+=""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",R?a+=""+P.join(","):a+=""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),a+=" } "):a+=" {} ";var _=a;a=y.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!o)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(a+=" } if (errors === ",b?a+="0":a+="errs_"+u,a+=") { ",w+="}");else{var L=e.RULES;if(L){for(var C,D=-1,$=L.length-1;D<$;)if(X(C=L[D+=1])){if(C.type&&(a+=" if ("+e.util.checkDataType(C.type,g,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if("object"==C.type&&e.schema.properties){var h=e.schema.properties,F=Object.keys(h);if(F)for(var M,Z=-1,q=F.length-1;Z<q;){var B=h[M=F[Z+=1]];if(void 0!==B.default){var V=g+e.util.getProperty(M);if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+V;if("log"===e.opts.strictDefaults)e.logger.warn(S);else throw Error(S)}}else a+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+V+" === null || "+V+" === '' "),a+=" ) "+V+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(B.default)+" ":a+=" "+JSON.stringify(B.default)+" ",a+="; "}}}else if("array"==C.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){for(var B,A=-1,Q=H.length-1;A<Q;)if(void 0!==(B=H[A+=1]).default){var V=g+"["+A+"]";if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+V;if("log"===e.opts.strictDefaults)e.logger.warn(S);else throw Error(S)}}else a+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+V+" === null || "+V+" === '' "),a+=" ) "+V+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(B.default)+" ":a+=" "+JSON.stringify(B.default)+" ",a+="; "}}}}var K=C.rules;if(K){for(var W,J=-1,G=K.length-1;J<G;)if(ee(W=K[J+=1])){var Y=W.code(e,W.keyword,C.type);Y&&(a+=" "+Y+" ",m&&(E+="}"))}}if(m&&(a+=" "+E+" ",E=""),C.type&&(a+=" } ",P&&P===C.type&&!x)){a+=" else { ";var p=e.schemaPath+".type",f=e.errSchemaPath+"/type",y=y||[];y.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",R?a+=""+P.join(","):a+=""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",R?a+=""+P.join(","):a+=""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),a+=" } "):a+=" {} ";var _=a;a=y.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}m&&(a+=" if (errors === ",b?a+="0":a+="errs_"+u,a+=") { ",w+="}")}}}function X(e){for(var t=e.rules,r=0;r<t.length;r++)if(ee(t[r]))return!0}function ee(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,a=0;a<r.length;a++)if(void 0!==e.schema[r[a]])return!0}(t)}return m&&(a+=" "+w+" "),b?(s?a+=" if (errors === 0) return data;            else throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors;  return errors === 0;       ",a+=" }; return validate;"):a+=" var "+v+" = errors === errs_"+u+";",a}},{}],gVoSp:[function(e,t,r){var Cache=t.exports=function(){this._cache={}};Cache.prototype.put=function(e,t){this._cache[e]=t},Cache.prototype.get=function(e){return this._cache[e]},Cache.prototype.del=function(e){delete this._cache[e]},Cache.prototype.clear=function(){this._cache={}}},{}],cFEr0:[function(e,t,r){var a=e("a2faed526b64ac6"),s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,n=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",a.copy(m[e])}function g(e){var t,r=e.match(s);if(!r)return!1;var a=+r[1],i=+r[2],n=+r[3];return i>=1&&i<=12&&n>=1&&n<=(2==i&&(t=a)%4==0&&(t%100!=0||t%400==0)?29:o[i])}function v(e,t){var r=e.match(i);if(!r)return!1;var a=r[1],s=r[2],o=r[3],n=r[5];return(a<=23&&s<=59&&o<=59||23==a&&59==s&&60==o)&&(!t||n)}t.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:S,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f},m.full={date:g,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return _.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:S,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f};var y=/t|\s/i,_=/\/|:/,b=/[^\\]\\Z/;function S(e){if(b.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},{a2faed526b64ac6:"20cdj"}],b8HP9:[function(e,t,r){var a=e("320fad79ae8493c7"),s=e("8ce0e99024dd72ae").toHash;t.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=s(t),e.types=s(["number","integer","string","array","object","boolean","null"]),e.forEach(function(r){r.rules=r.rules.map(function(r){if("object"==typeof r){var s,o=Object.keys(r)[0];s=r[o],r=o,s.forEach(function(r){t.push(r),e.all[r]=!0})}return t.push(r),e.all[r]={keyword:r,code:a[r],implements:s}}),e.all.$comment={keyword:"$comment",code:a.$comment},r.type&&(e.types[r.type]=r)}),e.keywords=s(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},{"320fad79ae8493c7":"kY9xY","8ce0e99024dd72ae":"20cdj"}],kY9xY:[function(e,t,r){t.exports={$ref:e("b78d457e7afd64bb"),allOf:e("48b34d085e3ec99e"),anyOf:e("391b436b4af2f7be"),$comment:e("cf4e7ee5e0296fb8"),const:e("4d4c491d625674ab"),contains:e("88a4b137152f067d"),dependencies:e("74b02ee6cab2c47e"),enum:e("be60ff2180bfa23"),format:e("8c9714d616d1ed0a"),if:e("5adbc4b502609522"),items:e("c7646594fda72068"),maximum:e("38a39307400a1be1"),minimum:e("38a39307400a1be1"),maxItems:e("bc10152125d4a5ad"),minItems:e("bc10152125d4a5ad"),maxLength:e("7c37752877e496f4"),minLength:e("7c37752877e496f4"),maxProperties:e("b93ee89a9995ea2e"),minProperties:e("b93ee89a9995ea2e"),multipleOf:e("22b153b53f98c24a"),not:e("7b5c836b893a7a0d"),oneOf:e("753ea2f532bfe6f9"),pattern:e("339cd9d78fdcc133"),properties:e("5528eda3a7169306"),propertyNames:e("9b21f26c2748ece9"),required:e("6d833c3f730abbb0"),uniqueItems:e("db1334fb636c8b52"),validate:e("75546f50e533d308")}},{b78d457e7afd64bb:"8JVKS","48b34d085e3ec99e":"hs1UW","391b436b4af2f7be":"hZY9m",cf4e7ee5e0296fb8:"bDZ51","4d4c491d625674ab":"lt0Ii","88a4b137152f067d":"5TtdQ","74b02ee6cab2c47e":"4wtpT",be60ff2180bfa23:"92v8E","8c9714d616d1ed0a":"lnvBV","5adbc4b502609522":"4oQDp",c7646594fda72068:"kGtLC","38a39307400a1be1":"eIXp4",bc10152125d4a5ad:"figh3","7c37752877e496f4":"dxNMC",b93ee89a9995ea2e:"lb2Qs","22b153b53f98c24a":"aU4Vk","7b5c836b893a7a0d":"lhqvv","753ea2f532bfe6f9":"BwqzA","339cd9d78fdcc133":"kkznL","5528eda3a7169306":"gtnB3","9b21f26c2748ece9":"4We5v","6d833c3f730abbb0":"luDgL",db1334fb636c8b52:"21bih","75546f50e533d308":"siW9F"}],"8JVKS":[function(e,t,r){t.exports=function(e,t,r){var a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[t],c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i;if("#"==l||"#/"==l)e.isRoot?(a=e.async,s="validate"):(a=!0===e.root.schema.$async,s="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f);var m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var g=o;o=m.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else if("ignore"==e.opts.missingRefs)e.logger.warn(f),u&&(o+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,f)}else if(p.inline){var v=e.util.copy(e);v.level++;var y="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",u&&(o+=" if ("+y+") { ")}else a=!0===p.$async||e.async&&!1!==p.$async,s=p.code}if(s){var m=m||[];m.push(o),o="",e.opts.passContext?o+=" "+s+".call(this, ":o+=" "+s+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var _=n?e.dataPathArr[n]:"parentDataProperty",b=o+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+_+", rootData)  ";if(o=m.pop(),a){if(!e.async)throw Error("async schema referenced by sync schema");u&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",u&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+h+" = false; "),o+=" } ",u&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+s+".errors; else vErrors = vErrors.concat("+s+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o}},{}],hs1UW:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,n=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,d=l.baseId,h=!0;if(s)for(var p,f=-1,m=s.length-1;f<m;)p=s[f+=1],(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:e.util.schemaHasRules(p,e.RULES.all))&&(h=!1,l.schema=p,l.schemaPath=o+"["+f+"]",l.errSchemaPath=i+"/"+f,a+="  "+e.validate(l)+" ",l.baseId=d,n&&(a+=" if ("+u+") { ",c+="}"));return n&&(h?a+=" if (true) { ":a+=" "+c.slice(0,-1)+" "),a}},{}],hZY9m:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="valid"+s,d="errs__"+s,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level;if(i.every(function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)})){var m=h.baseId;a+=" var "+d+" = errors; var "+u+" = false;  ";var g=e.compositeRule;if(e.compositeRule=h.compositeRule=!0,i)for(var v,y=-1,_=i.length-1;y<_;)v=i[y+=1],h.schema=v,h.schemaPath=n+"["+y+"]",h.errSchemaPath=l+"/"+y,a+="  "+e.validate(h)+" ",h.baseId=m,a+=" "+u+" = "+u+" || "+f+"; if (!"+u+") { ",p+="}";e.compositeRule=h.compositeRule=g,a+=" "+p+" if (!"+u+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: data"+(o||"")+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else c&&(a+=" if (true) { ");return a}},{}],bDZ51:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.schema[t],o=e.errSchemaPath+"/"+t;e.opts.allErrors;var i=e.util.toQuotedString(s);return!0===e.opts.$comment?a+=" console.log("+i+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+i+", "+e.util.toQuotedString(o)+", validate.root.schema);"),a}},{}],lt0Ii:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+s,h=e.opts.$data&&i&&i.$data;h&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; "),h||(a+=" var schema"+s+" = validate.schema"+n+";"),a+="var "+d+" = equal("+u+", schema"+s+"); if (!"+d+") {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+s+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a}},{}],"5TtdQ":[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+s,h=e.util.copy(e);h.level++;var p="valid"+h.level,f="i"+s,m=h.dataLevel=e.dataLevel+1,g="data"+m,v=e.baseId,y=e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all);if(a+="var "+d+" = errors;var valid"+s+";",y){var _=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=i,h.schemaPath=n,h.errSchemaPath=l,a+=" var "+p+" = false; for (var "+f+" = 0; "+f+" < "+u+".length; "+f+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var b=u+"["+f+"]";h.dataPathArr[m]=f;var S=e.validate(h);h.baseId=v,2>e.util.varOccurences(S,g)?a+=" "+e.util.varReplace(S,g,b)+" ":a+=" var "+g+" = "+b+"; "+S+" ",a+=" if ("+p+") break; }  ",e.compositeRule=h.compositeRule=_,a+="  if (!"+p+") {"}else a+=" if ("+u+".length == 0) {";var E=E||[];E.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var w=a;return a=E.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",y&&(a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a}},{}],"4wtpT":[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+s,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},g={},v=e.opts.ownProperties;for(S in i)if("__proto__"!=S){var y=i[S],_=Array.isArray(y)?g:m;_[S]=y}a+="var "+d+" = errors;";var b=e.errorPath;for(var S in a+="var missing"+s+";",g)if((_=g[S]).length){if(a+=" if ( "+u+e.util.getProperty(S)+" !== undefined ",v&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(S)+"') "),c){a+=" && ( ";var E=_;if(E)for(var w,P=-1,R=E.length-1;P<R;){w=E[P+=1],P&&(a+=" || ");var x=e.util.getProperty(w),C=u+x;a+=" ( ( "+C+" === undefined ",v&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:x)+") ) "}a+=")) {  ";var I="missing"+s,T="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,I,!0):b+" + "+I);var k=k||[];k.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+T+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==_.length?a+="property "+e.util.escapeQuotes(_[0]):a+="properties "+e.util.escapeQuotes(_.join(", ")),a+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var O=a;a=k.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var z=_;if(z)for(var w,A=-1,N=z.length-1;A<N;){w=z[A+=1];var x=e.util.getProperty(w),T=e.util.escapeQuotes(w),C=u+x;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,w,e.opts.jsonPointers)),a+=" if ( "+C+" === undefined ",v&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+T+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==_.length?a+="property "+e.util.escapeQuotes(_[0]):a+="properties "+e.util.escapeQuotes(_.join(", ")),a+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",c&&(p+="}",a+=" else { ")}e.errorPath=b;var j=h.baseId;for(var S in m){var y=m[S];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(a+=" "+f+" = true; if ( "+u+e.util.getProperty(S)+" !== undefined ",v&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(S)+"') "),a+=") { ",h.schema=y,h.schemaPath=n+e.util.getProperty(S),h.errSchemaPath=l+"/"+e.util.escapeFragment(S),a+="  "+e.validate(h)+" ",h.baseId=j,a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}"))}return c&&(a+="   "+p+" if ("+d+" == errors) {"),a}},{}],"92v8E":[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+s,h=e.opts.$data&&i&&i.$data;h&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var p="i"+s,f="schema"+s;h||(a+=" var "+f+" = validate.schema"+n+";"),a+="var "+d+";",h&&(a+=" if (schema"+s+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+s+")) "+d+" = false; else {"),a+=""+d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(a+="  }  "),a+=" if (!"+d+") {   ";var m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+s+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a}},{}],lnvBV:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return c&&(a+=" if (true) { "),a;var d,h=e.opts.$data&&i&&i.$data;h?(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",d="schema"+s):d=i;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h){var m="format"+s,g="isObject"+s,v="formatType"+s;a+=" var "+m+" = formats["+d+"]; var "+g+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+v+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(a+=" var async"+s+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (","ignore"!=p&&(a+=" ("+d+" && !"+m+" ",f&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+m+" && "+v+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?a+=" (async"+s+" ? await "+m+"("+u+") : "+m+"("+u+")) ":a+=" "+m+"("+u+") ",a+=" : "+m+".test("+u+"))))) {"}else{var m=e.formats[i];if(!m){if("ignore"==p)return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(a+=" if (true) { "),a;if(f&&p.indexOf(i)>=0)return c&&(a+=" if (true) { "),a;throw Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var g="object"==typeof m&&!(m instanceof RegExp)&&m.validate,v=g&&m.type||"string";if(g){var y=!0===m.async;m=m.validate}if(v!=r)return c&&(a+=" if (true) { "),a;if(y){if(!e.async)throw Error("async format in sync schema");var _="formats"+e.util.getProperty(i)+".validate";a+=" if (!(await "+_+"("+u+"))) { "}else{a+=" if (! ";var _="formats"+e.util.getProperty(i);g&&(_+=".validate"),"function"==typeof m?a+=" "+_+"("+u+") ":a+=" "+_+".test("+u+") ",a+=") { "}}var b=b||[];b.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",h?a+=""+d:a+=""+e.util.toQuotedString(i),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",h?a+="' + "+d+" + '":a+=""+e.util.escapeQuotes(i),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",h?a+="validate.schema"+n:a+=""+e.util.toQuotedString(i),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var S=a;return a=b.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { "),a}},{}],"4oQDp":[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="valid"+s,d="errs__"+s,h=e.util.copy(e);h.level++;var p="valid"+h.level,f=e.schema.then,m=e.schema.else,g=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all)),v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=h.baseId;if(g||v){h.createErrors=!1,h.schema=i,h.schemaPath=n,h.errSchemaPath=l,a+=" var "+d+" = errors; var "+u+" = true;  ";var _,b=e.compositeRule;e.compositeRule=h.compositeRule=!0,a+="  "+e.validate(h)+" ",h.baseId=y,h.createErrors=!0,a+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=h.compositeRule=b,g?(a+=" if ("+p+") {  ",h.schema=e.schema.then,h.schemaPath=e.schemaPath+".then",h.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(h)+" ",h.baseId=y,a+=" "+u+" = "+p+"; ",g&&v?a+=" var "+(_="ifClause"+s)+" = 'then'; ":_="'then'",a+=" } ",v&&(a+=" else { ")):a+=" if (!"+p+") { ",v&&(h.schema=e.schema.else,h.schemaPath=e.schemaPath+".else",h.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(h)+" ",h.baseId=y,a+=" "+u+" = "+p+"; ",g&&v?a+=" var "+(_="ifClause"+s)+" = 'else'; ":_="'else'",a+=" } "),a+=" if (!"+u+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: data"+(o||"")+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",c&&(a+=" else { ")}else c&&(a+=" if (true) { ");return a}},{}],kGtLC:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+s,h="errs__"+s,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="i"+s,v=p.dataLevel=e.dataLevel+1,y="data"+v,_=e.baseId;if(a+="var "+h+" = errors;var "+d+";",Array.isArray(i)){var b=e.schema.additionalItems;if(!1===b){a+=" "+d+" = "+u+".length <= "+i.length+"; ";var S=l;l=e.errSchemaPath+"/additionalItems",a+="  if (!"+d+") {   ";var E=E||[];E.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+i.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var w=a;a=E.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l=S,c&&(f+="}",a+=" else { ")}if(i){for(var P,R=-1,x=i.length-1;R<x;)if(P=i[R+=1],e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0||!1===P:e.util.schemaHasRules(P,e.RULES.all)){a+=" "+m+" = true; if ("+u+".length > "+R+") { ";var C=u+"["+R+"]";p.schema=P,p.schemaPath=n+"["+R+"]",p.errSchemaPath=l+"/"+R,p.errorPath=e.util.getPathExpr(e.errorPath,R,e.opts.jsonPointers,!0),p.dataPathArr[v]=R;var I=e.validate(p);p.baseId=_,2>e.util.varOccurences(I,y)?a+=" "+e.util.varReplace(I,y,C)+" ":a+=" var "+y+" = "+C+"; "+I+" ",a+=" }  ",c&&(a+=" if ("+m+") { ",f+="}")}}if("object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))){p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+u+".length > "+i.length+") {  for (var "+g+" = "+i.length+"; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var C=u+"["+g+"]";p.dataPathArr[v]=g;var I=e.validate(p);p.baseId=_,2>e.util.varOccurences(I,y)?a+=" "+e.util.varReplace(I,y,C)+" ":a+=" var "+y+" = "+C+"; "+I+" ",c&&(a+=" if (!"+m+") break; "),a+=" } }  ",c&&(a+=" if ("+m+") { ",f+="}")}}else if(e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all)){p.schema=i,p.schemaPath=n,p.errSchemaPath=l,a+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var C=u+"["+g+"]";p.dataPathArr[v]=g;var I=e.validate(p);p.baseId=_,2>e.util.varOccurences(I,y)?a+=" "+e.util.varReplace(I,y,C)+" ":a+=" var "+y+" = "+C+"; "+I+" ",c&&(a+=" if (!"+m+") break; "),a+=" }"}return c&&(a+=" "+f+" if ("+h+" == errors) {"),a}},{}],eIXp4:[function(e,t,r){t.exports=function(e,t,r){var a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(n||""),p=e.opts.$data&&l&&l.$data;p?(o+=" var schema"+i+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",s="schema"+i):s=l;var f="maximum"==t,m=f?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[m],v=e.opts.$data&&g&&g.$data,y=f?"<":">",_=f?">":"<",a=void 0;if(!(p||"number"==typeof l||void 0===l))throw Error(t+" must be number");if(!(v||void 0===g||"number"==typeof g||"boolean"==typeof g))throw Error(m+" must be number or boolean");if(v){var b=e.util.getData(g.$data,n,e.dataPathArr),S="exclusive"+i,E="exclType"+i,w="exclIsNumber"+i,P="op"+i,R="' + "+P+" + '";o+=" var schemaExcl"+i+" = "+b+"; "+(" var "+S+"; var "+E+" = typeof "+(b="schemaExcl"+i)+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && ")+E+" != 'number') { ";var a=m,x=x||[];x.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var C=o;o=x.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+C+"]); ":o+=" validate.errors = ["+C+"]; return false; ":o+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else if ( ",p&&(o+=" ("+s+" !== undefined && typeof "+s+" != 'number') || "),o+=" "+E+" == 'number' ? ( ("+S+" = "+s+" === undefined || "+b+" "+y+"= "+s+") ? "+h+" "+_+"= "+b+" : "+h+" "+_+" "+s+" ) : ( ("+S+" = "+b+" === true) ? "+h+" "+_+"= "+s+" : "+h+" "+_+" "+s+" ) || "+h+" !== "+h+") { var op"+i+" = "+S+" ? '"+y+"' : '"+y+"='; ",void 0===l&&(a=m,u=e.errSchemaPath+"/"+m,s=b,p=v)}else{var w="number"==typeof g,R=y;if(w&&p){var P="'"+R+"'";o+=" if ( ",p&&(o+=" ("+s+" !== undefined && typeof "+s+" != 'number') || "),o+=" ( "+s+" === undefined || "+g+" "+y+"= "+s+" ? "+h+" "+_+"= "+g+" : "+h+" "+_+" "+s+" ) || "+h+" !== "+h+") { "}else{w&&void 0===l?(S=!0,a=m,u=e.errSchemaPath+"/"+m,s=g,_+="="):(w&&(s=Math[f?"min":"max"](g,l)),g===(!w||s)?(S=!0,a=m,u=e.errSchemaPath+"/"+m,_+="="):(S=!1,R+="="));var P="'"+R+"'";o+=" if ( ",p&&(o+=" ("+s+" !== undefined && typeof "+s+" != 'number') || "),o+=" "+h+" "+_+" "+s+" || "+h+" !== "+h+") { "}}a=a||t;var x=x||[];x.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+P+", limit: "+s+", exclusive: "+S+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be "+R+" ",p?o+="' + "+s:o+=""+s+"'"),e.opts.verbose&&(o+=" , schema:  ",p?o+="validate.schema"+c:o+=""+l,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var C=o;return o=x.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+C+"]); ":o+=" validate.errors = ["+C+"]; return false; ":o+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",d&&(o+=" else { "),o}},{}],figh3:[function(e,t,r){t.exports=function(e,t,r){var a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(n||""),p=e.opts.$data&&l&&l.$data;if(p?(o+=" var schema"+i+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",s="schema"+i):s=l,!(p||"number"==typeof l))throw Error(t+" must be number");var f="maxItems"==t?">":"<";o+="if ( ",p&&(o+=" ("+s+" !== undefined && typeof "+s+" != 'number') || "),o+=" "+h+".length "+f+" "+s+") { ";var a=t,m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+s+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ","maxItems"==t?o+="more":o+="fewer",o+=" than ",p?o+="' + "+s+" + '":o+=""+l,o+=" items' "),e.opts.verbose&&(o+=" , schema:  ",p?o+="validate.schema"+c:o+=""+l,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},{}],dxNMC:[function(e,t,r){t.exports=function(e,t,r){var a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(n||""),p=e.opts.$data&&l&&l.$data;if(p?(o+=" var schema"+i+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",s="schema"+i):s=l,!(p||"number"==typeof l))throw Error(t+" must be number");var f="maxLength"==t?">":"<";o+="if ( ",p&&(o+=" ("+s+" !== undefined && typeof "+s+" != 'number') || "),!1===e.opts.unicode?o+=" "+h+".length ":o+=" ucs2length("+h+") ",o+=" "+f+" "+s+") { ";var a=t,m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+s+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be ","maxLength"==t?o+="longer":o+="shorter",o+=" than ",p?o+="' + "+s+" + '":o+=""+l,o+=" characters' "),e.opts.verbose&&(o+=" , schema:  ",p?o+="validate.schema"+c:o+=""+l,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},{}],lb2Qs:[function(e,t,r){t.exports=function(e,t,r){var a,s,o=" ",i=e.level,n=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(n||""),p=e.opts.$data&&l&&l.$data;if(p?(o+=" var schema"+i+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",s="schema"+i):s=l,!(p||"number"==typeof l))throw Error(t+" must be number");var f="maxProperties"==t?">":"<";o+="if ( ",p&&(o+=" ("+s+" !== undefined && typeof "+s+" != 'number') || "),o+=" Object.keys("+h+").length "+f+" "+s+") { ";var a=t,m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+s+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ","maxProperties"==t?o+="more":o+="fewer",o+=" than ",p?o+="' + "+s+" + '":o+=""+l,o+=" properties' "),e.opts.verbose&&(o+=" , schema:  ",p?o+="validate.schema"+c:o+=""+l,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},{}],aU4Vk:[function(e,t,r){t.exports=function(e,t,r){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(i||""),h=e.opts.$data&&n&&n.$data;if(h?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,!(h||"number"==typeof n))throw Error(t+" must be number");s+="var division"+o+";if (",h&&(s+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),s+=" (division"+o+" = "+d+" / "+a+", ",e.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":s+=" division"+o+" !== parseInt(division"+o+") ",s+=" ) ",h&&(s+="  )  "),s+=" ) {   ";var p=p||[];p.push(s),s="",!1!==e.createErrors?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be multiple of ",h?s+="' + "+a:s+=""+a+"'"),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var f=s;return s=p.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+f+"]); ":s+=" validate.errors = ["+f+"]; return false; ":s+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],lhqvv:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+s,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all)){h.schema=i,h.schemaPath=n,h.errSchemaPath=l,a+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),a+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,a+=" if ("+p+") {   ";var g=g||[];g.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var v=a;a=g.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ");return a}},{}],BwqzA:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="valid"+s,d="errs__"+s,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m=h.baseId,g="prevValid"+s,v="passingSchemas"+s;a+="var "+d+" = errors , "+g+" = false , "+u+" = false , "+v+" = null; ";var y=e.compositeRule;if(e.compositeRule=h.compositeRule=!0,i)for(var _,b=-1,S=i.length-1;b<S;)_=i[b+=1],(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))?(h.schema=_,h.schemaPath=n+"["+b+"]",h.errSchemaPath=l+"/"+b,a+="  "+e.validate(h)+" ",h.baseId=m):a+=" var "+f+" = true; ",b&&(a+=" if ("+f+" && "+g+") { "+u+" = false; "+v+" = ["+v+", "+b+"]; } else { ",p+="}"),a+=" if ("+f+") { "+u+" = "+g+" = true; "+v+" = "+b+"; }";return e.compositeRule=h.compositeRule=y,a+=""+p+"if (!"+u+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: data"+(o||"")+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}},{}],kkznL:[function(e,t,r){t.exports=function(e,t,r){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(i||""),h=e.opts.$data&&n&&n.$data;h?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n;var p=h?"(new RegExp("+a+"))":e.usePattern(n);s+="if ( ",h&&(s+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),s+=" !"+p+".test("+d+") ) {   ";var f=f||[];f.push(s),s="",!1!==e.createErrors?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",h?s+=""+a:s+=""+e.util.toQuotedString(n),s+="  } ",!1!==e.opts.messages&&(s+=" , message: 'should match pattern \"",h?s+="' + "+a+" + '":s+=""+e.util.escapeQuotes(n),s+="\"' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+e.util.toQuotedString(n),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var m=s;return s=f.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}},{}],gtnB3:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+s,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m="key"+s,g="idx"+s,v=h.dataLevel=e.dataLevel+1,y="data"+v,_="dataProperties"+s,b=Object.keys(i||{}).filter(z),S=e.schema.patternProperties||{},E=Object.keys(S).filter(z),w=e.schema.additionalProperties,P=b.length||E.length,R=!1===w,x="object"==typeof w&&Object.keys(w).length,C=e.opts.removeAdditional,I=e.opts.ownProperties,T=e.baseId,k=e.schema.required;if(k&&!(e.opts.$data&&k.$data)&&k.length<e.opts.loopRequired)var O=e.util.toHash(k);function z(e){return"__proto__"!==e}if(a+="var "+d+" = errors;var "+f+" = true;",I&&(a+=" var "+_+" = undefined;"),R||x||C){if(I?a+=" "+_+" = "+_+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+m+" = "+_+"["+g+"]; ":a+=" for (var "+m+" in "+u+") { ",P){if(a+=" var isAdditional"+s+" = !(false ",b.length){if(b.length>8)a+=" || validate.schema"+n+".hasOwnProperty("+m+") ";else if(b)for(var A,N=-1,j=b.length-1;N<j;)A=b[N+=1],a+=" || "+m+" == "+e.util.toQuotedString(A)+" "}if(E.length&&E)for(var U,L=-1,D=E.length-1;L<D;)U=E[L+=1],a+=" || "+e.usePattern(U)+".test("+m+") ";a+=" ); if (isAdditional"+s+") { "}if("all"==C)a+=" delete "+u+"["+m+"]; ";else{var $=e.errorPath,F="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),R){if(C)a+=" delete "+u+"["+m+"]; ";else{a+=" "+f+" = false; ";var M=l;l=e.errSchemaPath+"/additionalProperties";var Z=Z||[];Z.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+F+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var q=a;a=Z.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+q+"]); ":a+=" validate.errors = ["+q+"]; return false; ":a+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=M,c&&(a+=" break; ")}}else if(x){if("failing"==C){a+=" var "+d+" = errors;  ";var B=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=w,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=u+"["+m+"]";h.dataPathArr[v]=m;var H=e.validate(h);h.baseId=T,2>e.util.varOccurences(H,y)?a+=" "+e.util.varReplace(H,y,V)+" ":a+=" var "+y+" = "+V+"; "+H+" ",a+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=h.compositeRule=B}else{h.schema=w,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=u+"["+m+"]";h.dataPathArr[v]=m;var H=e.validate(h);h.baseId=T,2>e.util.varOccurences(H,y)?a+=" "+e.util.varReplace(H,y,V)+" ":a+=" var "+y+" = "+V+"; "+H+" ",c&&(a+=" if (!"+f+") break; ")}}e.errorPath=$}P&&(a+=" } "),a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}")}var Q=e.opts.useDefaults&&!e.compositeRule;if(b.length&&b)for(var A,K=-1,W=b.length-1;K<W;){var J=i[A=b[K+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){var G=e.util.getProperty(A),V=u+G,Y=Q&&void 0!==J.default;h.schema=J,h.schemaPath=n+G,h.errSchemaPath=l+"/"+e.util.escapeFragment(A),h.errorPath=e.util.getPath(e.errorPath,A,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(A);var H=e.validate(h);if(h.baseId=T,2>e.util.varOccurences(H,y)){H=e.util.varReplace(H,y,V);var X=V}else{var X=y;a+=" var "+y+" = "+V+"; "}if(Y)a+=" "+H+" ";else{if(O&&O[A]){a+=" if ( "+X+" === undefined ",I&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),a+=") { "+f+" = false; ";var $=e.errorPath,M=l,ee=e.util.escapeQuotes(A);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,A,e.opts.jsonPointers)),l=e.errSchemaPath+"/required";var Z=Z||[];Z.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ee+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ee+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var q=a;a=Z.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+q+"]); ":a+=" validate.errors = ["+q+"]; return false; ":a+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=M,e.errorPath=$,a+=" } else { "}else c?(a+=" if ( "+X+" === undefined ",I&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),a+=") { "+f+" = true; } else { "):(a+=" if ("+X+" !== undefined ",I&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),a+=" ) { ");a+=" "+H+" } "}}c&&(a+=" if ("+f+") { ",p+="}")}if(E.length&&E)for(var U,et=-1,er=E.length-1;et<er;){var J=S[U=E[et+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){h.schema=J,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(U),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(U),I?a+=" "+_+" = "+_+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+m+" = "+_+"["+g+"]; ":a+=" for (var "+m+" in "+u+") { ",a+=" if ("+e.usePattern(U)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=u+"["+m+"]";h.dataPathArr[v]=m;var H=e.validate(h);h.baseId=T,2>e.util.varOccurences(H,y)?a+=" "+e.util.varReplace(H,y,V)+" ":a+=" var "+y+" = "+V+"; "+H+" ",c&&(a+=" if (!"+f+") break; "),a+=" } ",c&&(a+=" else "+f+" = true; "),a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}")}}return c&&(a+=" "+p+" if ("+d+" == errors) {"),a}},{}],"4We5v":[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+s,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(a+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all)){h.schema=i,h.schemaPath=n,h.errSchemaPath=l;var f="key"+s,m="idx"+s,g="i"+s,v="' + "+f+" + '",y="data"+(h.dataLevel=e.dataLevel+1),_="dataProperties"+s,b=e.opts.ownProperties,S=e.baseId;b&&(a+=" var "+_+" = undefined; "),b?a+=" "+_+" = "+_+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+_+".length; "+m+"++) { var "+f+" = "+_+"["+m+"]; ":a+=" for (var "+f+" in "+u+") { ",a+=" var startErrs"+s+" = errors; ";var E=e.compositeRule;e.compositeRule=h.compositeRule=!0;var w=e.validate(h);h.baseId=S,2>e.util.varOccurences(w,y)?a+=" "+e.util.varReplace(w,y,f)+" ":a+=" var "+y+" = "+f+"; "+w+" ",e.compositeRule=h.compositeRule=E,a+=" if (!"+p+") { for (var "+g+"=startErrs"+s+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),c&&(a+=" break; "),a+=" } }"}return c&&(a+="  if ("+d+" == errors) {"),a}},{}],luDgL:[function(e,t,r){t.exports=function(e,t,r){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[t],n=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+s,h=e.opts.$data&&i&&i.$data;h&&(a+=" var schema"+s+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var p="schema"+s;if(!h){if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[];if(i)for(var m,g=-1,v=i.length-1;g<v;){m=i[g+=1];var y=e.schema.properties[m];y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))||(f[f.length]=m)}}else var f=i}if(h||f.length){var _=e.errorPath,b=h||f.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(c){if(a+=" var missing"+s+"; ",b){h||(a+=" var "+p+" = validate.schema"+n+"; ");var E="i"+s,w="schema"+s+"["+E+"]",P="' + "+w+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,w,e.opts.jsonPointers)),a+=" var "+d+" = true; ",h&&(a+=" if (schema"+s+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+s+")) "+d+" = false; else {"),a+=" for (var "+E+" = 0; "+E+" < "+p+".length; "+E+"++) { "+d+" = "+u+"["+p+"["+E+"]] !== undefined ",S&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+E+"]) "),a+="; if (!"+d+") break; } ",h&&(a+="  }  "),a+="  if (!"+d+") {   ";var R=R||[];R.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+P+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var x=a;a=R.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var C=f;if(C)for(var I,E=-1,T=C.length-1;E<T;){I=C[E+=1],E&&(a+=" || ");var k=e.util.getProperty(I),O=u+k;a+=" ( ( "+O+" === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(I)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?I:k)+") ) "}a+=") {  ";var w="missing"+s,P="' + "+w+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,w,!0):_+" + "+w);var R=R||[];R.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+P+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var x=a;a=R.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}}else if(b){h||(a+=" var "+p+" = validate.schema"+n+"; ");var E="i"+s,w="schema"+s+"["+E+"]",P="' + "+w+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,w,e.opts.jsonPointers)),h&&(a+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+P+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),a+=" for (var "+E+" = 0; "+E+" < "+p+".length; "+E+"++) { if ("+u+"["+p+"["+E+"]] === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+E+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+P+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(a+="  }  ")}else{var z=f;if(z)for(var I,A=-1,N=z.length-1;A<N;){I=z[A+=1];var k=e.util.getProperty(I),P=e.util.escapeQuotes(I),O=u+k;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,I,e.opts.jsonPointers)),a+=" if ( "+O+" === undefined ",S&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(I)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+P+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else c&&(a+=" if (true) {");return a}},{}],"21bih":[function(e,t,r){t.exports=function(e,t,r){var a,s=" ",o=e.level,i=e.dataLevel,n=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(i||""),h="valid"+o,p=e.opts.$data&&n&&n.$data;if(p?(s+=" var schema"+o+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ",a="schema"+o):a=n,(n||p)&&!1!==e.opts.uniqueItems){p&&(s+=" var "+h+"; if ("+a+" === false || "+a+" === undefined) "+h+" = true; else if (typeof "+a+" != 'boolean') "+h+" = false; else { "),s+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0)?s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ":(s+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; "+(" if ("+e.util["checkDataType"+(m?"s":"")](f,"item",e.opts.strictNumbers,!0))+") continue; ",m&&(s+=" if (typeof item == 'string') item = '\"' + item; "),s+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),s+=" } ",p&&(s+="  }  "),s+=" if (!"+h+") {   ";var g=g||[];g.push(s),s="",!1!==e.createErrors?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",p?s+="validate.schema"+l:s+=""+n,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}},{}],eHiAi:[function(e,t,r){var a=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var s,o=t[r].split("/"),i=e;for(s=1;s<o.length;s++)i=i[o[s]];for(s=0;s<a.length;s++){var n=a[s],l=i[n];l&&(i[n]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},{}],"1MbQO":[function(e,t,r){var a=e("a18ea71e70251293").MissingRef;t.exports=function e(t,r,s){var o=this;if("function"!=typeof this._opts.loadSchema)throw Error("options.loadSchema should be a function");"function"==typeof r&&(s=r,r=void 0);var i=n(t).then(function(){var e=o._addSchema(t,void 0,r);return e.validate||function e(t){try{return o._compile(t)}catch(s){if(s instanceof a)return function(a){var s=a.missingSchema;if(c(s))throw Error("Schema "+s+" is loaded but "+a.missingRef+" cannot be resolved");var i=o._loadingSchemas[s];return i||(i=o._loadingSchemas[s]=o._opts.loadSchema(s)).then(l,l),i.then(function(e){if(!c(s))return n(e).then(function(){c(s)||o.addSchema(e,s,void 0,r)})}).then(function(){return e(t)});function l(){delete o._loadingSchemas[s]}function c(e){return o._refs[e]||o._schemas[e]}}(s);throw s}}(e)});return s&&i.then(function(e){s(null,e)},s),i;function n(t){var r=t.$schema;return r&&!o.getSchema(r)?e.call(o,{$ref:r},!0):Promise.resolve()}}},{a18ea71e70251293:"4hhHH"}],czORN:[function(e,t,r){var a=/^[a-z_$][a-z0-9_$-]*$/i,s=e("2eb02720cefc34c7"),o=e("3e1481dcb7c8ff2f");t.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw Error("Keyword "+e+" is already defined");if(!a.test(e))throw Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var i=0;i<o.length;i++)l(e,o[i],t);else l(e,o,t);var n=t.metaSchema;n&&(t.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(n,!0))}function l(e,t,a){for(var o,i=0;i<r.length;i++){var n=r[i];if(n.type==t){o=n;break}}o||(o={type:t,rules:[]},r.push(o));var l={keyword:e,definition:a,custom:!0,code:s,implements:a.implements};o.rules.push(l),r.custom[e]=l}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var a=t[r].rules,s=0;s<a.length;s++)if(a[s].keyword==e){a.splice(s,1);break}return this},validate:function e(t,r){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(a(t))return!0;if(e.errors=a.errors,!r)return!1;throw Error("custom keyword definition is invalid: "+this.errorsText(a.errors))}}},{"2eb02720cefc34c7":"joZBE","3e1481dcb7c8ff2f":"kWQHS"}],joZBE:[function(e,t,r){t.exports=function(e,t,r){var a,s,o,i,n,l,c,u=" ",d=e.level,h=e.dataLevel,p=e.schema[t],f=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,v="data"+(h||""),y="valid"+d,_="errs__"+d,b=e.opts.$data&&p&&p.$data;b?(u+=" var schema"+d+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",c="schema"+d):c=p;var S="definition"+d,E=this.definition,w="";if(b&&E.$data){n="keywordValidate"+d;var P=E.validateSchema;u+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+n+" = "+S+".validate;"}else{if(!(i=e.useCustomRule(this,p,e.schema,e)))return;c="validate.schema"+f,n=i.code,a=E.compile,s=E.inline,o=E.macro}var R=n+".errors",x="i"+d,C="ruleErr"+d,I=E.async;if(I&&!e.async)throw Error("async keyword in sync schema");if(s||o||(u+=""+R+" = null;"),u+="var "+_+" = errors;var "+y+";",b&&E.$data&&(w+="}",u+=" if ("+c+" === undefined) { "+y+" = true; } else { ",P&&(w+="}",u+=" "+y+" = "+S+".validateSchema("+c+"); if ("+y+") { ")),s)E.statements?u+=" "+i.validate+" ":u+=" "+y+" = "+i.validate+"; ";else if(o){var T=e.util.copy(e),w="";T.level++;var k="valid"+T.level;T.schema=i.validate,T.schemaPath="";var O=e.compositeRule;e.compositeRule=T.compositeRule=!0;var z=e.validate(T).replace(/validate\.schema/g,n);e.compositeRule=T.compositeRule=O,u+=" "+z}else{var A=A||[];A.push(u),u="  "+n+".call( ",e.opts.passContext?u+="this":u+="self",a||!1===E.schema?u+=" , "+v+" ":u+=" , "+c+" , "+v+" , validate.schema"+e.schemaPath+" ",u+=" , (dataPath || '')",'""'!=e.errorPath&&(u+=" + "+e.errorPath);var N=h?"data"+(h-1||""):"parentData",j=h?e.dataPathArr[h]:"parentDataProperty",U=u+=" , "+N+" , "+j+" , rootData )  ";u=A.pop(),!1===E.errors?(u+=" "+y+" = ",I&&(u+="await "),u+=""+U+"; "):I?u+=" var "+(R="customErrors"+d)+" = null; try { "+y+" = await "+U+"; } catch (e) { "+y+" = false; if (e instanceof ValidationError) "+R+" = e.errors; else throw e; } ":u+=" "+R+" = null; "+y+" = "+U+"; "}if(E.modifying&&(u+=" if ("+N+") "+v+" = "+N+"["+j+"];"),u+=""+w,E.valid)g&&(u+=" if (true) { ");else{u+=" if ( ",void 0===E.valid?(u+=" !",o?u+=""+k:u+=""+y):u+=" "+!E.valid+" ",u+=") { ",l=this.keyword;var A=A||[];A.push(u),u="";var A=A||[];A.push(u),u="",!1!==e.createErrors?(u+=" { keyword: '"+(l||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(u+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(u+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),u+=" } "):u+=" {} ";var L=u;u=A.pop(),!e.compositeRule&&g?e.async?u+=" throw new ValidationError(["+L+"]); ":u+=" validate.errors = ["+L+"]; return false; ":u+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var D=u;u=A.pop(),s?E.errors?"full"!=E.errors&&(u+="  for (var "+x+"="+_+"; "+x+"<errors; "+x+"++) { var "+C+" = vErrors["+x+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+m+'"; } ',e.opts.verbose&&(u+=" "+C+".schema = "+c+"; "+C+".data = "+v+"; "),u+=" } "):!1===E.errors?u+=" "+D+" ":(u+=" if ("+_+" == errors) { "+D+" } else {  for (var "+x+"="+_+"; "+x+"<errors; "+x+"++) { var "+C+" = vErrors["+x+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+m+'"; } ',e.opts.verbose&&(u+=" "+C+".schema = "+c+"; "+C+".data = "+v+"; "),u+=" } } "):o?(u+="   var err =   ",!1!==e.createErrors?(u+=" { keyword: '"+(l||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(u+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(u+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),u+=" } "):u+=" {} ",u+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&g&&(e.async?u+=" throw new ValidationError(vErrors); ":u+=" validate.errors = vErrors; return false; ")):!1===E.errors?u+=" "+D+" ":(u+=" if (Array.isArray("+R+")) { if (vErrors === null) vErrors = "+R+"; else vErrors = vErrors.concat("+R+"); errors = vErrors.length;  for (var "+x+"="+_+"; "+x+"<errors; "+x+"++) { var "+C+" = vErrors["+x+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+";  "+C+'.schemaPath = "'+m+'";  ',e.opts.verbose&&(u+=" "+C+".schema = "+c+"; "+C+".data = "+v+"; "),u+=" } } else { "+D+" } "),u+=" } ",g&&(u+=" else { ")}return u}},{}],kWQHS:[function(e,t,r){var a=e("56b1049aa06f7c21");t.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:a.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:a.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},{"56b1049aa06f7c21":"c5Yox"}],c5Yox:[function(e,t,r){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},{}],lyEF8:[function(e,t,r){t.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},{}],knQS8:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SSEClientTransport=r.SseError=void 0;let a=e("a061df00f9f5f87"),s=e("ead8e3b10b8466e6"),o=e("64b720d250a30bca");class i extends Error{constructor(e,t,r){super(`SSE error: ${t}`),this.code=e,this.event=r}}r.SseError=i,r.SSEClientTransport=class{constructor(e,t){this._url=e,this._resourceMetadataUrl=void 0,this._eventSourceInit=null==t?void 0:t.eventSourceInit,this._requestInit=null==t?void 0:t.requestInit,this._authProvider=null==t?void 0:t.authProvider,this._fetch=null==t?void 0:t.fetch}async _authThenStart(){var e;let t;if(!this._authProvider)throw new o.UnauthorizedError("No auth provider");try{t=await (0,o.auth)(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,fetchFn:this._fetch})}catch(t){throw null===(e=this.onerror)||void 0===e||e.call(this,t),t}if("AUTHORIZED"!==t)throw new o.UnauthorizedError;return await this._startOrAuth()}async _commonHeaders(){var e;let t={};if(this._authProvider){let e=await this._authProvider.tokens();e&&(t.Authorization=`Bearer ${e.access_token}`)}return this._protocolVersion&&(t["mcp-protocol-version"]=this._protocolVersion),new Headers({...t,...null===(e=this._requestInit)||void 0===e?void 0:e.headers})}_startOrAuth(){var e,t,r;let n=null!==(r=null!==(t=null===(e=this===null||void 0===this?void 0:this._eventSourceInit)||void 0===e?void 0:e.fetch)&&void 0!==t?t:this._fetch)&&void 0!==r?r:fetch;return new Promise((e,t)=>{this._eventSource=new a.EventSource(this._url.href,{...this._eventSourceInit,fetch:async(e,t)=>{let r=await this._commonHeaders();r.set("Accept","text/event-stream");let a=await n(e,{...t,headers:r});return 401===a.status&&a.headers.has("www-authenticate")&&(this._resourceMetadataUrl=(0,o.extractResourceMetadataUrl)(a)),a}}),this._abortController=new AbortController,this._eventSource.onerror=r=>{var a;if(401===r.code&&this._authProvider){this._authThenStart().then(e,t);return}let s=new i(r.code,r.message,r);t(s),null===(a=this.onerror)||void 0===a||a.call(this,s)},this._eventSource.onopen=()=>{},this._eventSource.addEventListener("endpoint",r=>{var a;try{if(this._endpoint=new URL(r.data,this._url),this._endpoint.origin!==this._url.origin)throw Error(`Endpoint origin does not match connection origin: ${this._endpoint.origin}`)}catch(e){t(e),null===(a=this.onerror)||void 0===a||a.call(this,e),this.close();return}e()}),this._eventSource.onmessage=e=>{var t,r;let a;try{a=s.JSONRPCMessageSchema.parse(JSON.parse(e.data))}catch(e){null===(t=this.onerror)||void 0===t||t.call(this,e);return}null===(r=this.onmessage)||void 0===r||r.call(this,a)}})}async start(){if(this._eventSource)throw Error("SSEClientTransport already started! If using Client class, note that connect() calls start() automatically.");return await this._startOrAuth()}async finishAuth(e){if(!this._authProvider)throw new o.UnauthorizedError("No auth provider");let t=await (0,o.auth)(this._authProvider,{serverUrl:this._url,authorizationCode:e,resourceMetadataUrl:this._resourceMetadataUrl,fetchFn:this._fetch});if("AUTHORIZED"!==t)throw new o.UnauthorizedError("Failed to authorize")}async close(){var e,t,r;null===(e=this._abortController)||void 0===e||e.abort(),null===(t=this._eventSource)||void 0===t||t.close(),null===(r=this.onclose)||void 0===r||r.call(this)}async send(e){var t,r,a;if(!this._endpoint)throw Error("Not connected");try{let a=await this._commonHeaders();a.set("content-type","application/json");let s={...this._requestInit,method:"POST",headers:a,body:JSON.stringify(e),signal:null===(t=this._abortController)||void 0===t?void 0:t.signal},i=await (null!==(r=this._fetch)&&void 0!==r?r:fetch)(this._endpoint,s);if(!i.ok){if(401===i.status&&this._authProvider){this._resourceMetadataUrl=(0,o.extractResourceMetadataUrl)(i);let t=await (0,o.auth)(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,fetchFn:this._fetch});if("AUTHORIZED"!==t)throw new o.UnauthorizedError;return this.send(e)}let t=await i.text().catch(()=>null);throw Error(`Error POSTing to endpoint (HTTP ${i.status}): ${t}`)}}catch(e){throw null===(a=this.onerror)||void 0===a||a.call(this,e),e}}setProtocolVersion(e){this._protocolVersion=e}}},{a061df00f9f5f87:"liMgv",ead8e3b10b8466e6:"bgewP","64b720d250a30bca":"600RN"}],liMgv:[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ErrorEvent",()=>ErrorEvent),a.export(r,"EventSource",()=>EventSource);var s=e("eventsource-parser");class ErrorEvent extends Event{constructor(e,t){var r,a;super(e),this.code=null!=(r=null==t?void 0:t.code)?r:void 0,this.message=null!=(a=null==t?void 0:t.message)?a:void 0}[Symbol.for("nodejs.util.inspect.custom")](e,t,r){return r(o(this),t)}[Symbol.for("Deno.customInspect")](e,t){return e(o(this),t)}}function o(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var i,n,l,c,u,d,h,p,f,m,g,v,y,_,b,S,E,w,P,R,x,C,I,T=e=>{throw TypeError(e)},k=(e,t,r)=>t.has(e)||T("Cannot "+r),O=(e,t,r)=>(k(e,t,"read from private field"),r?r.call(e):t.get(e)),z=(e,t,r)=>t.has(e)?T("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),A=(e,t,r,a)=>(k(e,t,"write to private field"),t.set(e,r),r),N=(e,t,r)=>(k(e,t,"access private method"),r);class EventSource extends EventTarget{constructor(e,t){var r,a;super(),z(this,_),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,z(this,i),z(this,n),z(this,l),z(this,c),z(this,u),z(this,d),z(this,h),z(this,p,null),z(this,f),z(this,m),z(this,g,null),z(this,v,null),z(this,y,null),z(this,S,async e=>{var t;O(this,m).reset();let{body:r,redirected:a,status:s,headers:o}=e;if(204===s){N(this,_,x).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(a?A(this,l,new URL(e.url)):A(this,l,void 0),200!==s){N(this,_,x).call(this,`Non-200 status code (${s})`,s);return}if(!(o.get("content-type")||"").startsWith("text/event-stream")){N(this,_,x).call(this,'Invalid content type, expected "text/event-stream"',s);return}if(O(this,i)===this.CLOSED)return;A(this,i,this.OPEN);let n=new Event("open");if(null==(t=O(this,y))||t.call(this,n),this.dispatchEvent(n),"object"!=typeof r||!r||!("getReader"in r)){N(this,_,x).call(this,"Invalid response body, expected a web ReadableStream",s),this.close();return}let c=new TextDecoder,u=r.getReader(),d=!0;do{let{done:e,value:t}=await u.read();t&&O(this,m).feed(c.decode(t,{stream:!e})),e&&(d=!1,O(this,m).reset(),N(this,_,C).call(this))}while(d)}),z(this,E,e=>{A(this,f,void 0),"AbortError"===e.name||"aborted"===e.type||N(this,_,C).call(this,function e(t){return t instanceof Error?"errors"in t&&Array.isArray(t.errors)?t.errors.map(e).join(", "):"cause"in t&&t.cause instanceof Error?`${t}: ${e(t.cause)}`:t.message:`${t}`}(e))}),z(this,P,e=>{"string"==typeof e.id&&A(this,p,e.id);let t=new MessageEvent(e.event||"message",{data:e.data,origin:O(this,l)?O(this,l).origin:O(this,n).origin,lastEventId:e.id||""});O(this,v)&&(!e.event||"message"===e.event)&&O(this,v).call(this,t),this.dispatchEvent(t)}),z(this,R,e=>{A(this,d,e)}),z(this,I,()=>{A(this,h,void 0),O(this,i)===this.CONNECTING&&N(this,_,b).call(this)});try{if(e instanceof URL)A(this,n,e);else if("string"==typeof e)A(this,n,new URL(e,function(){let e="document"in globalThis?globalThis.document:void 0;return e&&"object"==typeof e&&"baseURI"in e&&"string"==typeof e.baseURI?e.baseURI:void 0}()));else throw Error("Invalid URL")}catch{throw function(e){let t=globalThis.DOMException;return"function"==typeof t?new t(e,"SyntaxError"):SyntaxError(e)}("An invalid or illegal string was specified")}A(this,m,(0,s.createParser)({onEvent:O(this,P),onRetry:O(this,R)})),A(this,i,this.CONNECTING),A(this,d,3e3),A(this,u,null!=(r=null==t?void 0:t.fetch)?r:globalThis.fetch),A(this,c,null!=(a=null==t?void 0:t.withCredentials)&&a),N(this,_,b).call(this)}get readyState(){return O(this,i)}get url(){return O(this,n).href}get withCredentials(){return O(this,c)}get onerror(){return O(this,g)}set onerror(e){A(this,g,e)}get onmessage(){return O(this,v)}set onmessage(e){A(this,v,e)}get onopen(){return O(this,y)}set onopen(e){A(this,y,e)}addEventListener(e,t,r){super.addEventListener(e,t,r)}removeEventListener(e,t,r){super.removeEventListener(e,t,r)}close(){O(this,h)&&clearTimeout(O(this,h)),O(this,i)!==this.CLOSED&&(O(this,f)&&O(this,f).abort(),A(this,i,this.CLOSED),A(this,f,void 0))}}i=new WeakMap,n=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,_=new WeakSet,b=function(){A(this,i,this.CONNECTING),A(this,f,new AbortController),O(this,u)(O(this,n),N(this,_,w).call(this)).then(O(this,S)).catch(O(this,E))},S=new WeakMap,E=new WeakMap,w=function(){var e;let t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...O(this,p)?{"Last-Event-ID":O(this,p)}:void 0},cache:"no-store",signal:null==(e=O(this,f))?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},P=new WeakMap,R=new WeakMap,x=function(e,t){var r;O(this,i)!==this.CLOSED&&A(this,i,this.CLOSED);let a=new ErrorEvent("error",{code:t,message:e});null==(r=O(this,g))||r.call(this,a),this.dispatchEvent(a)},C=function(e,t){var r;if(O(this,i)===this.CLOSED)return;A(this,i,this.CONNECTING);let a=new ErrorEvent("error",{code:t,message:e});null==(r=O(this,g))||r.call(this,a),this.dispatchEvent(a),A(this,h,setTimeout(O(this,I),O(this,d)))},I=new WeakMap,EventSource.CONNECTING=0,EventSource.OPEN=1,EventSource.CLOSED=2},{"eventsource-parser":"9ikjB","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"9ikjB":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ParseError",()=>s),a.export(r,"createParser",()=>i);class s extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function o(e){}function i(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=o,onError:r=o,onRetry:a=o,onComment:i}=e,n="",l=!0,c,u="",d="";function h(e){if(""===e){u.length>0&&t({id:c,event:d||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),c=void 0,u="",d="";return}if(e.startsWith(":")){i&&i(e.slice(e.startsWith(": ")?2:1));return}let r=e.indexOf(":");if(-1!==r){let t=e.slice(0,r),a=" "===e[r+1]?2:1,s=e.slice(r+a);p(t,s,e);return}p(e,"",e)}function p(e,t,o){switch(e){case"event":d=t;break;case"data":u=`${u}${t}
`;break;case"id":c=t.includes("\x00")?void 0:t;break;case"retry":/^\d+$/.test(t)?a(parseInt(t,10)):r(new s(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:o}));break;default:r(new s(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:o}))}}return{feed:function(e){let t=l?e.replace(/^\xEF\xBB\xBF/,""):e,[r,a]=function(e){let t=[],r="",a=0;for(;a<e.length;){let s=e.indexOf("\r",a),o=e.indexOf(`
`,a),i=-1;if(-1!==s&&-1!==o?i=Math.min(s,o):-1!==s?i=s===e.length-1?-1:s:-1!==o&&(i=o),-1===i){r=e.slice(a);break}{let r=e.slice(a,i);t.push(r),"\r"===e[(a=i+1)-1]&&e[a]===`
`&&a++}}return[t,r]}(`${n}${t}`);for(let e of r)h(e);n=a,l=!1},reset:function(e={}){n&&e.consume&&h(n),l=!0,c=void 0,u="",d="",n=""}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"600RN":[function(e,t,r){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.UnauthorizedError=void 0,r.parseErrorResponse=f,r.auth=m,r.selectResourceURL=v,r.extractResourceMetadataUrl=function(e){let t=e.headers.get("WWW-Authenticate");if(!t)return;let[r,a]=t.split(" ");if("bearer"!==r.toLowerCase()||!a)return;let s=/resource_metadata="([^"]*)"/.exec(t);if(s)try{return new URL(s[1])}catch(e){return}},r.discoverOAuthProtectedResourceMetadata=y,r.discoverOAuthMetadata=E,r.buildDiscoveryUrls=w,r.discoverAuthorizationServerMetadata=P,r.startAuthorization=R,r.exchangeAuthorization=x,r.refreshAuthorization=C,r.registerClient=I;let s=a(e("577f380df1a9847c")),o=e("d1137141d2c4e193"),i=e("e7f1ee2964d2231b"),n=e("e7f1ee2964d2231b"),l=e("aebeafd3a3b920d0"),c=e("404492e758091926");r.UnauthorizedError=class extends Error{constructor(e){super(null!=e?e:"Unauthorized")}};let u="code",d="S256";function h(e,t){let r=void 0!==e.client_secret;return 0===t.length?r?"client_secret_post":"none":r&&t.includes("client_secret_basic")?"client_secret_basic":r&&t.includes("client_secret_post")?"client_secret_post":t.includes("none")?"none":r?"client_secret_post":"none"}function p(e,t,r,a){let{client_id:s,client_secret:o}=t;switch(e){case"client_secret_basic":(function(e,t,r){if(!t)throw Error("client_secret_basic authentication requires a client_secret");let a=btoa(`${e}:${t}`);r.set("Authorization",`Basic ${a}`)})(s,o,r);return;case"client_secret_post":a.set("client_id",s),o&&a.set("client_secret",o);return;case"none":(function(e,t){t.set("client_id",e)})(s,a);return;default:throw Error(`Unsupported client authentication method: ${e}`)}}async function f(e){let t=e instanceof Response?e.status:void 0,r=e instanceof Response?await e.text():e;try{let e=i.OAuthErrorResponseSchema.parse(JSON.parse(r)),{error:t,error_description:a,error_uri:s}=e,o=c.OAUTH_ERRORS[t]||c.ServerError;return new o(a||"",s)}catch(a){let e=`${t?`HTTP ${t}: `:""}Invalid OAuth error response: ${a}. Raw body: ${r}`;return new c.ServerError(e)}}async function m(e,t){var r,a;try{return await g(e,t)}catch(s){if(s instanceof c.InvalidClientError||s instanceof c.UnauthorizedClientError)return await (null===(r=e.invalidateCredentials)||void 0===r?void 0:r.call(e,"all")),await g(e,t);if(s instanceof c.InvalidGrantError)return await (null===(a=e.invalidateCredentials)||void 0===a?void 0:a.call(e,"tokens")),await g(e,t);throw s}}async function g(e,{serverUrl:t,authorizationCode:r,scope:a,resourceMetadataUrl:s,fetchFn:o}){let i,n;try{(i=await y(t,{resourceMetadataUrl:s},o)).authorization_servers&&i.authorization_servers.length>0&&(n=i.authorization_servers[0])}catch(e){}n||(n=t);let l=await v(t,e,i),u=await P(n,{fetchFn:o}),d=await Promise.resolve(e.clientInformation());if(!d){if(void 0!==r)throw Error("Existing OAuth client information is required when exchanging an authorization code");if(!e.saveClientInformation)throw Error("OAuth client information must be saveable for dynamic registration");let t=await I(n,{metadata:u,clientMetadata:e.clientMetadata,fetchFn:o});await e.saveClientInformation(t),d=t}if(void 0!==r){let t=await e.codeVerifier(),a=await x(n,{metadata:u,clientInformation:d,authorizationCode:r,codeVerifier:t,redirectUri:e.redirectUrl,resource:l,addClientAuthentication:e.addClientAuthentication,fetchFn:o});return await e.saveTokens(a),"AUTHORIZED"}let h=await e.tokens();if(null==h?void 0:h.refresh_token)try{let t=await C(n,{metadata:u,clientInformation:d,refreshToken:h.refresh_token,resource:l,addClientAuthentication:e.addClientAuthentication,fetchFn:o});return await e.saveTokens(t),"AUTHORIZED"}catch(e){if(!(e instanceof c.OAuthError)||e instanceof c.ServerError);else throw e}let p=e.state?await e.state():void 0,{authorizationUrl:f,codeVerifier:m}=await R(n,{metadata:u,clientInformation:d,state:p,redirectUrl:e.redirectUrl,scope:a||e.clientMetadata.scope,resource:l});return await e.saveCodeVerifier(m),await e.redirectToAuthorization(f),"REDIRECT"}async function v(e,t,r){let a=(0,l.resourceUrlFromServerUrl)(e);if(t.validateResourceURL)return await t.validateResourceURL(a,null==r?void 0:r.resource);if(r){if(!(0,l.checkResourceAllowed)({requestedResource:a,configuredResource:r.resource}))throw Error(`Protected resource ${r.resource} does not match expected ${a} (or origin)`);return new URL(r.resource)}}async function y(e,t,r=fetch){let a=await S(e,"oauth-protected-resource",r,{protocolVersion:null==t?void 0:t.protocolVersion,metadataUrl:null==t?void 0:t.resourceMetadataUrl});if(!a||404===a.status)throw Error("Resource server does not implement OAuth 2.0 Protected Resource Metadata.");if(!a.ok)throw Error(`HTTP ${a.status} trying to load well-known OAuth protected resource metadata.`);return n.OAuthProtectedResourceMetadataSchema.parse(await a.json())}async function _(e,t,r=fetch){try{return await r(e,{headers:t})}catch(a){if(a instanceof TypeError){if(t)return _(e,void 0,r);return}throw a}}async function b(e,t,r=fetch){return await _(e,{"MCP-Protocol-Version":t},r)}async function S(e,t,r,a){var s,i,n,l;let c;let u=new URL(e),d=null!==(s=null==a?void 0:a.protocolVersion)&&void 0!==s?s:o.LATEST_PROTOCOL_VERSION;if(null==a?void 0:a.metadataUrl)c=new URL(a.metadataUrl);else{let e=function(e,t="",r={}){return t.endsWith("/")&&(t=t.slice(0,-1)),r.prependPathname?`${t}/.well-known/${e}`:`/.well-known/${e}${t}`}(t,u.pathname);(c=new URL(e,null!==(i=null==a?void 0:a.metadataServerUrl)&&void 0!==i?i:u)).search=u.search}let h=await b(c,d,r);if(!(null==a?void 0:a.metadataUrl)&&(n=h,l=u.pathname,!n||n.status>=400&&n.status<500&&"/"!==l)){let e=new URL(`/.well-known/${t}`,u);h=await b(e,d,r)}return h}async function E(e,{authorizationServerUrl:t,protocolVersion:r}={},a=fetch){"string"==typeof e&&(e=new URL(e)),t||(t=e),"string"==typeof t&&(t=new URL(t)),null!=r||(r=o.LATEST_PROTOCOL_VERSION);let s=await S(t,"oauth-authorization-server",a,{protocolVersion:r,metadataServerUrl:t});if(s&&404!==s.status){if(!s.ok)throw Error(`HTTP ${s.status} trying to load well-known OAuth metadata`);return n.OAuthMetadataSchema.parse(await s.json())}}function w(e){let t="string"==typeof e?new URL(e):e,r="/"!==t.pathname,a=[];if(!r)return a.push({url:new URL("/.well-known/oauth-authorization-server",t.origin),type:"oauth"}),a.push({url:new URL("/.well-known/openid-configuration",t.origin),type:"oidc"}),a;let s=t.pathname;return s.endsWith("/")&&(s=s.slice(0,-1)),a.push({url:new URL(`/.well-known/oauth-authorization-server${s}`,t.origin),type:"oauth"}),a.push({url:new URL("/.well-known/oauth-authorization-server",t.origin),type:"oauth"}),a.push({url:new URL(`/.well-known/openid-configuration${s}`,t.origin),type:"oidc"}),a.push({url:new URL(`${s}/.well-known/openid-configuration`,t.origin),type:"oidc"}),a}async function P(e,{fetchFn:t=fetch,protocolVersion:r=o.LATEST_PROTOCOL_VERSION}={}){let a={"MCP-Protocol-Version":r},s=w(e);for(let{url:e,type:r}of s){let s=await _(e,a,t);if(s){if(!s.ok){if(s.status>=400&&s.status<500)continue;throw Error(`HTTP ${s.status} trying to load ${"oauth"===r?"OAuth":"OpenID provider"} metadata from ${e}`)}if("oauth"===r)return n.OAuthMetadataSchema.parse(await s.json());return i.OpenIdProviderDiscoveryMetadataSchema.parse(await s.json())}}}async function R(e,{metadata:t,clientInformation:r,redirectUrl:a,scope:o,state:i,resource:n}){let l;if(t){if(l=new URL(t.authorization_endpoint),!t.response_types_supported.includes(u))throw Error(`Incompatible auth server: does not support response type ${u}`);if(t.code_challenge_methods_supported&&!t.code_challenge_methods_supported.includes(d))throw Error(`Incompatible auth server: does not support code challenge method ${d}`)}else l=new URL("/authorize",e);let c=await (0,s.default)(),h=c.code_verifier,p=c.code_challenge;return l.searchParams.set("response_type",u),l.searchParams.set("client_id",r.client_id),l.searchParams.set("code_challenge",p),l.searchParams.set("code_challenge_method",d),l.searchParams.set("redirect_uri",String(a)),i&&l.searchParams.set("state",i),o&&l.searchParams.set("scope",o),(null==o?void 0:o.includes("offline_access"))&&l.searchParams.append("prompt","consent"),n&&l.searchParams.set("resource",n.href),{authorizationUrl:l,codeVerifier:h}}async function x(e,{metadata:t,clientInformation:r,authorizationCode:a,codeVerifier:s,redirectUri:o,resource:i,addClientAuthentication:l,fetchFn:c}){var u;let d="authorization_code",m=(null==t?void 0:t.token_endpoint)?new URL(t.token_endpoint):new URL("/token",e);if((null==t?void 0:t.grant_types_supported)&&!t.grant_types_supported.includes(d))throw Error(`Incompatible auth server: does not support grant type ${d}`);let g=new Headers({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}),v=new URLSearchParams({grant_type:d,code:a,code_verifier:s,redirect_uri:String(o)});if(l)l(g,v,e,t);else{let e=null!==(u=null==t?void 0:t.token_endpoint_auth_methods_supported)&&void 0!==u?u:[],a=h(r,e);p(a,r,g,v)}i&&v.set("resource",i.href);let y=await (null!=c?c:fetch)(m,{method:"POST",headers:g,body:v});if(!y.ok)throw await f(y);return n.OAuthTokensSchema.parse(await y.json())}async function C(e,{metadata:t,clientInformation:r,refreshToken:a,resource:s,addClientAuthentication:o,fetchFn:i}){var l;let c;let u="refresh_token";if(t){if(c=new URL(t.token_endpoint),t.grant_types_supported&&!t.grant_types_supported.includes(u))throw Error(`Incompatible auth server: does not support grant type ${u}`)}else c=new URL("/token",e);let d=new Headers({"Content-Type":"application/x-www-form-urlencoded"}),m=new URLSearchParams({grant_type:u,refresh_token:a});if(o)o(d,m,e,t);else{let e=null!==(l=null==t?void 0:t.token_endpoint_auth_methods_supported)&&void 0!==l?l:[],a=h(r,e);p(a,r,d,m)}s&&m.set("resource",s.href);let g=await (null!=i?i:fetch)(c,{method:"POST",headers:d,body:m});if(!g.ok)throw await f(g);return n.OAuthTokensSchema.parse({refresh_token:a,...await g.json()})}async function I(e,{metadata:t,clientMetadata:r,fetchFn:a}){let s;if(t){if(!t.registration_endpoint)throw Error("Incompatible auth server: does not support dynamic client registration");s=new URL(t.registration_endpoint)}else s=new URL("/register",e);let o=await (null!=a?a:fetch)(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok)throw await f(o);return n.OAuthClientInformationFullSchema.parse(await o.json())}},{"577f380df1a9847c":"kFXdZ",d1137141d2c4e193:"bgewP",e7f1ee2964d2231b:"4SdXc",aebeafd3a3b920d0:"3Ik5I","404492e758091926":"cWZFH"}],kFXdZ:[function(e,t,r){let a;var s=e("@parcel/transformer-js/src/esmodule-helpers.js");async function o(e){return(await a).getRandomValues(new Uint8Array(e))}async function i(e){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~",r="",a=await o(e);for(let s=0;s<e;s++){let e=a[s]%t.length;r+=t[e]}return r}async function n(e){return await i(e)}async function l(e){let t=await (await a).subtle.digest("SHA-256",new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}async function c(e){if(e||(e=43),e<43||e>128)throw`Expected a length between 43 and 128. Received ${e}.`;let t=await n(e),r=await l(t);return{code_verifier:t,code_challenge:r}}async function u(e,t){let r=await l(e);return r===t}s.defineInteropFlag(r),s.export(r,"generateChallenge",()=>l),s.export(r,"default",()=>c),s.export(r,"verifyChallenge",()=>u),a=globalThis.crypto},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"4SdXc":[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OAuthTokenRevocationRequestSchema=r.OAuthClientRegistrationErrorSchema=r.OAuthClientInformationFullSchema=r.OAuthClientInformationSchema=r.OAuthClientMetadataSchema=r.OAuthErrorResponseSchema=r.OAuthTokensSchema=r.OpenIdProviderDiscoveryMetadataSchema=r.OpenIdProviderMetadataSchema=r.OAuthMetadataSchema=r.OAuthProtectedResourceMetadataSchema=r.SafeUrlSchema=void 0;let a=e("cc196583bd0bcc1e");r.SafeUrlSchema=a.z.string().url().superRefine((e,t)=>{if(!URL.canParse(e))return t.addIssue({code:a.z.ZodIssueCode.custom,message:"URL must be parseable",fatal:!0}),a.z.NEVER}).refine(e=>{let t=new URL(e);return"javascript:"!==t.protocol&&"data:"!==t.protocol&&"vbscript:"!==t.protocol},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),r.OAuthProtectedResourceMetadataSchema=a.z.object({resource:a.z.string().url(),authorization_servers:a.z.array(r.SafeUrlSchema).optional(),jwks_uri:a.z.string().url().optional(),scopes_supported:a.z.array(a.z.string()).optional(),bearer_methods_supported:a.z.array(a.z.string()).optional(),resource_signing_alg_values_supported:a.z.array(a.z.string()).optional(),resource_name:a.z.string().optional(),resource_documentation:a.z.string().optional(),resource_policy_uri:a.z.string().url().optional(),resource_tos_uri:a.z.string().url().optional(),tls_client_certificate_bound_access_tokens:a.z.boolean().optional(),authorization_details_types_supported:a.z.array(a.z.string()).optional(),dpop_signing_alg_values_supported:a.z.array(a.z.string()).optional(),dpop_bound_access_tokens_required:a.z.boolean().optional()}).passthrough(),r.OAuthMetadataSchema=a.z.object({issuer:a.z.string(),authorization_endpoint:r.SafeUrlSchema,token_endpoint:r.SafeUrlSchema,registration_endpoint:r.SafeUrlSchema.optional(),scopes_supported:a.z.array(a.z.string()).optional(),response_types_supported:a.z.array(a.z.string()),response_modes_supported:a.z.array(a.z.string()).optional(),grant_types_supported:a.z.array(a.z.string()).optional(),token_endpoint_auth_methods_supported:a.z.array(a.z.string()).optional(),token_endpoint_auth_signing_alg_values_supported:a.z.array(a.z.string()).optional(),service_documentation:r.SafeUrlSchema.optional(),revocation_endpoint:r.SafeUrlSchema.optional(),revocation_endpoint_auth_methods_supported:a.z.array(a.z.string()).optional(),revocation_endpoint_auth_signing_alg_values_supported:a.z.array(a.z.string()).optional(),introspection_endpoint:a.z.string().optional(),introspection_endpoint_auth_methods_supported:a.z.array(a.z.string()).optional(),introspection_endpoint_auth_signing_alg_values_supported:a.z.array(a.z.string()).optional(),code_challenge_methods_supported:a.z.array(a.z.string()).optional()}).passthrough(),r.OpenIdProviderMetadataSchema=a.z.object({issuer:a.z.string(),authorization_endpoint:r.SafeUrlSchema,token_endpoint:r.SafeUrlSchema,userinfo_endpoint:r.SafeUrlSchema.optional(),jwks_uri:r.SafeUrlSchema,registration_endpoint:r.SafeUrlSchema.optional(),scopes_supported:a.z.array(a.z.string()).optional(),response_types_supported:a.z.array(a.z.string()),response_modes_supported:a.z.array(a.z.string()).optional(),grant_types_supported:a.z.array(a.z.string()).optional(),acr_values_supported:a.z.array(a.z.string()).optional(),subject_types_supported:a.z.array(a.z.string()),id_token_signing_alg_values_supported:a.z.array(a.z.string()),id_token_encryption_alg_values_supported:a.z.array(a.z.string()).optional(),id_token_encryption_enc_values_supported:a.z.array(a.z.string()).optional(),userinfo_signing_alg_values_supported:a.z.array(a.z.string()).optional(),userinfo_encryption_alg_values_supported:a.z.array(a.z.string()).optional(),userinfo_encryption_enc_values_supported:a.z.array(a.z.string()).optional(),request_object_signing_alg_values_supported:a.z.array(a.z.string()).optional(),request_object_encryption_alg_values_supported:a.z.array(a.z.string()).optional(),request_object_encryption_enc_values_supported:a.z.array(a.z.string()).optional(),token_endpoint_auth_methods_supported:a.z.array(a.z.string()).optional(),token_endpoint_auth_signing_alg_values_supported:a.z.array(a.z.string()).optional(),display_values_supported:a.z.array(a.z.string()).optional(),claim_types_supported:a.z.array(a.z.string()).optional(),claims_supported:a.z.array(a.z.string()).optional(),service_documentation:a.z.string().optional(),claims_locales_supported:a.z.array(a.z.string()).optional(),ui_locales_supported:a.z.array(a.z.string()).optional(),claims_parameter_supported:a.z.boolean().optional(),request_parameter_supported:a.z.boolean().optional(),request_uri_parameter_supported:a.z.boolean().optional(),require_request_uri_registration:a.z.boolean().optional(),op_policy_uri:r.SafeUrlSchema.optional(),op_tos_uri:r.SafeUrlSchema.optional()}).passthrough(),r.OpenIdProviderDiscoveryMetadataSchema=r.OpenIdProviderMetadataSchema.merge(r.OAuthMetadataSchema.pick({code_challenge_methods_supported:!0})),r.OAuthTokensSchema=a.z.object({access_token:a.z.string(),id_token:a.z.string().optional(),token_type:a.z.string(),expires_in:a.z.number().optional(),scope:a.z.string().optional(),refresh_token:a.z.string().optional()}).strip(),r.OAuthErrorResponseSchema=a.z.object({error:a.z.string(),error_description:a.z.string().optional(),error_uri:a.z.string().optional()}),r.OAuthClientMetadataSchema=a.z.object({redirect_uris:a.z.array(r.SafeUrlSchema),token_endpoint_auth_method:a.z.string().optional(),grant_types:a.z.array(a.z.string()).optional(),response_types:a.z.array(a.z.string()).optional(),client_name:a.z.string().optional(),client_uri:r.SafeUrlSchema.optional(),logo_uri:r.SafeUrlSchema.optional(),scope:a.z.string().optional(),contacts:a.z.array(a.z.string()).optional(),tos_uri:r.SafeUrlSchema.optional(),policy_uri:a.z.string().optional(),jwks_uri:r.SafeUrlSchema.optional(),jwks:a.z.any().optional(),software_id:a.z.string().optional(),software_version:a.z.string().optional(),software_statement:a.z.string().optional()}).strip(),r.OAuthClientInformationSchema=a.z.object({client_id:a.z.string(),client_secret:a.z.string().optional(),client_id_issued_at:a.z.number().optional(),client_secret_expires_at:a.z.number().optional()}).strip(),r.OAuthClientInformationFullSchema=r.OAuthClientMetadataSchema.merge(r.OAuthClientInformationSchema),r.OAuthClientRegistrationErrorSchema=a.z.object({error:a.z.string(),error_description:a.z.string().optional()}).strip(),r.OAuthTokenRevocationRequestSchema=a.z.object({token:a.z.string(),token_type_hint:a.z.string().optional()}).strip()},{cc196583bd0bcc1e:"3ubEv"}],"3Ik5I":[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resourceUrlFromServerUrl=function(e){let t=new URL("string"==typeof e?e:e.href);return t.hash="",t},r.checkResourceAllowed=function({requestedResource:e,configuredResource:t}){let r=new URL("string"==typeof e?e:e.href),a=new URL("string"==typeof t?t:t.href);if(r.origin!==a.origin||r.pathname.length<a.pathname.length)return!1;let s=r.pathname.endsWith("/")?r.pathname:r.pathname+"/",o=a.pathname.endsWith("/")?a.pathname:a.pathname+"/";return s.startsWith(o)}},{}],cWZFH:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OAUTH_ERRORS=r.CustomOAuthError=r.InsufficientScopeError=r.InvalidClientMetadataError=r.TooManyRequestsError=r.MethodNotAllowedError=r.InvalidTokenError=r.UnsupportedTokenTypeError=r.UnsupportedResponseTypeError=r.TemporarilyUnavailableError=r.ServerError=r.AccessDeniedError=r.InvalidScopeError=r.UnsupportedGrantTypeError=r.UnauthorizedClientError=r.InvalidGrantError=r.InvalidClientError=r.InvalidRequestError=r.OAuthError=void 0;class a extends Error{constructor(e,t){super(e),this.errorUri=t,this.name=this.constructor.name}toResponseObject(){let e={error:this.errorCode,error_description:this.message};return this.errorUri&&(e.error_uri=this.errorUri),e}get errorCode(){return this.constructor.errorCode}}r.OAuthError=a;class s extends a{}r.InvalidRequestError=s,s.errorCode="invalid_request";class o extends a{}r.InvalidClientError=o,o.errorCode="invalid_client";class i extends a{}r.InvalidGrantError=i,i.errorCode="invalid_grant";class n extends a{}r.UnauthorizedClientError=n,n.errorCode="unauthorized_client";class l extends a{}r.UnsupportedGrantTypeError=l,l.errorCode="unsupported_grant_type";class c extends a{}r.InvalidScopeError=c,c.errorCode="invalid_scope";class u extends a{}r.AccessDeniedError=u,u.errorCode="access_denied";class d extends a{}r.ServerError=d,d.errorCode="server_error";class h extends a{}r.TemporarilyUnavailableError=h,h.errorCode="temporarily_unavailable";class p extends a{}r.UnsupportedResponseTypeError=p,p.errorCode="unsupported_response_type";class f extends a{}r.UnsupportedTokenTypeError=f,f.errorCode="unsupported_token_type";class m extends a{}r.InvalidTokenError=m,m.errorCode="invalid_token";class g extends a{}r.MethodNotAllowedError=g,g.errorCode="method_not_allowed";class v extends a{}r.TooManyRequestsError=v,v.errorCode="too_many_requests";class y extends a{}r.InvalidClientMetadataError=y,y.errorCode="invalid_client_metadata";class _ extends a{}r.InsufficientScopeError=_,_.errorCode="insufficient_scope",r.CustomOAuthError=class extends a{constructor(e,t,r){super(t,r),this.customErrorCode=e}get errorCode(){return this.customErrorCode}},r.OAUTH_ERRORS={[s.errorCode]:s,[o.errorCode]:o,[i.errorCode]:i,[n.errorCode]:n,[l.errorCode]:l,[c.errorCode]:c,[u.errorCode]:u,[d.errorCode]:d,[h.errorCode]:h,[p.errorCode]:p,[f.errorCode]:f,[m.errorCode]:m,[g.errorCode]:g,[v.errorCode]:v,[y.errorCode]:y,[_.errorCode]:_}},{}],"5M9vm":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"McpSSEClient",()=>o);var s=e("../constants");class o{constructor(e,t,r){this.sessionId=null,this.sseSessionId=null,this.messageEndpoint=null,this.eventSource=null,this.reconnectAttempts=0,this.reconnectTimeout=null,this.messageId=0,this.pendingRequests=new Map,this.currentStatus={state:"disconnected"},this.sseUrl=e,this.accessToken=t,this.onStatusChange=r.onStatusChange,this.onMessage=r.onMessage}async connect(){this.updateStatus("connecting");try{await this.connectWithFetch()}catch(e){console.error("[NotionMCP] Connection error:",e),this.updateStatus("error",e instanceof Error?e.message:"Connection failed"),this.scheduleReconnect()}}async connectWithFetch(){console.log("[NotionMCP] Connecting to SSE endpoint:",this.sseUrl),console.log("[NotionMCP] Using access token (first 20 chars):",this.accessToken.substring(0,20)+"...");let e=await fetch(this.sseUrl,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`,Accept:"text/event-stream, application/json","Cache-Control":"no-cache","MCP-Protocol-Version":"2025-06-18"}});if(console.log("[NotionMCP] SSE response status:",e.status),console.log("[NotionMCP] SSE response headers:",Object.fromEntries(e.headers.entries())),!e.ok){let t=await e.text();if(console.error("[NotionMCP] SSE connection failed:",e.status,t),401===e.status){let e;try{e=JSON.parse(t)}catch{e={error:"unknown",error_description:t}}if("invalid_token"===e.error&&e.error_description?.includes("Invalid token format"))throw this.updateStatus("invalid-token","Invalid token format - please re-authenticate"),Error(`Invalid token format: ${e.error_description}`);throw this.updateStatus("needs-auth","Token expired or invalid"),Error(`Authentication required: ${t}`)}throw Error(`HTTP ${e.status}: ${t}`)}if(!e.body)throw Error("Response body is null");this.reconnectAttempts=0,this.updateStatus("connected"),this.processStream(e.body)}async processStream(e){let t=e.getReader(),r=new TextDecoder,a="",s=null;try{for(;;){let{done:e,value:o}=await t.read();if(e){console.log("[NotionMCP] Stream ended");break}a+=r.decode(o,{stream:!0});let i=a.split("\n");for(let e of(a=i.pop()||"",i)){if(e.startsWith("event: ")){s=e.slice(7).trim(),console.log("[NotionMCP] SSE event type:",s);continue}if(e.startsWith("data: ")){let t=e.slice(6).trim();if("[DONE]"===t)continue;if("endpoint"===s){this.messageEndpoint=t;let e=t.match(/sessionId=([a-f0-9-]+)/);e&&(this.sseSessionId=e[1]),console.log("[NotionMCP] Message endpoint received:",this.messageEndpoint),console.log("[NotionMCP] SSE Session ID:",this.sseSessionId),s=null;continue}if(!t||!t.startsWith("{")&&!t.startsWith("[")){console.log("[NotionMCP] Non-JSON SSE data:",t),s=null;continue}try{let e=JSON.parse(t);this.handleMessage(e)}catch(e){console.error("[NotionMCP] Failed to parse message:",e,"Data:",t)}s=null}}}}catch(e){console.error("[NotionMCP] Stream error:",e)}finally{t.releaseLock(),this.scheduleReconnect()}}handleMessage(e){if(this.onMessage(e),e.id&&this.pendingRequests.has(e.id)){let t=this.pendingRequests.get(e.id);this.pendingRequests.delete(e.id),e.error?t.reject(Error(e.error.message)):t.resolve(e.result)}}getPostUrl(){if(!this.messageEndpoint)throw Error("Message endpoint not available. SSE connection may not be established.");if(this.messageEndpoint.startsWith("/")){let e=new URL(this.sseUrl);return`${e.origin}${this.messageEndpoint}`}return this.messageEndpoint}async sendNotification(e,t){let r={Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json",Accept:"application/json, text/event-stream","MCP-Protocol-Version":"2025-06-18"};this.sessionId&&(r["Mcp-Session-Id"]=this.sessionId);let a=this.getPostUrl();console.log("[NotionMCP] Sending notification to:",a);let s=await fetch(a,{method:"POST",headers:r,body:JSON.stringify({jsonrpc:"2.0",method:e,params:t})});if(!s.ok){let e=await s.text();throw console.error("[NotionMCP] Notification failed:",s.status,e),Error(`HTTP ${s.status}: ${e}`)}console.log("[NotionMCP] Notification sent:",e)}async sendRequest(e,t,r){let a=++this.messageId,s={jsonrpc:"2.0",id:a,method:e,params:t};return new Promise((t,r)=>{this.pendingRequests.set(a,{resolve:t,reject:r});let o={Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json",Accept:"application/json, text/event-stream","MCP-Protocol-Version":"2025-06-18"},i="initialize"===e;!i&&this.sessionId&&(o["Mcp-Session-Id"]=this.sessionId);let n=this.getPostUrl();console.log("[NotionMCP] Sending request to:",n,"Method:",e),fetch(n,{method:"POST",headers:o,body:JSON.stringify(s)}).then(async e=>{if(!e.ok){let t=await e.text();throw console.error("[NotionMCP] Request failed:",e.status,t),Error(`HTTP ${e.status}: ${t}`)}if(i){let t=e.headers.get("Mcp-Session-Id");t&&(this.sessionId=t,console.log("[NotionMCP] Session ID from init response:",this.sessionId))}let t=e.headers.get("content-type")||"";if(t.includes("text/event-stream")){let t=await e.text(),r=t.split("\n");for(let e of r)if(e.startsWith("data: ")){let t=e.slice(6).trim();if(t&&(t.startsWith("{")||t.startsWith("[")))try{let e=JSON.parse(t);if(e.id===a){this.handleMessage(e);return}}catch(e){console.error("[NotionMCP] Failed to parse SSE data:",e)}}}else if(t.includes("application/json")){let t=await e.json();t.id===a&&this.handleMessage(t)}else throw Error(`Unexpected content type: ${t}`)}).catch(e=>{this.pendingRequests.delete(a),r(e)}),setTimeout(()=>{this.pendingRequests.has(a)&&(this.pendingRequests.delete(a),r(Error("Request timeout")))},3e4)})}async waitForEndpoint(e=1e4){let t=Date.now();for(;!this.messageEndpoint;){if(Date.now()-t>e)throw Error("Timeout waiting for message endpoint from SSE");await new Promise(e=>setTimeout(e,100))}}async initialize(){console.log("[NotionMCP] Waiting for message endpoint from SSE..."),await this.waitForEndpoint(),console.log("[NotionMCP] Message endpoint ready, sending initialize request");let e=await this.sendRequest("initialize",{protocolVersion:"2025-06-18",capabilities:{experimental:{},roots:{listChanged:!0}},clientInfo:{name:"chrome-ai-extension",version:"0.0.1"}});console.log("[NotionMCP] Initialized:",e),this.sessionId?console.log("[NotionMCP] Session established:",this.sessionId):console.log("[NotionMCP] Server does not use session management"),await this.sendNotification("notifications/initialized"),await this.fetchTools()}async fetchTools(){try{let e=await this.sendRequest("tools/list");this.currentStatus.tools=e.tools,this.onStatusChange(this.currentStatus),console.log("[NotionMCP] Tools:",e.tools)}catch(e){console.error("[NotionMCP] Failed to fetch tools:",e)}}async callTool(e,t){return this.sendRequest("tools/call",{name:e,arguments:t})}updateStatus(e,t){this.currentStatus={...this.currentStatus,state:e,error:t,lastConnected:"connected"===e?Date.now():this.currentStatus.lastConnected},this.onStatusChange(this.currentStatus)}scheduleReconnect(){if(this.reconnectTimeout)return;let e=Math.min(s.NOTION_CONFIG.RECONNECT_MIN_DELAY*Math.pow(s.NOTION_CONFIG.RECONNECT_MULTIPLIER,this.reconnectAttempts),s.NOTION_CONFIG.RECONNECT_MAX_DELAY);this.reconnectAttempts++,this.updateStatus("connecting",`Reconnecting in ${Math.round(e/1e3)}s...`),this.reconnectTimeout=window.setTimeout(()=>{this.reconnectTimeout=null,this.connect()},e)}disconnect(){for(let[e,t]of(this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.eventSource&&(this.eventSource.close(),this.eventSource=null),this.pendingRequests))t.reject(Error("Disconnected"));this.pendingRequests.clear(),this.updateStatus("disconnected")}getStatus(){return this.currentStatus}}},{"../constants":"4dqgY","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"4dqgY":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHROME_AI_LIMITS",()=>s),a.export(r,"COPILOT_RUNTIME_URL",()=>o),a.export(r,"COPILOT_RUNTIME_URL_DEFAULT",()=>i),a.export(r,"NOTION_CONFIG",()=>n);let s={MAX_TOKENS_PER_PROMPT:1024,MAX_TOKENS_PER_SESSION:4096,RECOMMENDED_CHUNK_TOKENS:800,MAX_OUTPUT_TOKENS:1024},o=" http://localhost:3000/api",i=" http://localhost:3000/",n={OAUTH_REDIRECT_URI:"https://finfnkhchelfofloocidpepacfbajmlh.chromiumapp.org/",OAUTH_REGISTER_URL:"https://mcp.notion.com/register",OAUTH_AUTH_URL:"https://mcp.notion.com/authorize",OAUTH_TOKEN_URL:"https://mcp.notion.com/token",OAUTH_INTROSPECT_URL:"https://api.notion.com/v1/oauth/introspect",MCP_RESOURCE:"https://mcp.notion.com/",MCP_SSE_URL:"https://mcp.notion.com/sse",STORAGE_KEY_PREFIX:"oauth.notion.mcp",RECONNECT_MIN_DELAY:500,RECONNECT_MAX_DELAY:3e4,RECONNECT_MULTIPLIER:2}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3VTFa":[function(e,t,r){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"registerDynamicClient",()=>i),a.export(r,"generateState",()=>n),a.export(r,"createCodeVerifier",()=>l),a.export(r,"createCodeChallenge",()=>c),a.export(r,"buildAuthUrl",()=>d),a.export(r,"exchangeCodeForTokens",()=>h),a.export(r,"refreshAccessToken",()=>p),a.export(r,"isTokenExpired",()=>f),a.export(r,"storeTokens",()=>m),a.export(r,"getStoredTokens",()=>g),a.export(r,"clearTokens",()=>v),a.export(r,"storeClientCredentials",()=>y),a.export(r,"getStoredClientCredentials",()=>_),a.export(r,"clearClientCredentials",()=>b);var s=e("../constants"),o=e("8593971f56fb0efb").Buffer;async function i(e){let t={client_name:"Chrome AI Extension - Notion MCP",redirect_uris:[e],grant_types:["authorization_code","refresh_token"],response_types:["code"],scope:"read write",token_endpoint_auth_method:"client_secret_basic"};console.log("[OAuth] Registering dynamic client with payload:",t);let r=await fetch(s.NOTION_CONFIG.OAUTH_REGISTER_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.text();throw Error(`Client registration failed: ${r.status} ${e}`)}let a=await r.json();return console.log("[OAuth] Client registered successfully:",{client_id:a.client_id,redirect_uris:a.redirect_uris}),{client_id:a.client_id,client_secret:a.client_secret,redirect_uris:a.redirect_uris,client_name:a.client_name,grant_types:a.grant_types,response_types:a.response_types,token_endpoint_auth_method:a.token_endpoint_auth_method,registration_client_uri:a.registration_client_uri,client_id_issued_at:a.client_id_issued_at,created_at:Date.now()}}function n(){return function(e){let t=new Uint8Array(16);return crypto.getRandomValues(t),Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}(0)}function l(){let e=new Uint8Array(32);return crypto.getRandomValues(e),u(e)}async function c(e){let t=new TextEncoder,r=t.encode(e),a=await crypto.subtle.digest("SHA-256",r);return u(new Uint8Array(a))}function u(e){let t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function d(e,t,r){let a=new URLSearchParams({response_type:"code",client_id:e,redirect_uri:t,owner:"user",state:r});return`${s.NOTION_CONFIG.OAUTH_AUTH_URL}?${a.toString()}`}async function h(e,t,r,a){let i=o.from(`${t}:${r}`).toString("base64");console.log("[OAuth] Exchange code for tokens with client:",t);let n=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:a});console.log("[OAuth] Exchange code for tokens body (urlencoded):",n.toString()),console.log("[OAuth] Exchange code for tokens URL:",s.NOTION_CONFIG.OAUTH_TOKEN_URL);let l=await fetch(s.NOTION_CONFIG.OAUTH_TOKEN_URL,{method:"POST",headers:{Authorization:`Basic ${i}`,"Content-Type":"application/x-www-form-urlencoded","Notion-Version":"2022-06-28"},body:n.toString()});if(!l.ok){let e=await l.text();throw Error(`Token exchange failed: ${l.status} ${e}`)}let c=await l.json(),u=c.expires_in||3600,d=Date.now()+1e3*u;return{access_token:c.access_token,refresh_token:c.refresh_token,token_type:c.token_type||"Bearer",expires_at:d,workspace_id:c.workspace_id,workspace_name:c.workspace_name,workspace_icon:c.workspace_icon,owner:c.owner,bot_id:c.bot_id,duplicated_template_id:c.duplicated_template_id,created_at:Date.now()}}async function p(e,t,r){let a=o.from(`${t}:${r}`).toString("base64"),i=new URLSearchParams({grant_type:"refresh_token",refresh_token:e}),n=await fetch(s.NOTION_CONFIG.OAUTH_TOKEN_URL,{method:"POST",headers:{Authorization:`Basic ${a}`,"Content-Type":"application/x-www-form-urlencoded","Notion-Version":"2022-06-28"},body:i.toString()});if(!n.ok){let e=await n.text();throw Error(`Token refresh failed: ${n.status} ${e}`)}let l=await n.json(),c=l.expires_in||3600,u=Date.now()+1e3*c;return{access_token:l.access_token,refresh_token:l.refresh_token||e,token_type:l.token_type||"Bearer",expires_at:u,workspace_id:l.workspace_id,workspace_name:l.workspace_name,workspace_icon:l.workspace_icon,owner:l.owner,created_at:Date.now()}}function f(e){let t=Date.now();return e.expires_at<=t+3e5}async function m(e){await chrome.storage.local.set({[`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.tokens`]:e})}async function g(){let e=await chrome.storage.local.get(`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.tokens`);return e[`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.tokens`]||null}async function v(){await chrome.storage.local.remove(`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.tokens`)}async function y(e){await chrome.storage.local.set({[`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.client`]:e})}async function _(){let e=await chrome.storage.local.get(`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.client`);return e[`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.client`]||null}async function b(){await chrome.storage.local.remove(`${s.NOTION_CONFIG.STORAGE_KEY_PREFIX}.client`)}},{"8593971f56fb0efb":"8Ko5i","../constants":"4dqgY","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8Ko5i":[function(e,t,r){var a,s,o=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of l(t))u.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e},p=(e,t,r)=>(r=null!=e?o(c(e)):{},h(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),f=d(e=>{e.byteLength=function(e){var t=n(e),r=t[0],a=t[1];return(r+a)*3/4-a},e.toByteArray=function(e){var t,r,a=n(e),i=a[0],l=a[1],c=new o((i+l)*3/4-l),u=0,d=l>0?i-4:i;for(r=0;r<d;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===l&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},e.fromByteArray=function(e){for(var t,r=e.length,s=r%3,o=[],i=0,n=r-s;i<n;i+=16383)o.push(function(e,t,r){for(var s,o=[],i=t;i<r;i+=3)o.push(a[(s=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]))>>18&63]+a[s>>12&63]+a[s>>6&63]+a[63&s]);return o.join("")}(e,i,i+16383>n?n:i+16383));return 1===s?o.push(a[(t=e[r-1])>>2]+a[t<<4&63]+"=="):2===s&&o.push(a[(t=(e[r-2]<<8)+e[r-1])>>10]+a[t>>4&63]+a[t<<2&63]+"="),o.join("")};var t,r,a=[],s=[],o="u">typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=i.length;t<r;++t)a[t]=i[t],s[i.charCodeAt(t)]=t;function n(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var a=r===t?0:4-r%4;return[r,a]}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}),m=d(e=>{e.read=function(e,t,r,a,s){var o,i,n=8*s-a-1,l=(1<<n)-1,c=l>>1,u=-7,d=r?s-1:0,h=r?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=h,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return i?NaN:(p?-1:1)*(1/0);i+=Math.pow(2,a),o-=c}return(p?-1:1)*i*Math.pow(2,o-a)},e.write=function(e,t,r,a,s,o){var i,n,l,c=8*o-s-1,u=(1<<c)-1,d=u>>1,h=23===s?5960464477539062e-23:0,p=a?0:o-1,f=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(n=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(i++,l/=2),i+d>=u?(n=0,i=u):i+d>=1?(n=(t*l-1)*Math.pow(2,s),i+=d):(n=t*Math.pow(2,d-1)*Math.pow(2,s),i=0));s>=8;e[r+p]=255&n,p+=f,n/=256,s-=8);for(i=i<<s|n,c+=s;c>0;e[r+p]=255&i,p+=f,i/=256,c-=8);e[r+p-f]|=128*m}}),g=d(e=>{var t=f(),r=m(),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return i(e,t,r)}function i(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|h(e,t),a=s(r),i=a.write(e,t);return i!==r&&(a=a.slice(0,i)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(L(e,Uint8Array)){let t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(L(e,SharedArrayBuffer)||e&&L(e.buffer,SharedArrayBuffer)))return u(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return o.from(a,t,r);let i=function(e){var t;if(o.isBuffer(e)){let t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(i)return i;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function n(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return n(e),s(e<0?0:0|d(e))}function c(e){let t=e.length<0?0:0|d(e.length),r=s(t);for(let a=0;a<t;a+=1)r[a]=255&e[a];return r}function u(e,t,r){let a;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(a=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),a}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===r)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(s)return a?-1:N(e).length;t=(""+t).toLowerCase(),s=!0}}function p(e,r,a){let s=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===a||a>this.length)&&(a=this.length),a<=0)||(a>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let a=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);let s="";for(let a=t;a<r;++a)s+=D[e[a]];return s}(this,r,a);case"utf8":case"utf-8":return _(this,r,a);case"ascii":return function(e,t,r){let a="";r=Math.min(e.length,r);for(let s=t;s<r;++s)a+=String.fromCharCode(127&e[s]);return a}(this,r,a);case"latin1":case"binary":return function(e,t,r){let a="";r=Math.min(e.length,r);for(let s=t;s<r;++s)a+=String.fromCharCode(e[s]);return a}(this,r,a);case"base64":var o,i;return o=r,i=a,0===o&&i===this.length?t.fromByteArray(this):t.fromByteArray(this.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let a=e.slice(t,r),s="";for(let e=0;e<a.length-1;e+=2)s+=String.fromCharCode(a[e]+256*a[e+1]);return s}(this,r,a);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,r){let a=e[t];e[t]=e[r],e[r]=a}function v(e,t,r,a,s){var i;if(0===e.length)return -1;if("string"==typeof r?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(i=r=+r)!=i&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return -1;r=e.length-1}else if(r<0){if(!s)return -1;r=0}if("string"==typeof t&&(t=o.from(t,a)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,a,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,a,s);throw TypeError("val must be string, number or Buffer")}function y(e,t,r,a,s){let o,i=1,n=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return -1;i=2,n/=2,l/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(s){let a=-1;for(o=r;o<n;o++)if(c(e,o)===c(t,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===l)return a*i}else -1!==a&&(o-=o-a),a=-1}else for(r+l>n&&(r=n-l),o=r;o>=0;o--){let r=!0;for(let a=0;a<l;a++)if(c(e,o+a)!==c(t,a)){r=!1;break}if(r)return o}return -1}function _(e,t,r){r=Math.min(e.length,r);let a=[],s=t;for(;s<r;){let t=e[s],o=null,i=t>239?4:t>223?3:t>191?2:1;if(s+i<=r){let r,a,n,l;switch(i){case 1:t<128&&(o=t);break;case 2:(192&(r=e[s+1]))==128&&(l=(31&t)<<6|63&r)>127&&(o=l);break;case 3:r=e[s+1],a=e[s+2],(192&r)==128&&(192&a)==128&&(l=(15&t)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=e[s+1],a=e[s+2],n=e[s+3],(192&r)==128&&(192&a)==128&&(192&n)==128&&(l=(15&t)<<18|(63&r)<<12|(63&a)<<6|63&n)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,i=1):o>65535&&(o-=65536,a.push(o>>>10&1023|55296),o=56320|1023&o),a.push(o),s+=i}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",a=0;for(;a<t;)r+=String.fromCharCode.apply(String,e.slice(a,a+=4096));return r}(a)}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function S(e,t,r,a,s,i){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw RangeError('"value" argument is out of bounds');if(r+a>e.length)throw RangeError("Index out of range")}function E(e,t,r,a,s){k(t,a,s,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,r}function w(e,t,r,a,s){k(t,a,s,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=i,i>>=8,e[r+2]=i,i>>=8,e[r+1]=i,i>>=8,e[r]=i,r+8}function P(e,t,r,a,s,o){if(r+a>e.length||r<0)throw RangeError("Index out of range")}function R(e,t,a,s,o){return t=+t,a>>>=0,o||P(e,t,a,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,a,s,23,4),a+4}function x(e,t,a,s,o){return t=+t,a>>>=0,o||P(e,t,a,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,a,s,52,8),a+8}e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return i(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return n(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(L(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,a=t.length;for(let s=0,o=Math.min(r,a);s<o;++s)if(e[s]!==t[s]){r=e[s],a=t[s];break}return r<a?-1:a<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let a=o.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){let t=e[r];if(L(t,Uint8Array))s+t.length>a.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(a,s)):Uint8Array.prototype.set.call(a,t,s);else if(o.isBuffer(t))t.copy(a,s);else throw TypeError('"list" argument must be an Array of Buffers');s+=t.length}return a},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?_(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},a&&(o.prototype[a]=o.prototype.inspect),o.prototype.compare=function(e,t,r,a,s){if(L(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===a&&(a=0),void 0===s&&(s=this.length),t<0||r>e.length||a<0||s>this.length)throw RangeError("out of range index");if(a>=s&&t>=r)return 0;if(a>=s)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,a>>>=0,s>>>=0,this===e)return 0;let i=s-a,n=r-t,l=Math.min(i,n),c=this.slice(a,s),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){i=c[e],n=u[e];break}return i<n?-1:n<i?1:0},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},o.prototype.write=function(e,t,r,a){var s,o,i,n,l,c,u,d;if(void 0===t)a="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)a=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===a&&(a="utf8")):(a=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let p=!1;for(;;)switch(a){case"hex":return function(e,t,r,a){let s;r=Number(r)||0;let o=e.length-r;a?(a=Number(a))>o&&(a=o):a=o;let i=t.length;for(a>i/2&&(a=i/2),s=0;s<a;++s){let a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return s=t,o=r,U(N(e,this.length-s),this,s,o);case"ascii":case"latin1":case"binary":return i=t,n=r,U(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,i,n);case"base64":return l=t,c=r,U(j(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,U(function(e,t){let r,a,s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)a=(r=e.charCodeAt(o))>>8,s.push(r%256),s.push(a);return s}(e,this.length-u),this,u,d);default:if(p)throw TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),p=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let a=this.subarray(e,t);return Object.setPrototypeOf(a,o.prototype),a},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let a=this[e],s=1,o=0;for(;++o<t&&(s*=256);)a+=this[e+o]*s;return a},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let a=this[e+--t],s=1;for(;t>0&&(s*=256);)a+=this[e+--t]*s;return a},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);let a=t+256*this[++e]+65536*this[++e]+16777216*this[++e],s=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(a)+(BigInt(s)<<BigInt(32))}),o.prototype.readBigUInt64BE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);let a=16777216*t+65536*this[++e]+256*this[++e]+this[++e],s=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(a)<<BigInt(32))+BigInt(s)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let a=this[e],s=1,o=0;for(;++o<t&&(s*=256);)a+=this[e+o]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let a=t,s=1,o=this[e+--a];for(;a>0&&(s*=256);)o+=this[e+--a]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&z(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),o.prototype.readBigInt64BE=$(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&z(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,a){if(e=+e,t>>>=0,r>>>=0,!a){let a=Math.pow(2,8*r)-1;S(this,e,t,r,a,0)}let s=1,o=0;for(this[t]=255&e;++o<r&&(s*=256);)this[t+o]=e/s&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,a){if(e=+e,t>>>=0,r>>>=0,!a){let a=Math.pow(2,8*r)-1;S(this,e,t,r,a,0)}let s=r-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=$(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=$(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,a){if(e=+e,t>>>=0,!a){let a=Math.pow(2,8*r-1);S(this,e,t,r,a-1,-a)}let s=0,o=1,i=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===i&&0!==this[t+s-1]&&(i=1),this[t+s]=(e/o>>0)-i&255;return t+r},o.prototype.writeIntBE=function(e,t,r,a){if(e=+e,t>>>=0,!a){let a=Math.pow(2,8*r-1);S(this,e,t,r,a-1,-a)}let s=r-1,o=1,i=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===i&&0!==this[t+s+1]&&(i=1),this[t+s]=(e/o>>0)-i&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=$(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=$(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return x(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return x(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,a){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<r&&(a=r),a===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(a<0)throw RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-r&&(a=e.length-t+r);let s=a-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,a):Uint8Array.prototype.set.call(e,this.subarray(r,a),t),s},o.prototype.fill=function(e,t,r,a){let s;if("string"==typeof e){if("string"==typeof t?(a=t,t=0,r=this.length):"string"==typeof r&&(a=r,r=this.length),void 0!==a&&"string"!=typeof a)throw TypeError("encoding must be a string");if("string"==typeof a&&!o.isEncoding(a))throw TypeError("Unknown encoding: "+a);if(1===e.length){let t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{let i=o.isBuffer(e)?e:o.from(e,a),n=i.length;if(0===n)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=i[s%n]}return this};var C={};function I(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function T(e){let t="",r=e.length,a="-"===e[0]?1:0;for(;r>=a+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function k(e,t,r,a,s,o){if(e>r||e<t){let a="bigint"==typeof t?"n":"",s;throw s=o>3?0===t||t===BigInt(0)?">= 0".concat(a," and < 2").concat(a," ** ").concat((o+1)*8).concat(a):">= -(2".concat(a," ** ").concat((o+1)*8-1).concat(a,") and < 2 ** ")+"".concat((o+1)*8-1).concat(a):">= ".concat(t).concat(a," and <= ").concat(r).concat(a),new C.ERR_OUT_OF_RANGE("value",s,e)}O(s,"offset"),(void 0===a[s]||void 0===a[s+o])&&z(s,a.length-(o+1))}function O(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){throw Math.floor(e)!==e?(O(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new C.ERR_BUFFER_OUT_OF_BOUNDS:new C.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}I("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),I("ERR_OUT_OF_RANGE",function(e,t,r){let a='The value of "'.concat(e,'" is out of range.'),s=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?s=T(String(r)):"bigint"==typeof r&&(s=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(s=T(s)),s+="n"),a+=" It must be ".concat(t,". Received ").concat(s)},RangeError);var A=/[^+/0-9A-Za-z-_]/g;function N(e,t){t=t||1/0;let r,a=e.length,s=null,o=[];for(let i=0;i<a;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!s){if(r>56319||i+1===a){(t-=3)>-1&&o.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function j(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,a){let s;for(s=0;s<a&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var D=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let a=16*r;for(let s=0;s<16;++s)t[a+s]=e[r]+e[s]}return t}();function $(e){return typeof BigInt>"u"?F:e}function F(){throw Error("BigInt not supported")}}),v={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(v,{default:()=>_}),t.exports=h(i({},"__esModule",{value:!0}),v);var y=p(g());a=p(g()),s=t.exports,h(v,a,"default"),s&&h(s,a,"default");var _=y.default;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/},{}]},["kgW6q"],"kgW6q","parcelRequirec096"),globalThis.define=t;